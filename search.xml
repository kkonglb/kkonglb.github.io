<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>AtCoder Beginner Contest 377</title>
    <url>/2024/11/29/AtCoder%20Beginner%20Contest%20377/</url>
    <content><![CDATA[<h1 id="AtCoder-Beginner-Contest-377"><a href="#AtCoder-Beginner-Contest-377" class="headerlink" title="AtCoder Beginner Contest 377"></a>AtCoder Beginner Contest 377</h1><h2 id="D-Many-Segments-2"><a href="#D-Many-Segments-2" class="headerlink" title="D - Many Segments 2"></a>D - Many Segments 2</h2><p><a href="https://atcoder.jp/contests/abc377/tasks/abc377_d">https://atcoder.jp/contests/abc377/tasks/abc377_d</a></p>
<p>åˆ›å»ºä¸€ä¸ªdpæ•°ç»„ï¼Œdp[i]ä¸ºç¬¬iä¸ªä½ç½®å³è¾¹ç¬¬ä¸€ä¸ªåŒºé—´çš„å³è¾¹ç•Œã€‚é¢˜ä¸­ç»™äº†nç»„lå’Œrï¼Œå¯¹äºlæ¥è¯´,dp[l]&#x3D;r;å¯¹äºå…¶ä»–ä½ç½®æ¥è¯´ï¼Œä»å³å¾€å·¦ä¼ é€’çŠ¶æ€ï¼Œdp[i]&#x3D;min(dp[i],dp[i+1])ï¼Œç„¶åå¯¹äºæ¯ä¸€ä¸ªä½ç½®læ¥è¯´ï¼Œræ‰€èƒ½åˆ°è¾¾çš„æœ€å³è¾¹çš„ä½ç½®å°±æ˜¯dp[l]-1ï¼Œæ‰€ä»¥å¯¹äºæ¯ä¸€ä¸ªlæ¥è¯´ï¼Œæœ‰dp[l]-lä¸ªåŒºé—´ã€‚</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">using</span> u32 = <span class="type">unsigned</span>;</span><br><span class="line"><span class="meta">#<span class="keyword">define</span> i128 __int128;</span></span><br><span class="line"><span class="keyword">using</span> ll = <span class="type">long</span> <span class="type">long</span>;</span><br><span class="line"><span class="comment">//#define int ll</span></span><br><span class="line"><span class="keyword">using</span> u64 = <span class="type">unsigned</span> <span class="type">long</span> <span class="type">long</span>;</span><br><span class="line"><span class="type">const</span> ll inf = <span class="number">2147483647</span>;</span><br><span class="line"><span class="type">const</span> ll INF = <span class="number">1e18</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">signed</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    ios::<span class="built_in">sync_with_stdio</span>(<span class="literal">false</span>);</span><br><span class="line">    cin.<span class="built_in">tie</span>(<span class="literal">nullptr</span>);</span><br><span class="line">    <span class="type">int</span> n,m;</span><br><span class="line">    cin&gt;&gt;n&gt;&gt;m;</span><br><span class="line">    vector&lt;<span class="type">int</span>&gt;<span class="built_in">dp</span>(m<span class="number">+1</span>,m<span class="number">+1</span>);</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="type">int</span> l,r;</span><br><span class="line">        cin&gt;&gt;l&gt;&gt;r;</span><br><span class="line">        dp[l]=<span class="built_in">min</span>(dp[l],r);</span><br><span class="line">    &#125;    </span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=m<span class="number">-1</span>;i&gt;=<span class="number">1</span>;i--)</span><br><span class="line">    &#123;</span><br><span class="line">        dp[i]=<span class="built_in">min</span>(dp[i],dp[i<span class="number">+1</span>]);</span><br><span class="line">    &#125;</span><br><span class="line">    ll cnt=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=m;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        cnt+=(dp[i]-i);</span><br><span class="line">    &#125;</span><br><span class="line">    cout&lt;&lt;cnt&lt;&lt;<span class="string">&#x27;\n&#x27;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="E-Permute-K-times-2"><a href="#E-Permute-K-times-2" class="headerlink" title="E - Permute K times 2"></a>E - Permute K times 2</h2><p><a href="https://atcoder.jp/contests/abc377/tasks/abc377_e">https://atcoder.jp/contests/abc377/tasks/abc377_e</a></p>
<p>åŸå§‹ç½®æ¢æ˜¯A,</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">using</span> u32 = <span class="type">unsigned</span>;</span><br><span class="line"><span class="meta">#<span class="keyword">define</span> i128 __int128;</span></span><br><span class="line"><span class="keyword">using</span> ll = <span class="type">long</span> <span class="type">long</span>;</span><br><span class="line"><span class="comment">//#define int ll</span></span><br><span class="line"><span class="keyword">using</span> u64 = <span class="type">unsigned</span> <span class="type">long</span> <span class="type">long</span>;</span><br><span class="line"><span class="type">const</span> ll inf = <span class="number">2147483647</span>;</span><br><span class="line"><span class="type">const</span> ll INF = <span class="number">1e18</span>;</span><br><span class="line"><span class="function">ll <span class="title">power</span><span class="params">(ll x,ll y,<span class="type">int</span> mod)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    ll ret=<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span>(y)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>(y&amp;<span class="number">1</span>)ret=ret*x%mod;</span><br><span class="line">        x=x*x%mod;</span><br><span class="line">        y&gt;&gt;=<span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ret;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">signed</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    ios::<span class="built_in">sync_with_stdio</span>(<span class="literal">false</span>);</span><br><span class="line">    cin.<span class="built_in">tie</span>(<span class="literal">nullptr</span>);</span><br><span class="line">    <span class="type">int</span> n;</span><br><span class="line">    ll k;</span><br><span class="line">    cin&gt;&gt;n&gt;&gt;k;</span><br><span class="line">    vector&lt;<span class="type">int</span>&gt;<span class="built_in">p</span>(n<span class="number">+1</span>);</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++)cin&gt;&gt;p[i];</span><br><span class="line">    vector&lt;<span class="type">bool</span>&gt;<span class="built_in">vis</span>(n<span class="number">+1</span>);</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>(vis[i])<span class="keyword">continue</span>;</span><br><span class="line">        vector&lt;<span class="type">int</span>&gt;a;</span><br><span class="line">        <span class="type">int</span> j=i;</span><br><span class="line">        <span class="keyword">while</span>(!vis[j])</span><br><span class="line">        &#123;</span><br><span class="line">            vis[j]=<span class="number">1</span>;</span><br><span class="line">            a.<span class="built_in">push_back</span>(j);</span><br><span class="line">            j=p[j];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">int</span> d=<span class="built_in">power</span>(<span class="number">2</span>,k,a.<span class="built_in">size</span>());</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> x=<span class="number">0</span>;x&lt;a.<span class="built_in">size</span>();x++)</span><br><span class="line">        &#123;</span><br><span class="line">            p[a[x]]=a[(x+d)%a.<span class="built_in">size</span>()];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;    </span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++)cout&lt;&lt;p[i]&lt;&lt;<span class="string">&quot; \n&quot;</span>[i==n];</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="F-Avoid-Queen-Attack"><a href="#F-Avoid-Queen-Attack" class="headerlink" title="F - Avoid Queen Attack"></a>F - Avoid Queen Attack</h2><p><a href="https://atcoder.jp/contests/abc377/tasks/abc377_f">https://atcoder.jp/contests/abc377/tasks/abc377_f</a></p>
<p>è¿™ä¸€é¢˜ä¸»è¦æ˜¯æœ‰å››éƒ¨åˆ†ï¼Œæ¨ªï¼ˆRow)ï¼Œç«–ï¼ˆLine)ï¼Œå¯¹è§’çº¿ï¼ˆD)ï¼Œåå¯¹è§’çº¿ï¼ˆE)</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">using</span> u32 = <span class="type">unsigned</span>;</span><br><span class="line"><span class="meta">#<span class="keyword">define</span> i128 __int128;</span></span><br><span class="line"><span class="keyword">using</span> ll = <span class="type">long</span> <span class="type">long</span>;</span><br><span class="line"><span class="meta">#<span class="keyword">define</span> int ll</span></span><br><span class="line"><span class="keyword">using</span> u64 = <span class="type">unsigned</span> <span class="type">long</span> <span class="type">long</span>;</span><br><span class="line"><span class="type">const</span> ll inf = <span class="number">1e9</span>;</span><br><span class="line"><span class="type">const</span> ll INF = <span class="number">1e18</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">signed</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    ios::<span class="built_in">sync_with_stdio</span>(<span class="literal">false</span>);</span><br><span class="line">    cin.<span class="built_in">tie</span>(<span class="literal">nullptr</span>);</span><br><span class="line">    <span class="type">int</span> n,m;</span><br><span class="line">    cin&gt;&gt;n&gt;&gt;m;</span><br><span class="line">    ll ans=<span class="number">1ll</span>*n*n;</span><br><span class="line">    set&lt;<span class="type">int</span>&gt;R,C,D,E;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=m;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="type">int</span> a,b;</span><br><span class="line">        cin&gt;&gt;a&gt;&gt;b;</span><br><span class="line">        R.<span class="built_in">insert</span>(a);</span><br><span class="line">        C.<span class="built_in">insert</span>(b);</span><br><span class="line">        D.<span class="built_in">insert</span>(a-b);</span><br><span class="line">        E.<span class="built_in">insert</span>(a+b);</span><br><span class="line">    &#125;    </span><br><span class="line">    ans-=<span class="number">1ll</span>*R.<span class="built_in">size</span>()*n;<span class="comment">// é¦–å…ˆæŠŠè¿™å››éƒ¨åˆ†ç›´æ¥å‡æ‰</span></span><br><span class="line">    ans-=<span class="number">1ll</span>*C.<span class="built_in">size</span>()*n;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">auto</span> d:D)</span><br><span class="line">    &#123;</span><br><span class="line">        ans-=n-<span class="built_in">abs</span>(d);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">auto</span> e:E)</span><br><span class="line">    &#123;</span><br><span class="line">        ans-=n-<span class="built_in">abs</span>(n<span class="number">+1</span>-e);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">auto</span> r:R)ç„¶ååˆ†åˆ«ä¾æ¬¡å‡æ‰ä¸å…¶ä»–éƒ¨åˆ†é‡åˆçš„åœ°æ–¹</span><br><span class="line">    &#123;</span><br><span class="line">        set&lt;array&lt;<span class="type">int</span>,2&gt;&gt;s;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">auto</span> c:C)</span><br><span class="line">        &#123;</span><br><span class="line">            s.<span class="built_in">insert</span>(&#123;r,c&#125;);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">auto</span> d:D)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="type">int</span> c=r-d;</span><br><span class="line">            <span class="keyword">if</span>(<span class="number">1</span>&lt;=c&amp;&amp;c&lt;=n)</span><br><span class="line">            &#123;</span><br><span class="line">                s.<span class="built_in">insert</span>(&#123;r,c&#125;);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">auto</span> e:E)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="type">int</span> c=e-r;</span><br><span class="line">            <span class="keyword">if</span>(<span class="number">1</span>&lt;=c&amp;&amp;c&lt;=n)</span><br><span class="line">            &#123;</span><br><span class="line">                s.<span class="built_in">insert</span>(&#123;r,c&#125;);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        ans+=s.<span class="built_in">size</span>();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">auto</span> c:C)</span><br><span class="line">    &#123;</span><br><span class="line">        set&lt;array&lt;<span class="type">int</span>,2&gt;&gt;s;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">auto</span> d:D)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="type">int</span> r=c+d;</span><br><span class="line">            <span class="keyword">if</span>(<span class="number">1</span>&lt;=r&amp;&amp;r&lt;=n)</span><br><span class="line">            &#123;</span><br><span class="line">                s.<span class="built_in">insert</span>(&#123;r,c&#125;);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">auto</span> e:E)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="type">int</span> r=e-c;</span><br><span class="line">            <span class="keyword">if</span>(<span class="number">1</span>&lt;=r&amp;&amp;r&lt;=n)</span><br><span class="line">            &#123;</span><br><span class="line">                s.<span class="built_in">insert</span>(&#123;r,c&#125;);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        ans+=s.<span class="built_in">size</span>();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">auto</span> d:D)</span><br><span class="line">    &#123;</span><br><span class="line">        set&lt;array&lt;<span class="type">int</span>,2&gt;&gt;s;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">auto</span> e:E)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span>((<span class="number">1ll</span>*d+e)%<span class="number">2</span>)<span class="keyword">continue</span>;</span><br><span class="line">            <span class="type">int</span> r=(<span class="number">1ll</span>*d+e)/<span class="number">2</span>;</span><br><span class="line">            <span class="type">int</span> c=(<span class="number">1ll</span>*e-d)/<span class="number">2</span>;</span><br><span class="line">            <span class="keyword">if</span>(<span class="number">1</span>&lt;=r&amp;&amp;r&lt;=n&amp;&amp;<span class="number">1</span>&lt;=c&amp;&amp;c&lt;=n)s.<span class="built_in">insert</span>(&#123;r,c&#125;);</span><br><span class="line">        &#125;</span><br><span class="line">        ans+=s.<span class="built_in">size</span>();</span><br><span class="line">    &#125;</span><br><span class="line">    cout&lt;&lt;ans&lt;&lt;<span class="string">&#x27;\n&#x27;</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="Edit-to-Match"><a href="#Edit-to-Match" class="headerlink" title="Edit to Match"></a>Edit to Match</h2><figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">using</span> u32 = <span class="type">unsigned</span>;</span><br><span class="line"><span class="meta">#<span class="keyword">define</span> i128 __int128;</span></span><br><span class="line"><span class="keyword">using</span> ll = <span class="type">long</span> <span class="type">long</span>;</span><br><span class="line"><span class="comment">//#define int ll</span></span><br><span class="line"><span class="keyword">using</span> u64 = <span class="type">unsigned</span> <span class="type">long</span> <span class="type">long</span>;</span><br><span class="line"><span class="type">const</span> ll inf = <span class="number">1e9</span>;</span><br><span class="line"><span class="type">const</span> ll INF = <span class="number">1e18</span>;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N=<span class="number">2e5</span><span class="number">+10</span>;</span><br><span class="line"><span class="type">int</span> Trie[N][<span class="number">26</span>];</span><br><span class="line"><span class="type">int</span> dix;</span><br><span class="line"><span class="function"><span class="type">signed</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    ios::<span class="built_in">sync_with_stdio</span>(<span class="literal">false</span>);</span><br><span class="line">    cin.<span class="built_in">tie</span>(<span class="literal">nullptr</span>);</span><br><span class="line">    <span class="type">int</span> n;</span><br><span class="line">    cin&gt;&gt;n;</span><br><span class="line">    vector&lt;<span class="type">int</span>&gt;<span class="built_in">dis</span>(N<span class="number">+1</span>,inf);</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        string s;</span><br><span class="line">        cin&gt;&gt;s;</span><br><span class="line">        <span class="type">int</span> p=<span class="number">0</span>;</span><br><span class="line">        <span class="type">int</span> ans=s.<span class="built_in">size</span>();</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j=<span class="number">0</span>;j&lt;s.<span class="built_in">size</span>();j++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="type">int</span> &amp;q=Trie[p][s[j]-<span class="string">&#x27;a&#x27;</span>];</span><br><span class="line">            <span class="keyword">if</span>(!q)q=++dix;</span><br><span class="line">            p=q;</span><br><span class="line">            ans=<span class="built_in">min</span>(ans,(<span class="type">int</span>)s.<span class="built_in">size</span>()<span class="number">-1</span>-j+dis[p]);</span><br><span class="line">        &#125;</span><br><span class="line">        p=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j=<span class="number">0</span>;j&lt;s.<span class="built_in">size</span>();j++)</span><br><span class="line">        &#123;</span><br><span class="line">            p=Trie[p][s[j]-<span class="string">&#x27;a&#x27;</span>];</span><br><span class="line">            dis[p]=<span class="built_in">min</span>(dis[p],(<span class="type">int</span>)s.<span class="built_in">size</span>()<span class="number">-1</span>-j);</span><br><span class="line">        &#125;</span><br><span class="line">        cout&lt;&lt;ans&lt;&lt;<span class="string">&#x27;\n&#x27;</span>;</span><br><span class="line">    &#125;    </span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



]]></content>
  </entry>
  <entry>
    <title>Codeforces Round 984 (Div. 3)</title>
    <url>/2024/11/29/Codeforces%20Round%20984%20(Div.%203)/</url>
    <content><![CDATA[<h1 id="Codeforces-Round-984-Div-3"><a href="#Codeforces-Round-984-Div-3" class="headerlink" title="Codeforces Round 984 (Div. 3)"></a><a href="https://codeforces.com/contest/2036">Codeforces Round 984 (Div. 3)</a></h1><p>èµ›æ—¶æœ€åä¸€é“æ²¡æœ‰å†™å‡ºæ¥ï¼Œä½†æ˜¯ç°åœ¨çœ‹æœ€åä¸€é“ä¾ç„¶å¾ˆéš¾å—ğŸ˜¡</p>
<h2 id="A-Quintomania"><a href="#A-Quintomania" class="headerlink" title="A. Quintomania"></a>A. Quintomania</h2><p><a href="https://codeforces.com/contest/2036/problem/A">https://codeforces.com/contest/2036/problem/A</a></p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">using</span> u32 = <span class="type">unsigned</span>;</span><br><span class="line"><span class="meta">#<span class="keyword">define</span> i128 __int128</span></span><br><span class="line"><span class="keyword">using</span> ll = <span class="type">long</span> <span class="type">long</span>;</span><br><span class="line"><span class="comment">//#define int ll</span></span><br><span class="line"><span class="keyword">using</span> u64 = <span class="type">unsigned</span> <span class="type">long</span> <span class="type">long</span>;</span><br><span class="line"><span class="type">const</span> ll inf = <span class="number">1e9</span>;</span><br><span class="line"><span class="type">const</span> ll INF = <span class="number">1e18</span>;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="type">int</span> n;</span><br><span class="line">    cin&gt;&gt;n;</span><br><span class="line">    vector&lt;<span class="type">int</span>&gt;<span class="built_in">a</span>(n<span class="number">+1</span>);</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++)cin&gt;&gt;a[i];</span><br><span class="line">    <span class="type">int</span> ok=<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">2</span>;i&lt;=n;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>(<span class="built_in">abs</span>(a[i]-a[i<span class="number">-1</span>])!=<span class="number">5</span>&amp;&amp;<span class="built_in">abs</span>(a[i]-a[i<span class="number">-1</span>])!=<span class="number">7</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            ok=<span class="number">0</span>;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;  </span><br><span class="line">    cout&lt;&lt;(ok?<span class="string">&quot;YES\n&quot;</span>:<span class="string">&quot;NO\n&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">signed</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    ios::<span class="built_in">sync_with_stdio</span>(<span class="literal">false</span>);</span><br><span class="line">    cin.<span class="built_in">tie</span>(<span class="literal">nullptr</span>);</span><br><span class="line">    <span class="type">int</span> tt;cin&gt;&gt;tt;</span><br><span class="line">    <span class="keyword">while</span>(tt--)&#123;</span><br><span class="line">        <span class="built_in">solve</span>();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="B-Startup"><a href="#B-Startup" class="headerlink" title="B. Startup"></a>B. Startup</h2><p><a href="https://codeforces.com/contest/2036/problem/B">https://codeforces.com/contest/2036/problem/B</a></p>
<p>è´§æ¶æ•°æœ€å¤šä¸ºkï¼Œæ‰€ä»¥å‹æ ¹ä¸éœ€è¦ç¦»æ•£åŒ–ï¼Œåˆæ˜¯å†™å¤æ‚çš„ä¸€å¤©ã€‚</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">using</span> u32 = <span class="type">unsigned</span>;</span><br><span class="line"><span class="meta">#<span class="keyword">define</span> i128 __int128</span></span><br><span class="line"><span class="keyword">using</span> ll = <span class="type">long</span> <span class="type">long</span>;</span><br><span class="line"><span class="comment">//#define int ll</span></span><br><span class="line"><span class="keyword">using</span> u64 = <span class="type">unsigned</span> <span class="type">long</span> <span class="type">long</span>;</span><br><span class="line"><span class="type">const</span> ll inf = <span class="number">1e9</span>;</span><br><span class="line"><span class="type">const</span> ll INF = <span class="number">1e18</span>;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="type">int</span> n,k;</span><br><span class="line">    cin&gt;&gt;n&gt;&gt;k;</span><br><span class="line">    vector&lt;<span class="type">int</span>&gt;<span class="built_in">s</span>(k<span class="number">+1</span>);</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=k;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="type">int</span> a,b;</span><br><span class="line">        cin&gt;&gt;a&gt;&gt;b;</span><br><span class="line">        s[a]+=b;</span><br><span class="line">    &#125;    </span><br><span class="line">    <span class="built_in">sort</span>(s.<span class="built_in">begin</span>()<span class="number">+1</span>,s.<span class="built_in">end</span>(),greater&lt;&gt;());</span><br><span class="line">    n=<span class="built_in">min</span>(n,k);</span><br><span class="line">    <span class="type">int</span> ans=<span class="built_in">accumulate</span>(s.<span class="built_in">begin</span>()<span class="number">+1</span>,s.<span class="built_in">begin</span>()<span class="number">+1</span>+n,<span class="number">0ll</span>);</span><br><span class="line">    cout&lt;&lt;ans&lt;&lt;<span class="string">&#x27;\n&#x27;</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">signed</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    ios::<span class="built_in">sync_with_stdio</span>(<span class="literal">false</span>);</span><br><span class="line">    cin.<span class="built_in">tie</span>(<span class="literal">nullptr</span>);</span><br><span class="line">    <span class="type">int</span> tt;cin&gt;&gt;tt;</span><br><span class="line">    <span class="keyword">while</span>(tt--)&#123;</span><br><span class="line">        <span class="built_in">solve</span>();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="C-Anya-and-1100"><a href="#C-Anya-and-1100" class="headerlink" title="C. Anya and 1100"></a>C. Anya and 1100</h2><p><a href="https://codeforces.com/contest/2036/problem/C">https://codeforces.com/contest/2036/problem/C</a></p>
<p>ç¬¬ä¸€ä¸ªæ˜¯æˆ‘å†™çš„å‚»é¸Ÿä»£ç ï¼Œå› ä¸ºå½“æ—¶æ²¡æœ‰æƒ³åˆ°ä»€ä¹ˆæ¯”è¾ƒå¥½çš„è¾¹ç•Œå¤„ç†åŠæ³•ï¼Œåªèƒ½è¿™ä¹ˆå†™äº†ã€‚ğŸ˜­</p>
<p>ç¬¬äºŒä¸ªæ˜¯ä»å¤§ä½¬é‚£é‡Œå­¦æ¥çš„ä»£ç é£æ ¼ã€‚ğŸ¤©</p>
<p><code>for(int i=max(1,p-3);i&lt;=min(p,n-3);i++)</code>å°±æ˜¯è¿™ä¸€æ­¥ï¼Œå½“æ—¶è„‘å­çŸ­è·¯äº†ï¼Œåªèƒ½ç›´æ¥æšä¸¾äº†ã€‚</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">using</span> u32 = <span class="type">unsigned</span>;</span><br><span class="line"><span class="meta">#<span class="keyword">define</span> i128 __int128</span></span><br><span class="line"><span class="keyword">using</span> ll = <span class="type">long</span> <span class="type">long</span>;</span><br><span class="line"><span class="comment">//#define int ll</span></span><br><span class="line"><span class="keyword">using</span> u64 = <span class="type">unsigned</span> <span class="type">long</span> <span class="type">long</span>;</span><br><span class="line"><span class="type">const</span> ll inf = <span class="number">1e9</span>;</span><br><span class="line"><span class="type">const</span> ll INF = <span class="number">1e18</span>;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span><span class="params">()</span></span>&#123;</span><br><span class="line">    string s;</span><br><span class="line">    cin&gt;&gt;s;</span><br><span class="line">    <span class="type">int</span> n=s.<span class="built_in">size</span>();</span><br><span class="line">    s=<span class="string">&quot; &quot;</span>+s;</span><br><span class="line">    set&lt;<span class="type">int</span>&gt;vis;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n<span class="number">-3</span>;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>(s[i]==<span class="string">&#x27;1&#x27;</span>&amp;&amp;s[i<span class="number">+1</span>]==<span class="string">&#x27;1&#x27;</span>&amp;&amp;s[i<span class="number">+2</span>]==<span class="string">&#x27;0&#x27;</span>&amp;&amp;s[i<span class="number">+3</span>]==<span class="string">&#x27;0&#x27;</span>)vis.<span class="built_in">insert</span>(i);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">int</span> q;</span><br><span class="line">    cin&gt;&gt;q;</span><br><span class="line">    <span class="keyword">while</span>(q--)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="type">int</span> i,v;</span><br><span class="line">        cin&gt;&gt;i&gt;&gt;v;</span><br><span class="line">        v=<span class="string">&#x27;0&#x27;</span>+v;    </span><br><span class="line">        <span class="keyword">if</span>(s[i]==v)&#123;</span><br><span class="line">            <span class="keyword">if</span>(vis.<span class="built_in">size</span>())cout&lt;&lt;<span class="string">&quot;YES\n&quot;</span>;</span><br><span class="line">            <span class="keyword">else</span> cout&lt;&lt;<span class="string">&quot;NO\n&quot;</span>;</span><br><span class="line">            <span class="keyword">continue</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(s[i]==<span class="string">&#x27;1&#x27;</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span>(n-i&gt;=<span class="number">3</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">if</span>(s[i<span class="number">+1</span>]==<span class="string">&#x27;1&#x27;</span>&amp;&amp;s[i<span class="number">+2</span>]==<span class="string">&#x27;0&#x27;</span>&amp;&amp;s[i<span class="number">+3</span>]==<span class="string">&#x27;0&#x27;</span>)vis.<span class="built_in">erase</span>(i);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span>(n-i&gt;=<span class="number">2</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">if</span>(s[i<span class="number">-1</span>]==<span class="string">&#x27;1&#x27;</span>&amp;&amp;s[i<span class="number">+1</span>]==<span class="string">&#x27;0&#x27;</span>&amp;&amp;s[i<span class="number">+2</span>]==<span class="string">&#x27;0&#x27;</span>)vis.<span class="built_in">erase</span>(i<span class="number">-1</span>);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span>(n-i&gt;=<span class="number">1</span>&amp;&amp;i&gt;=<span class="number">3</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">if</span>(s[i<span class="number">-2</span>]==<span class="string">&#x27;1&#x27;</span>&amp;&amp;s[i<span class="number">-1</span>]==<span class="string">&#x27;1&#x27;</span>&amp;&amp;s[i<span class="number">+1</span>]==<span class="string">&#x27;0&#x27;</span>)vis.<span class="built_in">insert</span>(i<span class="number">-2</span>);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span>(n-i&gt;=<span class="number">0</span>&amp;&amp;i&gt;=<span class="number">4</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">if</span>(s[i<span class="number">-3</span>]==<span class="string">&#x27;1&#x27;</span>&amp;&amp;s[i<span class="number">-2</span>]==<span class="string">&#x27;1&#x27;</span>&amp;&amp;s[i<span class="number">-1</span>]==<span class="string">&#x27;0&#x27;</span>)vis.<span class="built_in">insert</span>(i<span class="number">-3</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> </span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span>(n-i&gt;=<span class="number">3</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">if</span>(s[i<span class="number">+1</span>]==<span class="string">&#x27;1&#x27;</span>&amp;&amp;s[i<span class="number">+2</span>]==<span class="string">&#x27;0&#x27;</span>&amp;&amp;s[i<span class="number">+3</span>]==<span class="string">&#x27;0&#x27;</span>)vis.<span class="built_in">insert</span>(i);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span>(n-i&gt;=<span class="number">2</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">if</span>(s[i<span class="number">-1</span>]==<span class="string">&#x27;1&#x27;</span>&amp;&amp;s[i<span class="number">+1</span>]==<span class="string">&#x27;0&#x27;</span>&amp;&amp;s[i<span class="number">+2</span>]==<span class="string">&#x27;0&#x27;</span>)vis.<span class="built_in">insert</span>(i<span class="number">-1</span>);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span>(n-i&gt;=<span class="number">1</span>&amp;&amp;i&gt;=<span class="number">3</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">if</span>(s[i<span class="number">-2</span>]==<span class="string">&#x27;1&#x27;</span>&amp;&amp;s[i<span class="number">-1</span>]==<span class="string">&#x27;1&#x27;</span>&amp;&amp;s[i<span class="number">+1</span>]==<span class="string">&#x27;0&#x27;</span>)vis.<span class="built_in">erase</span>(i<span class="number">-2</span>);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span>(n-i&gt;=<span class="number">0</span>&amp;&amp;i&gt;=<span class="number">4</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">if</span>(s[i<span class="number">-3</span>]==<span class="string">&#x27;1&#x27;</span>&amp;&amp;s[i<span class="number">-2</span>]==<span class="string">&#x27;1&#x27;</span>&amp;&amp;s[i<span class="number">-1</span>]==<span class="string">&#x27;0&#x27;</span>)vis.<span class="built_in">erase</span>(i<span class="number">-3</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        s[i]=v;</span><br><span class="line">        <span class="keyword">if</span>(vis.<span class="built_in">size</span>())cout&lt;&lt;<span class="string">&quot;YES\n&quot;</span>;</span><br><span class="line">        <span class="keyword">else</span> cout&lt;&lt;<span class="string">&quot;NO\n&quot;</span>;</span><br><span class="line">    &#125;    </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">signed</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    ios::<span class="built_in">sync_with_stdio</span>(<span class="literal">false</span>);</span><br><span class="line">    cin.<span class="built_in">tie</span>(<span class="literal">nullptr</span>);</span><br><span class="line">    <span class="type">int</span> tt;cin&gt;&gt;tt;</span><br><span class="line">    <span class="keyword">while</span>(tt--)&#123;</span><br><span class="line">        <span class="built_in">solve</span>();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">using</span> u32 = <span class="type">unsigned</span>;</span><br><span class="line"><span class="meta">#<span class="keyword">define</span> i128 __int128</span></span><br><span class="line"><span class="keyword">using</span> ll = <span class="type">long</span> <span class="type">long</span>;</span><br><span class="line"><span class="comment">//#define int ll</span></span><br><span class="line"><span class="keyword">using</span> u64 = <span class="type">unsigned</span> <span class="type">long</span> <span class="type">long</span>;</span><br><span class="line"><span class="type">const</span> ll inf = <span class="number">1e9</span>;</span><br><span class="line"><span class="type">const</span> ll INF = <span class="number">1e18</span>;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span><span class="params">()</span></span>&#123;</span><br><span class="line">    string s;</span><br><span class="line">    cin&gt;&gt;s;</span><br><span class="line">    <span class="type">int</span> n=s.<span class="built_in">size</span>();</span><br><span class="line">    s=<span class="string">&quot; &quot;</span>+s;</span><br><span class="line">    <span class="type">int</span> q;</span><br><span class="line">    cin&gt;&gt;q;</span><br><span class="line">    <span class="type">int</span> cnt=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n<span class="number">-3</span>;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        cnt+=s.<span class="built_in">substr</span>(i,<span class="number">4</span>)==<span class="string">&quot;1100&quot;</span>;     </span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">while</span>(q--)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="type">int</span> p;</span><br><span class="line">        <span class="type">char</span> ch;</span><br><span class="line">        cin&gt;&gt;p&gt;&gt;ch;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i=<span class="built_in">max</span>(<span class="number">1</span>,p<span class="number">-3</span>);i&lt;=<span class="built_in">min</span>(p,n<span class="number">-3</span>);i++)<span class="comment">// è¿™ä¸€æ­¥å­¦ä¼šäº†</span></span><br><span class="line">        &#123;</span><br><span class="line">            cnt-=s.<span class="built_in">substr</span>(i,<span class="number">4</span>)==<span class="string">&quot;1100&quot;</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        s[p]=ch;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i=<span class="built_in">max</span>(<span class="number">1</span>,p<span class="number">-3</span>);i&lt;=<span class="built_in">min</span>(p,n<span class="number">-3</span>);i++)</span><br><span class="line">        &#123;</span><br><span class="line">            cnt+=s.<span class="built_in">substr</span>(i,<span class="number">4</span>)==<span class="string">&quot;1100&quot;</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        cout&lt;&lt;(cnt?<span class="string">&quot;YES\n&quot;</span>:<span class="string">&quot;NO\n&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">signed</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    ios::<span class="built_in">sync_with_stdio</span>(<span class="literal">false</span>);</span><br><span class="line">    cin.<span class="built_in">tie</span>(<span class="literal">nullptr</span>);</span><br><span class="line">    <span class="type">int</span> tt;cin&gt;&gt;tt;</span><br><span class="line">    <span class="keyword">while</span>(tt--)&#123;</span><br><span class="line">        <span class="built_in">solve</span>();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="D-I-Love-1543"><a href="#D-I-Love-1543" class="headerlink" title="D. I Love 1543"></a>D. I Love 1543</h2><p><a href="https://codeforces.com/contest/2036/problem/D">https://codeforces.com/contest/2036/problem/D</a></p>
<p>è¿™ä¸€é¢˜å°±æ˜¯ä¸€å±‚ä¸€å±‚çš„å¤„ç†å°±è¡Œäº†ï¼Œä¸è¿‡æœ€åä½¿ç”¨ä¸Š</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line">s+=s;</span><br><span class="line"><span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;s.<span class="built_in">size</span>()/<span class="number">2</span>;i++)cnt+=(s.<span class="built_in">substr</span>(i,<span class="number">4</span>)==<span class="string">&quot;1543&quot;</span>);</span><br></pre></td></tr></table></figure>

<p>è¿™ä¸€æ­¥èƒ½å¤ŸèŠ‚çœæ—¶é—´</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">using</span> u32 = <span class="type">unsigned</span>;</span><br><span class="line"><span class="meta">#<span class="keyword">define</span> i128 __int128</span></span><br><span class="line"><span class="keyword">using</span> ll = <span class="type">long</span> <span class="type">long</span>;</span><br><span class="line"><span class="comment">//#define int ll</span></span><br><span class="line"><span class="keyword">using</span> u64 = <span class="type">unsigned</span> <span class="type">long</span> <span class="type">long</span>;</span><br><span class="line"><span class="type">const</span> ll inf = <span class="number">1e9</span>;</span><br><span class="line"><span class="type">const</span> ll INF = <span class="number">1e18</span>;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="type">int</span> n,m;</span><br><span class="line">    cin&gt;&gt;n&gt;&gt;m;</span><br><span class="line">    <span class="function">vector <span class="title">v</span><span class="params">(n<span class="number">+1</span>,vector&lt;<span class="type">char</span>&gt;(m<span class="number">+1</span>))</span></span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j=<span class="number">1</span>;j&lt;=m;j++)cin&gt;&gt;v[i][j];</span><br><span class="line">    &#125;    </span><br><span class="line">    <span class="type">int</span> cnt=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> k=<span class="number">1</span>;k&lt;=(<span class="built_in">min</span>(n,m)/<span class="number">2</span>);k++)</span><br><span class="line">    &#123;</span><br><span class="line">        string s;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j=k;j&lt;=m-k;j++)s+=v[k][j];</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i=k;i&lt;=n-k;i++)s+=v[i][m-(k<span class="number">-1</span>)];</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j=m-(k<span class="number">-1</span>);j&gt;=k<span class="number">+1</span>;j--)s+=v[n-(k<span class="number">-1</span>)][j];</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i=n-(k<span class="number">-1</span>);i&gt;=k<span class="number">+1</span>;i--)s+=v[i][k];</span><br><span class="line">        s+=s;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;s.<span class="built_in">size</span>()/<span class="number">2</span>;i++)cnt+=(s.<span class="built_in">substr</span>(i,<span class="number">4</span>)==<span class="string">&quot;1543&quot;</span>);<span class="comment">// è¿™ä¸€æ­¥èƒ½å¤ŸèŠ‚çœæ—¶é—´</span></span><br><span class="line">    &#125;</span><br><span class="line">    cout&lt;&lt;cnt&lt;&lt;<span class="string">&#x27;\n&#x27;</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">signed</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    ios::<span class="built_in">sync_with_stdio</span>(<span class="literal">false</span>);</span><br><span class="line">    cin.<span class="built_in">tie</span>(<span class="literal">nullptr</span>);</span><br><span class="line">    <span class="type">int</span> tt;cin&gt;&gt;tt;</span><br><span class="line">    <span class="keyword">while</span>(tt--)&#123;</span><br><span class="line">        <span class="built_in">solve</span>();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="E-Reverse-the-Rivers"><a href="#E-Reverse-the-Rivers" class="headerlink" title="E. Reverse the Rivers"></a>E. Reverse the Rivers</h2><p><a href="https://codeforces.com/contest/2036/problem/E">https://codeforces.com/contest/2036/problem/E</a></p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">using</span> u32 = <span class="type">unsigned</span>;</span><br><span class="line"><span class="meta">#<span class="keyword">define</span> i128 __int128;</span></span><br><span class="line"><span class="keyword">using</span> ll = <span class="type">long</span> <span class="type">long</span>;</span><br><span class="line"><span class="comment">//#define int ll</span></span><br><span class="line"><span class="keyword">using</span> u64 = <span class="type">unsigned</span> <span class="type">long</span> <span class="type">long</span>;</span><br><span class="line"><span class="type">const</span> ll inf = <span class="number">1e9</span>;</span><br><span class="line"><span class="type">const</span> ll INF = <span class="number">1e18</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">signed</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    ios::<span class="built_in">sync_with_stdio</span>(<span class="literal">false</span>);</span><br><span class="line">    cin.<span class="built_in">tie</span>(<span class="literal">nullptr</span>);</span><br><span class="line">    <span class="type">int</span> n,k,q;</span><br><span class="line">    cin&gt;&gt;n&gt;&gt;k&gt;&gt;q;</span><br><span class="line">    <span class="function">vector <span class="title">v</span><span class="params">(k<span class="number">+1</span>,vector&lt;<span class="type">int</span>&gt;(n<span class="number">+1</span>))</span></span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> j=<span class="number">1</span>;j&lt;=n;j++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=k;i++)</span><br><span class="line">        &#123;</span><br><span class="line">            cin&gt;&gt;v[i][j];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;    </span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=k;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j=<span class="number">2</span>;j&lt;=n;j++)</span><br><span class="line">        &#123;</span><br><span class="line">            v[i][j]|=v[i][j<span class="number">-1</span>];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=q;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="type">int</span> m;</span><br><span class="line">        cin&gt;&gt;m;</span><br><span class="line">        <span class="type">int</span> l=<span class="number">1</span>,r=n;</span><br><span class="line">        <span class="keyword">while</span>(m--)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="type">int</span> a,b;</span><br><span class="line">            <span class="type">char</span> ch;</span><br><span class="line">            cin&gt;&gt;a&gt;&gt;ch&gt;&gt;b;</span><br><span class="line">            <span class="keyword">if</span>(ch==<span class="string">&#x27;&gt;&#x27;</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="type">int</span> it=<span class="built_in">upper_bound</span>(v[a].<span class="built_in">begin</span>()<span class="number">+1</span>,v[a].<span class="built_in">end</span>(),b)-v[a].<span class="built_in">begin</span>();</span><br><span class="line">                l=<span class="built_in">max</span>(l,it);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">            &#123;</span><br><span class="line">                <span class="type">int</span> it=--<span class="built_in">lower_bound</span>(v[a].<span class="built_in">begin</span>()<span class="number">+1</span>,v[a].<span class="built_in">end</span>(),b)-v[a].<span class="built_in">begin</span>();</span><br><span class="line">                r=<span class="built_in">min</span>(r,it);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(l&lt;=r)cout&lt;&lt;l&lt;&lt;<span class="string">&#x27;\n&#x27;</span>;</span><br><span class="line">        <span class="keyword">else</span> cout&lt;&lt;<span class="number">-1</span>&lt;&lt;<span class="string">&#x27;\n&#x27;</span>;</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="F-XORificator-3000"><a href="#F-XORificator-3000" class="headerlink" title="F. XORificator 3000"></a>F. XORificator 3000</h2><p><a href="https://codeforces.com/contest/2036/problem/F">https://codeforces.com/contest/2036/problem/F</a></p>
<p>![3aa3147a351829dce93bf07ee53db7e](D:\å¾®ä¿¡\WeChat Files\wxid_6tre2ztzy69k22\FileStorage\Temp\3aa3147a351829dce93bf07ee53db7e.jpg)</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">using</span> u32 = <span class="type">unsigned</span>;</span><br><span class="line"><span class="meta">#<span class="keyword">define</span> i128 __int128</span></span><br><span class="line"><span class="keyword">using</span> ll = <span class="type">long</span> <span class="type">long</span>;</span><br><span class="line"><span class="meta">#<span class="keyword">define</span> int ll</span></span><br><span class="line"><span class="keyword">using</span> u64 = <span class="type">unsigned</span> <span class="type">long</span> <span class="type">long</span>;</span><br><span class="line"><span class="type">const</span> ll inf = <span class="number">1e9</span>;</span><br><span class="line"><span class="type">const</span> ll INF = <span class="number">1e18</span>;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">get</span><span class="params">(<span class="type">int</span> x)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(x&lt;<span class="number">0</span>)<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    <span class="type">int</span> shu=x%<span class="number">4</span>;</span><br><span class="line">    <span class="keyword">if</span>(shu==<span class="number">0</span>)<span class="keyword">return</span> x;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span>(shu==<span class="number">1</span>)<span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span>(shu==<span class="number">2</span>)<span class="keyword">return</span> x<span class="number">+1</span>;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="type">int</span> i,k;</span><br><span class="line">    ll l,r;</span><br><span class="line">    cin&gt;&gt;l&gt;&gt;r&gt;&gt;i&gt;&gt;k;</span><br><span class="line">    <span class="keyword">auto</span> getb=[&amp;](<span class="type">int</span> x)-&gt;<span class="type">int</span>&#123;</span><br><span class="line">        <span class="type">int</span> t=x&gt;&gt;i&lt;&lt;i|k;</span><br><span class="line">        <span class="type">int</span> cnt=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">if</span>(t&lt;=x)</span><br><span class="line">        &#123;</span><br><span class="line">            cnt=x&gt;&gt;i;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> cnt=(x&gt;&gt;i)<span class="number">-1</span>;</span><br><span class="line">        <span class="type">int</span> shu=<span class="built_in">get</span>(cnt)&lt;&lt;i;</span><br><span class="line">        <span class="keyword">if</span>(cnt%<span class="number">2</span>==<span class="number">0</span>)shu^=k;</span><br><span class="line">        <span class="keyword">return</span> shu;</span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="type">int</span> ans=<span class="number">0</span>;</span><br><span class="line">    ans^=<span class="built_in">get</span>(r);</span><br><span class="line">    ans^=<span class="built_in">get</span>(l<span class="number">-1</span>);</span><br><span class="line">    ans^=<span class="built_in">getb</span>(r);</span><br><span class="line">    ans^=<span class="built_in">getb</span>(l<span class="number">-1</span>);</span><br><span class="line">    cout&lt;&lt;ans&lt;&lt;<span class="string">&#x27;\n&#x27;</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">signed</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    ios::<span class="built_in">sync_with_stdio</span>(<span class="literal">false</span>);</span><br><span class="line">    cin.<span class="built_in">tie</span>(<span class="literal">nullptr</span>);</span><br><span class="line">    <span class="type">int</span> tt;cin&gt;&gt;tt;</span><br><span class="line">    <span class="keyword">while</span>(tt--)&#123;</span><br><span class="line">        <span class="built_in">solve</span>();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="G-Library-of-Magic"><a href="#G-Library-of-Magic" class="headerlink" title="G. Library of Magic"></a>G. Library of Magic</h2><p><a href="https://codeforces.com/contest/2036/problem/G">https://codeforces.com/contest/2036/problem/G</a></p>
<p>æˆ‘å†ä¹Ÿä¸æƒ³çœ‹åˆ°Gé¢˜äº†ï¼Œç­‰è¿‡ä¸€æ®µæ—¶é—´å†å›æ¥çœ‹å§ã€‚</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">using</span> u32 = <span class="type">unsigned</span>;</span><br><span class="line"><span class="meta">#<span class="keyword">define</span> i128 __int128</span></span><br><span class="line"><span class="keyword">using</span> ll = <span class="type">long</span> <span class="type">long</span>;</span><br><span class="line"><span class="meta">#<span class="keyword">define</span> int ll</span></span><br><span class="line"><span class="keyword">using</span> u64 = <span class="type">unsigned</span> <span class="type">long</span> <span class="type">long</span>;</span><br><span class="line"><span class="type">const</span> ll inf = <span class="number">1e9</span>;</span><br><span class="line"><span class="type">const</span> ll INF = <span class="number">1e18</span>;</span><br><span class="line"><span class="function">ll <span class="title">query</span><span class="params">(ll l,ll r)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    cout&lt;&lt;<span class="string">&quot;xor &quot;</span>&lt;&lt;l&lt;&lt;<span class="string">&#x27; &#x27;</span>&lt;&lt;r&lt;&lt;endl;</span><br><span class="line">    <span class="type">int</span> x;</span><br><span class="line">    cin&gt;&gt;x;</span><br><span class="line">    <span class="keyword">return</span> x;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="type">int</span> n;</span><br><span class="line">    cin &gt;&gt; n;</span><br><span class="line"></span><br><span class="line">    <span class="type">int</span> s = <span class="number">0</span>;</span><br><span class="line">    vector&lt;<span class="type">int</span>&gt; ans;</span><br><span class="line">    <span class="keyword">auto</span> find = [&amp;] (<span class="keyword">auto</span> self,<span class="type">int</span> l, <span class="type">int</span> r, <span class="type">int</span> x)&#123;</span><br><span class="line">        <span class="keyword">if</span>(l == r ||s==<span class="number">2</span>) &#123;</span><br><span class="line">            ans.<span class="built_in">push_back</span>(x);</span><br><span class="line">            <span class="keyword">return</span> ;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">int</span> res1, res2;</span><br><span class="line">        <span class="type">int</span> mid = l + r &gt;&gt; <span class="number">1</span>;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;xor &quot;</span> &lt;&lt; l &lt;&lt; <span class="string">&#x27; &#x27;</span> &lt;&lt; mid &lt;&lt; endl;</span><br><span class="line">        cin &gt;&gt; res1;</span><br><span class="line">        res2 = x ^ res1;</span><br><span class="line">        <span class="keyword">if</span>(res1 &amp;&amp; res2) &#123;</span><br><span class="line">            s++;</span><br><span class="line">            <span class="built_in">self</span>(self,l, mid, res1);</span><br><span class="line">            <span class="built_in">self</span>(self,mid + <span class="number">1</span>, r, res2);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(res1)&#123;</span><br><span class="line">            <span class="built_in">self</span>(self,l, mid, res1);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(res2)&#123;</span><br><span class="line">            <span class="built_in">self</span>(self,mid + <span class="number">1</span>, r, res2);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="type">int</span> t;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;xor &quot;</span> &lt;&lt; <span class="number">1</span> &lt;&lt; <span class="string">&#x27; &#x27;</span> &lt;&lt; n &lt;&lt; endl;</span><br><span class="line">    cin &gt;&gt; t;</span><br><span class="line">    <span class="keyword">if</span>(t) <span class="built_in">find</span>(find,<span class="number">1</span>, n, t);</span><br><span class="line">    <span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="type">int</span> res, t = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">while</span>(t &lt;= n) t &lt;&lt;= <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">while</span>(<span class="number">1</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            t&gt;&gt;=<span class="number">1</span>;</span><br><span class="line">            res=<span class="built_in">query</span>(t,n);</span><br><span class="line">            <span class="keyword">if</span>(!res)<span class="keyword">continue</span>;</span><br><span class="line">            s=<span class="number">1</span>;</span><br><span class="line">            ans.<span class="built_in">push_back</span>(res);</span><br><span class="line">            <span class="built_in">find</span>(find,t,n,res);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;ans&quot;</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">auto</span> x : ans) cout &lt;&lt;<span class="string">&#x27; &#x27;</span>&lt;&lt;x;</span><br><span class="line">    cout &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">signed</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    ios::<span class="built_in">sync_with_stdio</span>(<span class="literal">false</span>);</span><br><span class="line">    cin.<span class="built_in">tie</span>(<span class="literal">nullptr</span>);</span><br><span class="line">    <span class="type">int</span> tt;cin&gt;&gt;tt;</span><br><span class="line">    <span class="keyword">while</span>(tt--)&#123;</span><br><span class="line">        <span class="built_in">solve</span>();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



]]></content>
  </entry>
  <entry>
    <title>STè¡¨</title>
    <url>/2024/11/29/ST%E8%A1%A8/</url>
    <content><![CDATA[<h1 id="STè¡¨"><a href="#STè¡¨" class="headerlink" title="STè¡¨"></a>STè¡¨</h1><p><a href="https://oi-wiki.org/ds/sparse-table/">oiwikié“¾æ¥</a></p>
<p>ST è¡¨ï¼ˆSparse Tableï¼Œç¨€ç–è¡¨ï¼‰æ˜¯ç”¨äºè§£å†³ <strong>å¯é‡å¤è´¡çŒ®é—®é¢˜</strong> çš„æ•°æ®ç»“æ„ã€‚</p>
<p>å¯é‡å¤è´¡çŒ®é—®é¢˜æˆ‘çš„ç†è§£æ˜¯åŒºé—´é‡å¤ä¸ä¼šå½±å“ç»“æœï¼Œæ¯”å¦‚å¦‚æœæ±‚[1,4]åŒºé—´å’Œ[1,4]åŒºé—´çš„æœ€å¤§å€¼ï¼Œå®é™…ä¸Šè¿˜æ˜¯æ±‚[1,4]åŒºé—´çš„æœ€å¤§å€¼ï¼Œä½†æ˜¯å¦‚æœæ˜¯æ±‚å’Œé—®é¢˜ï¼Œé‚£ä¹ˆ[1,4]å’Œ[1,4]æ”¾åœ¨ä¸€èµ·å°±ä¼šå¾—å‡ºæ­£ç¡®ç»“æœçš„ä¸¤å€ã€‚</p>
<h2 id="P3865-ã€æ¨¡æ¿ã€‘ST-è¡¨-RMQ-é—®é¢˜"><a href="#P3865-ã€æ¨¡æ¿ã€‘ST-è¡¨-RMQ-é—®é¢˜" class="headerlink" title="P3865 ã€æ¨¡æ¿ã€‘ST è¡¨ &amp;&amp; RMQ é—®é¢˜"></a>P3865 ã€æ¨¡æ¿ã€‘ST è¡¨ &amp;&amp; RMQ é—®é¢˜</h2><p>RMQ æ˜¯è‹±æ–‡ Range Maximum&#x2F;Minimum Query çš„ç¼©å†™ï¼Œè¡¨ç¤ºåŒºé—´æœ€å¤§ï¼ˆæœ€å°ï¼‰å€¼</p>
<p><a href="https://www.luogu.com.cn/problem/P3865">https://www.luogu.com.cn/problem/P3865</a></p>
<p><img src="C:\Users\lenovo\AppData\Roaming\Typora\typora-user-images\image-20241012151116609.png"></p>
<p><img src="C:\Users\lenovo\AppData\Roaming\Typora\typora-user-images\image-20241012151321753.png" alt="image-20241012151321753"></p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">using</span> u32 = <span class="type">unsigned</span>;</span><br><span class="line"><span class="meta">#<span class="keyword">define</span> i128 __int128;</span></span><br><span class="line"><span class="keyword">using</span> ll = <span class="type">long</span> <span class="type">long</span>;</span><br><span class="line"><span class="meta">#<span class="keyword">define</span> int ll</span></span><br><span class="line"><span class="keyword">using</span> u64 = <span class="type">unsigned</span> <span class="type">long</span> <span class="type">long</span>;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> inf = <span class="number">2147483647</span>;</span><br><span class="line"><span class="type">const</span> ll INF = <span class="number">1e18</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">signed</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    ios::<span class="built_in">sync_with_stdio</span>(<span class="literal">false</span>);</span><br><span class="line">    cin.<span class="built_in">tie</span>(<span class="literal">nullptr</span>);</span><br><span class="line">    <span class="type">int</span> n,m;</span><br><span class="line">    cin&gt;&gt;n&gt;&gt;m;</span><br><span class="line">    vector&lt;vector&lt;<span class="type">int</span>&gt;&gt;<span class="built_in">dp</span>(n<span class="number">+1</span>,<span class="built_in">vector</span>&lt;<span class="type">int</span>&gt;(<span class="number">22</span>));</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++)cin&gt;&gt;dp[i][<span class="number">0</span>];</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> len=<span class="number">1</span>;len&lt;=<span class="number">20</span>;len++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;(i+(<span class="number">1</span>&lt;&lt;len)<span class="number">-1</span>)&lt;=n;i++)</span><br><span class="line">        &#123;</span><br><span class="line">            dp[i][len]=<span class="built_in">max</span>(dp[i][len<span class="number">-1</span>],dp[i+(<span class="number">1</span>&lt;&lt;(len<span class="number">-1</span>))][len<span class="number">-1</span>]);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=m;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="type">int</span> l,r;</span><br><span class="line">        cin&gt;&gt;l&gt;&gt;r;</span><br><span class="line">        <span class="type">int</span> k=<span class="built_in">log2</span>(r-l<span class="number">+1</span>);</span><br><span class="line">        cout&lt;&lt;<span class="built_in">max</span>(dp[l][k],dp[r-(<span class="number">1</span>&lt;&lt;k)<span class="number">+1</span>][k])&lt;&lt;<span class="string">&#x27;\n&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="2279-ã€ŒSCOI2007ã€é™é›¨é‡"><a href="#2279-ã€ŒSCOI2007ã€é™é›¨é‡" class="headerlink" title="2279. ã€ŒSCOI2007ã€é™é›¨é‡"></a>2279. ã€ŒSCOI2007ã€é™é›¨é‡</h2><p><a href="https://www.luogu.com.cn/problem/P2471">https://www.luogu.com.cn/problem/P2471</a></p>
<p>ä¸€å…±æœ‰4ç§æƒ…å†µ(ä»¥ä¸‹å¤§äºå°äºå·çš†ä¸ºæ¯”è¾ƒé™é›¨é‡)</p>
<ol>
<li><p>y,xéƒ½æœªçŸ¥ï¼Œç›´æ¥è¾“å‡ºmaybe</p>
</li>
<li><p>yæœªçŸ¥,xå·²çŸ¥,è‹¥yåˆ°xä¸­æœ‰æ•°&gt;&#x3D;xï¼Œåˆ™è¾“å‡ºfalseï¼Œå¦åˆ™ä¸ºmaybe</p>
</li>
<li><p>yå·²çŸ¥,xæœªçŸ¥ï¼Œè‹¥yåˆ°xä¸­æœ‰æ•°&gt;&#x3D;y,åˆ™è¾“å‡ºfalseï¼Œå¦åˆ™ä¸ºmaybe</p>
</li>
<li><p>y,xéƒ½å·²çŸ¥ï¼Œè‹¥x&gt;yæˆ–yåˆ°xä¸­æœ‰æ•°&gt;&#x3D;x,åˆ™è¾“å‡ºfalseï¼Œå¦åˆ™è‹¥yåˆ°xä¸­æ‰€æœ‰å¹´ä»½çš„é™é›¨é‡éƒ½å·²çŸ¥ï¼Œåˆ™è¾“å‡ºtrueï¼Œå¦åˆ™è¾“å‡ºmaybe</p>
</li>
</ol>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">using</span> u32 = <span class="type">unsigned</span>;</span><br><span class="line"><span class="meta">#<span class="keyword">define</span> i128 __int128;</span></span><br><span class="line"><span class="keyword">using</span> ll = <span class="type">long</span> <span class="type">long</span>;</span><br><span class="line"><span class="comment">// #define int ll</span></span><br><span class="line"><span class="keyword">using</span> u64 = <span class="type">unsigned</span> <span class="type">long</span> <span class="type">long</span>;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> inf = <span class="number">2147483647</span>;</span><br><span class="line"><span class="type">const</span> ll INF = <span class="number">1e18</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">signed</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    ios::<span class="built_in">sync_with_stdio</span>(<span class="literal">false</span>);</span><br><span class="line">    cin.<span class="built_in">tie</span>(<span class="literal">nullptr</span>);</span><br><span class="line">    <span class="type">int</span> n;</span><br><span class="line">    cin &gt;&gt; n;</span><br><span class="line">    <span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">a</span><span class="params">(n + <span class="number">1</span>)</span>, <span class="title">b</span><span class="params">(n + <span class="number">1</span>)</span></span>;</span><br><span class="line">    vector&lt;vector&lt;<span class="type">int</span>&gt;&gt;<span class="built_in">st</span>(n<span class="number">+1</span>,<span class="built_in">vector</span>&lt;<span class="type">int</span>&gt;(<span class="number">22</span>));</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        cin &gt;&gt; a[i] &gt;&gt; b[i];</span><br><span class="line">        st[i][<span class="number">0</span>]=b[i];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> len=<span class="number">1</span>;(<span class="number">1</span>&lt;&lt;len)&lt;=n;len++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i+(<span class="number">1</span>&lt;&lt;len)<span class="number">-1</span>&lt;=n;i++)</span><br><span class="line">        &#123;</span><br><span class="line">            st[i][len]=<span class="built_in">max</span>(st[i][len<span class="number">-1</span>],st[i+(<span class="number">1</span>&lt;&lt;(len<span class="number">-1</span>))][len<span class="number">-1</span>]);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">auto</span> RMQ=[&amp;](<span class="type">int</span> l,<span class="type">int</span> r)-&gt;<span class="type">int</span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(l&gt;r)<span class="keyword">return</span> <span class="number">-1e9</span>;<span class="comment">// è¿™é‡Œéœ€è¦æ³¨æ„ä¸€ä¸‹ï¼Œä¸ç„¶èŒƒå›´å‡ºé”™ä¼šå‘ç”ŸREç­‰é”™è¯¯</span></span><br><span class="line">        <span class="keyword">if</span>(l&gt;n||r&gt;n)<span class="keyword">return</span> <span class="number">-1e9</span>;</span><br><span class="line">        <span class="type">int</span> k=<span class="built_in">log2</span>(r-l<span class="number">+1</span>);  </span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">max</span>(st[l][k],st[r-(<span class="number">1</span>&lt;&lt;k)<span class="number">+1</span>][k]);</span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="type">int</span> q;</span><br><span class="line">    cin &gt;&gt; q;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= q; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">auto</span> func = [&amp;]()<span class="comment">// è¿™ä¸ªå‡½æ•°æ˜¯å› ä¸ºå½“æ—¶æƒ³ç›´æ¥è·³å‡ºæ‰€æœ‰å¾ªç¯ï¼Œåˆä¸å¤ªä¼šå†™æ‰€ä»¥ç›´æ¥å†™äº†ä¸ªå‡½æ•°ç„¶åç”¨returnäº†</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="type">int</span> l, r;</span><br><span class="line">            cin &gt;&gt; l &gt;&gt; r;</span><br><span class="line">            <span class="keyword">if</span> (l &gt;= r)</span><br><span class="line">            &#123;</span><br><span class="line">                cout &lt;&lt; <span class="string">&quot;maybe\n&quot;</span>;</span><br><span class="line">                <span class="keyword">return</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">auto</span> ll = <span class="built_in">lower_bound</span>(a.<span class="built_in">begin</span>() + <span class="number">1</span>, a.<span class="built_in">end</span>(), l) - a.<span class="built_in">begin</span>();</span><br><span class="line">            <span class="keyword">auto</span> rr = <span class="built_in">lower_bound</span>(a.<span class="built_in">begin</span>() + <span class="number">1</span>, a.<span class="built_in">end</span>(), r) - a.<span class="built_in">begin</span>();</span><br><span class="line">            <span class="type">bool</span> okl = (a[ll] == l), okr = (a[rr] == r);</span><br><span class="line">            <span class="keyword">if</span> (!okl &amp;&amp; !okr)</span><br><span class="line">            &#123;</span><br><span class="line">                cout &lt;&lt; <span class="string">&quot;maybe\n&quot;</span>;</span><br><span class="line">                <span class="keyword">return</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span> (okl &amp;&amp; !okr)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">if</span>(<span class="built_in">RMQ</span>(ll<span class="number">+1</span>,rr<span class="number">-1</span>)&gt;=b[ll])cout&lt;&lt;<span class="string">&quot;false\n&quot;</span>;</span><br><span class="line">                <span class="keyword">else</span> cout &lt;&lt; <span class="string">&quot;maybe\n&quot;</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span> (!okl &amp;&amp; okr)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">if</span>(<span class="built_in">RMQ</span>(ll,rr<span class="number">-1</span>)&gt;=b[rr])cout&lt;&lt;<span class="string">&quot;false\n&quot;</span>;</span><br><span class="line">                <span class="keyword">else</span> cout&lt;&lt;<span class="string">&quot;maybe\n&quot;</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span> (okl &amp;&amp; okr)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">if</span> (b[rr] &gt; b[ll])</span><br><span class="line">                &#123;</span><br><span class="line">                    cout &lt;&lt; <span class="string">&quot;false\n&quot;</span>;</span><br><span class="line">                    <span class="keyword">return</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">if</span>(<span class="built_in">RMQ</span>(ll<span class="number">+1</span>,rr<span class="number">-1</span>)&gt;=b[rr])&#123;cout&lt;&lt;<span class="string">&quot;false\n&quot;</span>;<span class="keyword">return</span>;&#125;</span><br><span class="line">                <span class="keyword">if</span> (rr - ll == r - l)</span><br><span class="line">                    cout &lt;&lt; <span class="string">&quot;true\n&quot;</span>;</span><br><span class="line">                <span class="keyword">else</span></span><br><span class="line">                    cout &lt;&lt; <span class="string">&quot;maybe\n&quot;</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;;</span><br><span class="line">        <span class="built_in">func</span>();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="P2880-USACO07JAN-Balanced-Lineup-G"><a href="#P2880-USACO07JAN-Balanced-Lineup-G" class="headerlink" title="P2880 [USACO07JAN] Balanced Lineup G"></a>P2880 [USACO07JAN] Balanced Lineup G</h2><p><a href="https://www.luogu.com.cn/problem/P2880">https://www.luogu.com.cn/problem/P2880</a></p>
<p>è¿™ä¸€é¢˜å°±æ˜¯ç”¨ä¸¤ä¸ªSTè¡¨åˆ†åˆ«é¢„å¤„ç†æœ€å¤§æœ€å°å€¼å°±è¡Œäº†</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">using</span> u32 = <span class="type">unsigned</span>;</span><br><span class="line"><span class="meta">#<span class="keyword">define</span> i128 __int128;</span></span><br><span class="line"><span class="keyword">using</span> ll = <span class="type">long</span> <span class="type">long</span>;</span><br><span class="line"><span class="comment">//#define int ll</span></span><br><span class="line"><span class="keyword">using</span> u64 = <span class="type">unsigned</span> <span class="type">long</span> <span class="type">long</span>;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> inf = <span class="number">2147483647</span>;</span><br><span class="line"><span class="type">const</span> ll INF = <span class="number">1e18</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">signed</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    ios::<span class="built_in">sync_with_stdio</span>(<span class="literal">false</span>);</span><br><span class="line">    cin.<span class="built_in">tie</span>(<span class="literal">nullptr</span>);</span><br><span class="line">    <span class="type">int</span> n,q;</span><br><span class="line">    cin&gt;&gt;n&gt;&gt;q;</span><br><span class="line">    vector&lt;<span class="type">int</span>&gt;<span class="built_in">a</span>(n<span class="number">+1</span>);</span><br><span class="line">    vector&lt;vector&lt;<span class="type">int</span>&gt;&gt;<span class="built_in">dp1</span>(n<span class="number">+1</span>,<span class="built_in">vector</span>&lt;<span class="type">int</span>&gt;(<span class="number">22</span>)),<span class="built_in">dp2</span>(n<span class="number">+1</span>,<span class="built_in">vector</span>&lt;<span class="type">int</span>&gt;(<span class="number">22</span>));</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++)&#123;</span><br><span class="line">        cin&gt;&gt;dp1[i][<span class="number">0</span>];</span><br><span class="line">        dp2[i][<span class="number">0</span>]=dp1[i][<span class="number">0</span>];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> len=<span class="number">1</span>;(<span class="number">1</span>&lt;&lt;len)&lt;=n;len++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i+(<span class="number">1</span>&lt;&lt;len)<span class="number">-1</span>&lt;=n;i++)</span><br><span class="line">        &#123;</span><br><span class="line">            dp1[i][len]=<span class="built_in">max</span>(dp1[i][len<span class="number">-1</span>],dp1[i+(<span class="number">1</span>&lt;&lt;(len<span class="number">-1</span>))][len<span class="number">-1</span>]);</span><br><span class="line">            dp2[i][len]=<span class="built_in">min</span>(dp2[i][len<span class="number">-1</span>],dp2[i+(<span class="number">1</span>&lt;&lt;(len<span class="number">-1</span>))][len<span class="number">-1</span>]);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=q;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="type">int</span> l,r;</span><br><span class="line">        cin&gt;&gt;l&gt;&gt;r;</span><br><span class="line">        <span class="type">int</span> k=<span class="built_in">log2</span>(r-l<span class="number">+1</span>);</span><br><span class="line">        <span class="type">int</span> ret=<span class="built_in">max</span>(dp1[l][k],dp1[r-(<span class="number">1</span>&lt;&lt;k)<span class="number">+1</span>][k])-<span class="built_in">min</span>(dp2[l][k],dp2[r-(<span class="number">1</span>&lt;&lt;k)<span class="number">+1</span>][k]);</span><br><span class="line">        cout&lt;&lt;ret&lt;&lt;<span class="string">&#x27;\n&#x27;</span>;</span><br><span class="line">    &#125;    </span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

]]></content>
  </entry>
  <entry>
    <title>Meet in the middle</title>
    <url>/2024/11/29/Meet%20in%20the%20middle/</url>
    <content><![CDATA[<h1 id="Meet-in-the-middle"><a href="#Meet-in-the-middle" class="headerlink" title="Meet in the middle"></a>Meet in the middle</h1><p>oiwikiä¸Šçš„å†…å®¹,å…·ä½“å¯ä»¥çœ‹è¿™ä¸ªç½‘å€   <a href="https://oi-wiki.org/search/bidirectional/">https://oi-wiki.org/search/bidirectional/</a></p>
<h2 id="P2962-USACO09NOV-Lights-G"><a href="#P2962-USACO09NOV-Lights-G" class="headerlink" title="P2962 [USACO09NOV] Lights G"></a>P2962 [USACO09NOV] Lights G</h2><p><a href="https://www.luogu.com.cn/problem/P2962">https://www.luogu.com.cn/problem/P2962</a></p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">using</span> u32 = <span class="type">unsigned</span>;</span><br><span class="line"><span class="meta">#<span class="keyword">define</span> i128 __int128;</span></span><br><span class="line"><span class="keyword">using</span> ll = <span class="type">long</span> <span class="type">long</span>;</span><br><span class="line"><span class="comment">//#define int ll</span></span><br><span class="line"><span class="keyword">using</span> u64 = <span class="type">unsigned</span> <span class="type">long</span> <span class="type">long</span>;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> inf = <span class="number">2147483647</span>;</span><br><span class="line"><span class="type">const</span> ll INF = <span class="number">1e18</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">signed</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    ios::<span class="built_in">sync_with_stdio</span>(<span class="literal">false</span>);</span><br><span class="line">    cin.<span class="built_in">tie</span>(<span class="literal">nullptr</span>);</span><br><span class="line">    <span class="type">int</span> n,m;</span><br><span class="line">    cin&gt;&gt;n&gt;&gt;m;</span><br><span class="line">    map&lt;ll,<span class="type">int</span>&gt;mp;</span><br><span class="line">    vector&lt;ll&gt;<span class="built_in">a</span>(<span class="number">40</span>);</span><br><span class="line">    a[<span class="number">0</span>]=<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;<span class="number">40</span>;i++)a[i]=a[i<span class="number">-1</span>]&lt;&lt;<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=m;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="type">int</span> u,v;</span><br><span class="line">        cin&gt;&gt;u&gt;&gt;v;</span><br><span class="line">        u--,v--;</span><br><span class="line">        a[u]|=(<span class="number">1ll</span>&lt;&lt;v);</span><br><span class="line">        a[v]|=(<span class="number">1ll</span>&lt;&lt;u);</span><br><span class="line">    &#125;    </span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;(<span class="number">1</span>&lt;&lt;(n/<span class="number">2</span>));i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="type">int</span> cnt=<span class="number">0</span>;</span><br><span class="line">        ll t=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j=<span class="number">0</span>;j&lt;n/<span class="number">2</span>;j++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span>((i&gt;&gt;j)&amp;<span class="number">1</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                cnt++;</span><br><span class="line">                t^=a[j]; </span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (!mp.<span class="built_in">count</span>(t))mp[t] = cnt;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        mp[t] = <span class="built_in">min</span>(mp[t], cnt);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">int</span> ret=inf;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;(<span class="number">1</span>&lt;&lt;(n-n/<span class="number">2</span>));i++)<span class="comment">//è¿™ä¸€æ­¥å¾ˆå¦™,æŠŠçŠ¶æ€å‰ç§»</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="type">int</span> cnt=<span class="number">0</span>;</span><br><span class="line">        ll t=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j=<span class="number">0</span>;j&lt;(n-n/<span class="number">2</span>);j++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span>((i&gt;&gt;j)&amp;<span class="number">1</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                cnt++;</span><br><span class="line">                t^=a[j+n/<span class="number">2</span>];</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(mp.<span class="built_in">contains</span>(((<span class="number">1ll</span>&lt;&lt;n)<span class="number">-1</span>)^t))ret=<span class="built_in">min</span>(ret,cnt+mp[((<span class="number">1ll</span>&lt;&lt;n)<span class="number">-1</span>)^t]);</span><br><span class="line">    &#125;</span><br><span class="line">    cout&lt;&lt;ret&lt;&lt;<span class="string">&quot;\n&quot;</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="P1466-USACO2-2-é›†åˆ-Subset-Sums"><a href="#P1466-USACO2-2-é›†åˆ-Subset-Sums" class="headerlink" title="P1466 [USACO2.2] é›†åˆ Subset Sums"></a>P1466 [USACO2.2] é›†åˆ Subset Sums</h2><p><a href="https://www.luogu.com.cn/problem/P1466">https://www.luogu.com.cn/problem/P1466</a></p>
<p>è¿™ä¸€é¢˜å¯ä»¥ç›´æ¥ç”¨åŠ¨æ€è§„åˆ’è¿›è¡Œè§£å†³,åŒæ—¶å› ä¸ºæ•°æ®èŒƒå›´æ¯”è¾ƒç‰¹æ®Š,ä¹Ÿå¯ä»¥ä½¿ç”¨Meet in the middle</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">using</span> u32 = <span class="type">unsigned</span>;</span><br><span class="line"><span class="meta">#<span class="keyword">define</span> i128 __int128;</span></span><br><span class="line"><span class="keyword">using</span> ll = <span class="type">long</span> <span class="type">long</span>;</span><br><span class="line"><span class="comment">//#define int ll</span></span><br><span class="line"><span class="keyword">using</span> u64 = <span class="type">unsigned</span> <span class="type">long</span> <span class="type">long</span>;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> inf = <span class="number">2147483647</span>;</span><br><span class="line"><span class="type">const</span> ll INF = <span class="number">1e18</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">signed</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    ios::<span class="built_in">sync_with_stdio</span>(<span class="literal">false</span>);</span><br><span class="line">    cin.<span class="built_in">tie</span>(<span class="literal">nullptr</span>);</span><br><span class="line">    <span class="type">int</span> n;</span><br><span class="line">    cin&gt;&gt;n;</span><br><span class="line">    ll sum=<span class="number">1ll</span>*n*(n<span class="number">+1</span>)/<span class="number">2</span>;</span><br><span class="line">    <span class="keyword">if</span>(sum&amp;<span class="number">1</span>)<span class="keyword">return</span> cout&lt;&lt;<span class="number">0</span>&lt;&lt;<span class="string">&#x27;\n&#x27;</span>,<span class="number">0</span>;</span><br><span class="line">    sum/=<span class="number">2</span>;</span><br><span class="line">    vector&lt;ll&gt;<span class="built_in">dp</span>(sum<span class="number">+1</span>);</span><br><span class="line">    dp[<span class="number">0</span>]=<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j=sum;j&gt;=i;j--)</span><br><span class="line">        &#123;</span><br><span class="line">            dp[j]+=dp[j-i];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;    </span><br><span class="line">    cout&lt;&lt;dp[sum]/<span class="number">2</span>&lt;&lt;<span class="string">&#x27;\n&#x27;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="comment">// é™„ä¸Šæ´›è°·ä¸Šåˆ«äººå†™çš„Meet in the middleè§£æ³•</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="keyword">typedef</span> <span class="type">long</span> <span class="type">long</span> LL;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> M=<span class="number">1e3</span><span class="number">+5</span>;</span><br><span class="line">LL b[M];</span><br><span class="line"><span class="type">int</span> n;</span><br><span class="line">LL ans;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;n);</span><br><span class="line">    <span class="keyword">if</span>(((<span class="number">1</span>+n)*n/<span class="number">2</span>)&amp;<span class="number">1</span>)<span class="built_in">puts</span>(<span class="string">&quot;0&quot;</span>);</span><br><span class="line">    <span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;(<span class="number">1</span>&lt;&lt;(n/<span class="number">2</span>));++i)&#123;</span><br><span class="line">            <span class="type">int</span> cur=<span class="number">0</span>;</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> j=<span class="number">0</span>;(i&gt;&gt;j)&gt;<span class="number">0</span>;++j)<span class="keyword">if</span>((i&gt;&gt;j)&amp;<span class="number">1</span>)cur+=(j<span class="number">+1</span>);</span><br><span class="line">            b[cur]++;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;(<span class="number">1</span>&lt;&lt;(n-n/<span class="number">2</span>));++i)&#123;</span><br><span class="line">            <span class="type">int</span> cur=<span class="number">0</span>;</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> j=<span class="number">0</span>;(i&gt;&gt;j)&gt;<span class="number">0</span>;++j)<span class="keyword">if</span>((i&gt;&gt;j)&amp;<span class="number">1</span>)cur+=j+n/<span class="number">2</span><span class="number">+1</span>;</span><br><span class="line">            <span class="keyword">if</span>((<span class="number">1</span>+n)*n/<span class="number">4</span>&gt;=cur)</span><br><span class="line">            ans+=b[(<span class="number">1</span>+n)*n/<span class="number">4</span>-cur];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%lld\n&quot;</span>,ans/<span class="number">2</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

]]></content>
  </entry>
  <entry>
    <title>hexoåšå®¢æ­å»º</title>
    <url>/2024/11/17/hexo%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA/</url>
    <content><![CDATA[<h1 id="hexoåšå®¢æ­å»º"><a href="#hexoåšå®¢æ­å»º" class="headerlink" title="hexoåšå®¢æ­å»º"></a>hexoåšå®¢æ­å»º</h1><h2 id="é…ç½®çš„å‰ææ¡ä»¶"><a href="#é…ç½®çš„å‰ææ¡ä»¶" class="headerlink" title="é…ç½®çš„å‰ææ¡ä»¶"></a>é…ç½®çš„å‰ææ¡ä»¶</h2><h3 id="git"><a href="#git" class="headerlink" title="git"></a>git</h3><p><a href="https://git-scm.com/">https://git-scm.com/</a></p>
<p>gitçš„å®‰è£…ä¹Ÿæ¯”è¾ƒç®€å•ã€‚æˆ‘ä»¬å®‰è£…è¿™ä¸ªä¸»è¦ä½¿ç”¨çš„å°±æ˜¯å…¶ä¸­çš„å‘½ä»¤è¡Œå·¥å…·git bashã€‚</p>
<p>å°±æ˜¯è¿™ä¸ªç©æ„ã€‚è¿™é‡Œå»ºè®®ä½¿ç”¨ç®¡ç†å‘˜èº«ä»½æ‰“å¼€ï¼Œä¼šçœå»ä¸€äº›éº»çƒ¦</p>
<p><img src="https://cdn.jsdelivr.net/gh/kkonglb/image/image-20241117110717414.png" alt="image-20241117110717414"></p>
<p>Git Bashï¼šGitæä¾›çš„å‘½ä»¤è¡Œå·¥å…·  &#x3D;&#x3D;ç›¸å½“äºä¸€ä¸ªå°çš„linuxçª—å£ï¼Œä½¿ç”¨shift+é¼ æ ‡å³é”®å¯ä»¥ç›´æ¥æ‰¾åˆ°ï¼Œä¸ç”¨é€‰æ‹©æ›´å¤šé€‰é¡¹&#x3D;&#x3D;</p>
<p>ä½¿ç”¨gitä¹‹å‰éœ€è¦è®¾ç½®ä¸€ä¸‹ç”¨æˆ·ä¿¡æ¯ï¼Œè¿™é‡Œæˆ‘ä¹‹å‰å·²ç»é…ç½®è¿‡äº†ï¼Œæ‰€ä»¥å°±æ²¡æœ‰åœ¨è¿›è¡Œå°è¯•ã€‚</p>
<ol>
<li>æ‰“å¼€Git Bash</li>
<li>è®¾ç½®ç”¨æˆ·ä¿¡æ¯<br><code>git config --global user.name â€œitcastâ€</code><br><code>git config --global user.email â€œhello@itcast.cnâ€</code></li>
</ol>
<p>æŸ¥çœ‹é…ç½®ä¿¡æ¯<br><code>git config --global user.name</code><br><code>git config --global user.email</code></p>
<p>æ•ˆæœå¦‚ä¸‹</p>
<p><img src="https://cdn.jsdelivr.net/gh/kkonglb/image/image-20241117111134790.png" alt="image-20241117111134790"></p>
<h3 id="Node-js"><a href="#Node-js" class="headerlink" title="Node.js"></a>Node.js</h3><p><a href="nodejs.org">nodejs.org</a></p>
<p>è¿™ä¸ªä¸‹è½½ç›´æ¥ä¸‹è½½ï¼Œå®‰è£…ç›´æ¥ä¸€ç›´ç‚¹nextå°±è¡Œäº† </p>
<p><img src="https://cdn.jsdelivr.net/gh/kkonglb/image/image-20241117110020395.png" alt="image-20241117110020395"></p>
<p>å®‰è£…è¿‡nodejsä¹‹ååº”è¯¥å°±å¯ä»¥ç›´æ¥é€šè¿‡ç»ˆç«¯è°ƒç”¨nodejså’Œé‡Œé¢çš„npmï¼Œè¿™ç¯‡æ–‡ç« æˆ‘ä½¿ç”¨çš„éƒ½æ˜¯git bashæ¥è¿›è¡Œå‘½ä»¤è¡Œæ“ä½œï¼ˆä¸‹é¢ä¼šæåˆ°ï¼‰ã€‚</p>
<p>åˆ†åˆ«è¾“å…¥<code>node -v</code>å’Œ<code>npm -v</code>çœ‹çœ‹æ˜¯å¦é…ç½®æˆåŠŸï¼Œæ˜¾ç¤ºå¦‚ä¸‹æ‰€ç¤ºçš„ç‰ˆæœ¬å·å°±æ˜¯æˆåŠŸäº†ã€‚å¦‚æœæ²¡æœ‰é…ç½®æˆåŠŸå°±è‡ªå·±é…ç½®ä¸€ä¸‹ç¯å¢ƒå˜é‡æˆ–è€…é‡æ–°å®‰è£…ä¸€ä¸‹ï¼Œå®åœ¨ä¸è¡Œå°±çœ‹ä¸€ä¸‹è‡ªå·±ä¹‹å‰æ˜¯å¦æœ‰è€ç‰ˆæœ¬çš„nodejsï¼Œåˆ äº†è¯•ä¸€ä¸‹ã€‚ï¼ˆè¿™é‡Œå°±ä¸å¤šåŠ èµ˜è¿°ï¼‰</p>
<p><img src="https://cdn.jsdelivr.net/gh/kkonglb/image/image-20241117110337580.png" alt="image-20241117110337580"></p>
<h3 id="git-bashçš„ä¸€äº›ç®€å•å‘½ä»¤"><a href="#git-bashçš„ä¸€äº›ç®€å•å‘½ä»¤" class="headerlink" title="git bashçš„ä¸€äº›ç®€å•å‘½ä»¤"></a>git bashçš„ä¸€äº›ç®€å•å‘½ä»¤</h3><p>è€ƒè™‘åˆ°æœ‰äº›æœ‹å‹æ²¡æœ‰æ€ä¹ˆæ¥è§¦è¿‡å‘½ä»¤è¡Œï¼Œè¿™é‡Œé™„åŠ ä¸€äº›ä¸‹é¢ç”¨åˆ°å’Œå¯èƒ½éœ€è¦çš„å‘½ä»¤è¡Œ</p>
<p><code>pwd</code>  æŸ¥çœ‹å½“å‰ç›®å½•</p>
<p><code>mkdir blog</code> åœ¨å½“å‰ç›®å½•ç”Ÿæˆblogæ–‡ä»¶å¤¹ï¼Œè¿™é‡Œå¹¶ä¸æ˜¯å¿…é¡»å¾—å†™blogï¼Œåªæ˜¯ä¸€ä¸ªç¤ºèŒƒè€Œå·²</p>
<p><code>cd</code> åˆ‡æ¢ç›®å½•</p>
<p><code>ls -l</code> åˆ—å‡ºç›®å½•ä¸­çš„æ–‡ä»¶å’Œå­ç›®å½•ä¿¡æ¯</p>
<p><code>Ctrl + C</code>  ç»ˆç«¯å¿«æ·é”®ï¼Œé€šå¸¸ç”¨æ¥ä¸­æ–­æˆ–åœæ­¢å½“å‰æ­£åœ¨è¿è¡Œçš„è¿›ç¨‹æˆ–å‘½ä»¤ã€‚</p>
<p><code>cd ..</code> è·³åˆ°ä¸Šä¸€çº§ç›®å½•</p>
<p><code>cd ../..</code> è·³åˆ°ä¸Šé¢ç¬¬äºŒçº§ç›®å½•</p>
<h3 id="å…·ä½“åŠŸèƒ½"><a href="#å…·ä½“åŠŸèƒ½" class="headerlink" title="å…·ä½“åŠŸèƒ½"></a>å…·ä½“åŠŸèƒ½</h3><ol>
<li><strong>ç»ˆç«¯ä¸­æ–­</strong></li>
</ol>
<h2 id="hexoæ­å»ºæ­¥éª¤"><a href="#hexoæ­å»ºæ­¥éª¤" class="headerlink" title="hexoæ­å»ºæ­¥éª¤"></a>hexoæ­å»ºæ­¥éª¤</h2><p>é¦–å…ˆæˆ‘ä»¬çš„è¿™äº›æ“ä½œéƒ½éœ€è¦åŸºäºåˆšæ‰æåˆ°çš„npmï¼ˆåŒ…ç®¡ç†å™¨ï¼‰è¿›è¡Œï¼Œä½†æ˜¯ç”±äºè¿™ä¸ªåœ¨å›½å†…çš„é€Ÿåº¦æ¯”è¾ƒæ…¢ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨npmå…ˆå®‰è£…ä¸€ä¸ªå›½å†…æ·˜å®çš„é•œåƒæºï¼Œå¦‚æœä½ å®‰è£…æˆåŠŸäº†ï¼Œä¸‹é¢æˆ‘æ‰€æ¼”ç¤ºçš„æ‰€æœ‰æ­¥éª¤ä¸­çš„npmä½ éƒ½å¯ä»¥ç”¨cnpmæ¥å–ä»£ï¼ˆ<del>å› ä¸ºæˆ‘å¤±è´¥äº†ï¼Œæ‰€ä»¥æˆ‘ç›´æ¥ç”¨çš„npm</del>ï¼‰</p>
<p>git bashé»˜è®¤æ‰“å¼€æ˜¯åœ¨Cç›˜çš„ï¼Œå½“ç„¶ä½ å¦‚æœæ˜¯åœ¨æŸä¸ªæ–‡ä»¶å¤¹ä¸­ç›´æ¥å³é”®æ‰“å¼€çš„è¯é‚£å°±ç›´æ¥åœ¨å½“å‰æ–‡ä»¶å¤¹ã€‚</p>
<p>æˆ‘ä¹ æƒ¯æŠŠä¸œè¥¿éƒ½å®‰è£…åˆ°Dç›˜ï¼Œæ‰€ä»¥ä¸‹é¢å°±å…ˆåˆ‡æ¢åˆ°Dç›˜è¿›è¡Œæ“ä½œäº†</p>
<h3 id="æ‰“å¼€git-bashå¹¶ä¸”åˆ‡æ¢åˆ°Dç›˜"><a href="#æ‰“å¼€git-bashå¹¶ä¸”åˆ‡æ¢åˆ°Dç›˜" class="headerlink" title="æ‰“å¼€git bashå¹¶ä¸”åˆ‡æ¢åˆ°Dç›˜"></a>æ‰“å¼€git bashå¹¶ä¸”åˆ‡æ¢åˆ°Dç›˜</h3><p><img src="https://cdn.jsdelivr.net/gh/kkonglb/image/image-20241117114110975.png" alt="image-20241117114110975"></p>
<h3 id="åˆå§‹åŒ–hexo"><a href="#åˆå§‹åŒ–hexo" class="headerlink" title="åˆå§‹åŒ–hexo"></a>åˆå§‹åŒ–hexo</h3><p><code>hexo init</code> åˆå§‹åŒ–hexoï¼Œå¦‚æœæˆåŠŸçš„è¯æœ€åä¸€è¡Œä¼šæ˜¾ç¤ºâ€œStart blogging with Hexo!â€</p>
<p><img src="https://cdn.jsdelivr.net/gh/kkonglb/image/image-20241117163950755.png" alt="image-20241117163950755"></p>
<h3 id="æœ¬åœ°è¿è¡Œåšå®¢"><a href="#æœ¬åœ°è¿è¡Œåšå®¢" class="headerlink" title="æœ¬åœ°è¿è¡Œåšå®¢"></a>æœ¬åœ°è¿è¡Œåšå®¢</h3><h4 id="start-hexo"><a href="#start-hexo" class="headerlink" title="start hexo"></a>start hexo</h4><p>å¯åŠ¨hexoä¹‹åä¼šå¦‚å›¾æ‰€ç¤ºæœ‰ä¸€ä¸ªç½‘å€ï¼Œè¿™ä¸ªç½‘å€æ˜¯åœ¨æœ¬åœ°çš„ã€‚</p>
<p><img src="https://cdn.jsdelivr.net/gh/kkonglb/image/image-20241117164458219.png" alt="image-20241117164458219"></p>
<p>è¾“å…¥ç½‘å€æ‰“å¼€ä¹‹åæ•ˆæœå¦‚å›¾æ‰€ç¤º</p>
<p><img src="https://cdn.jsdelivr.net/gh/kkonglb/image/image-20241117164615714.png" alt="image-20241117164615714"></p>
<h4 id="æ–­å¼€æ¥å£"><a href="#æ–­å¼€æ¥å£" class="headerlink" title="æ–­å¼€æ¥å£"></a>æ–­å¼€æ¥å£</h4><p>æŒ‰ctrl+cæ–­å¼€ï¼Œå’±ä»¬ä¸Šä¸€æ­¥æ˜¯start hexoï¼Œè¿™ä¸€æ­¥æ˜¯æ–­å¼€hexoã€‚</p>
<p>è¿™ä¸¤æ­¥çš„ä½œç”¨å°±æ˜¯æˆ‘ä»¬å¯¹è‡ªå·±çš„hexoåšå®¢åšå‡ºä¿®æ”¹ä¹‹åå¯ä»¥ç°åœ¨æœ¬åœ°çš„è¿™ä¸ªæ¥å£è‡ªå·±çœ‹ä¸€çœ¼ï¼Œå¦‚æœè§‰å¾—ä¸é”™çš„è¯ï¼Œå°±æ–­å¼€è¿›è¡Œæ¥ä¸‹æ¥çš„æ­¥éª¤ï¼ŒæŠŠæ‰€è¿›è¡Œçš„ä¿®æ”¹æ¨é€åˆ°è‡ªå·±æ‰˜ç®¡çš„ç½‘ç«™å¦‚githubæˆ–è€…giteeä¹‹ç±»çš„ã€‚</p>
<p><img src="https://cdn.jsdelivr.net/gh/kkonglb/image/image-20241117164754133.png" alt="image-20241117164754133"></p>
<h3 id="å¦‚ä½•å†™åšå®¢"><a href="#å¦‚ä½•å†™åšå®¢" class="headerlink" title="å¦‚ä½•å†™åšå®¢"></a>å¦‚ä½•å†™åšå®¢</h3><p><code>hexo new &quot;æ–‡ç« å&quot;</code>  è¿™æ ·å°±èƒ½æ–°å»ºä¸€ç¯‡åšå®¢ï¼Œè¿™å¼ æˆªå›¾ä¸Šä¹Ÿæ˜¾ç¤ºäº†è‡ªå·±çš„åšå®¢åˆ›å»ºåœ¨é‚£ä¸ªä½ç½®äº†ï¼Œé»˜è®¤æ˜¯åœ¨<code>blog/source/posts/</code>é‡Œé¢çš„ã€‚</p>
<p><img src="https://cdn.jsdelivr.net/gh/kkonglb/image/image-20241117165912086.png" alt="image-20241117165912086"></p>
<p>æˆ‘ä»¬ç›®å‰æ˜¯åœ¨<code>blog</code>ï¼Œæƒ³è¦è¿›å…¥è¿™ä¸ªåšå®¢ç›®å½•çœ‹ä¸€çœ¼éœ€è¦å¾€é‡Œè¿›ä¸¤çº§ç›®å½•ï¼Œå¦‚å›¾æ‰€ç¤ºå°±èƒ½è¿›å…¥äº†ã€‚</p>
<p><img src="https://cdn.jsdelivr.net/gh/kkonglb/image/image-20241117170155809.png" alt="image-20241117170155809"></p>
<p><code>ls -l</code>çœ‹ä¸€çœ¼ç¡®å®æ˜¯æœ‰ä¸¤ä¸ªåšå®¢ï¼Œä¸€ä¸ªæ˜¯é»˜è®¤åˆ›å»ºçš„hello worldåšå®¢ï¼Œå¦ä¸€ä¸ªå°±æ˜¯æˆ‘ä»¬åˆšåˆ›å»ºçš„ä¸€ç¯‡åšå®¢ã€‚</p>
<p><img src="https://cdn.jsdelivr.net/gh/kkonglb/image/image-20241117170229422.png" alt="image-20241117170229422">	</p>
<p>æƒ³è¦ä¿®æ”¹çš„è¯å°±ç›´æ¥æ‰“å¼€ä¿®æ”¹æˆ–è€…ç”¨è‡ªå¸¦çš„vimç¼–è¾‘å™¨ä¿®æ”¹ä¹Ÿè¡Œã€‚</p>
<p><img src="https://cdn.jsdelivr.net/gh/kkonglb/image/image-20241117170443091.png" alt="image-20241117170443091"></p>
<p>è¿™æ ·å°±èƒ½è¿›å…¥vimç¼–è¾‘å™¨è¿›è¡Œä¿®æ”¹äº†ï¼Œæ€ä¹ˆä¿®æ”¹æˆ‘å°±ä¸ç®¡äº†ï¼Œä½†æ˜¯å› ä¸ºæˆ‘ä»¬å»ºçš„è¿™ç§åšå®¢éƒ½æ˜¯markdownæ ¼å¼çš„ï¼Œä¸ªäººæ„Ÿè§‰è¿˜æ˜¯ç”¨typoraæˆ–è€…vscodeè¿™ç§ç¼–è¾‘å™¨è¿›è¡Œä¿®æ”¹æ¯”è¾ƒèˆ’æœä¸€ç‚¹ã€‚</p>
<p><img src="https://cdn.jsdelivr.net/gh/kkonglb/image/image-20241117170500983.png" alt="image-20241117170500983"></p>
<p>æ¨å‡ºvimç¼–è¾‘å™¨çš„è¯å°±å…ˆæŒ‰Escï¼Œç„¶åè¾“å…¥<code>:wq</code>å›è½¦å°±èƒ½é€€å‡ºäº†ï¼Œ&#x3D;&#x3D;<strong>wqæ˜¯writeå’Œquitï¼Œä¿å­˜å¹¶é€€å‡ºçš„æ„æ€</strong>&#x3D;&#x3D;ï¼Œ</p>
<p><img src="https://cdn.jsdelivr.net/gh/kkonglb/image/image-20241117170757174.png" alt="image-20241117170757174"></p>
<p>åˆšæ‰æˆ‘ä»¬è¿›å…¥åˆ°åšå®¢é‚£ä¸€ä¸ªç›®å½•ä¸‹ï¼Œç°åœ¨æˆ‘ä»¬è¦é€€å›å»ï¼Œç›´æ¥<code>cd ../..</code>è¿ç»­å›é€€ä¸¤çº§ç›®å½•ã€‚</p>
<p><img src="https://cdn.jsdelivr.net/gh/kkonglb/image/image-20241117170953675.png" alt="image-20241117170953675"></p>
<h3 id="å¦‚ä½•æŠŠåšå®¢éƒ¨ç½²åˆ°githubä¸Šå»"><a href="#å¦‚ä½•æŠŠåšå®¢éƒ¨ç½²åˆ°githubä¸Šå»" class="headerlink" title="å¦‚ä½•æŠŠåšå®¢éƒ¨ç½²åˆ°githubä¸Šå»"></a>å¦‚ä½•æŠŠåšå®¢éƒ¨ç½²åˆ°githubä¸Šå»</h3><h4 id="åˆ›å»ºä¸€ä¸ªä»“åº“"><a href="#åˆ›å»ºä¸€ä¸ªä»“åº“" class="headerlink" title="åˆ›å»ºä¸€ä¸ªä»“åº“"></a>åˆ›å»ºä¸€ä¸ªä»“åº“</h4><p>ä»“åº“å‘½åå¿…é¡»å¦‚å›¾æ‰€ç¤ºï¼Œä»“åº“åå­—å¿…é¡»æ˜¯è¿™æ ·çš„{username}.github.io</p>
<p><img src="https://cdn.jsdelivr.net/gh/kkonglb/image/image-20241117171230685.png" alt="image-20241117171230685"></p>
<p>ç„¶åæˆ‘ä»¬è¦å®‰è£…ä¸€ä¸ªæ”¯æŒgitçš„hexoçš„éƒ¨ç½²æ’ä»¶<code>npm install --save hexo-deployer-git</code>\</p>
<p>å†æ¬¡å‹æƒ…æç¤ºï¼Œæ‰€æœ‰æ­¥éª¤éƒ½å¯èƒ½ç‰¹åˆ«æ…¢ï¼Œæˆ‘è¿™ä¸€æ­¥4minæ‰å¼„å®Œ</p>
<p><img src="https://cdn.jsdelivr.net/gh/kkonglb/image/image-20241117172040769.png" alt="image-20241117172040769"></p>
<h4 id="ç¼–è¾‘-config-ymlæ–‡ä»¶"><a href="#ç¼–è¾‘-config-ymlæ–‡ä»¶" class="headerlink" title="ç¼–è¾‘ config.ymlæ–‡ä»¶"></a>ç¼–è¾‘ <em>config.ymlæ–‡ä»¶</em></h4><p><img src="https://cdn.jsdelivr.net/gh/kkonglb/image/image-20241117172321948.png" alt="image-20241117172321948"></p>
<p>æœ€ä¸‹é¢è¿™ä¸ªdeployè¿™ä¸€éƒ¨åˆ†æŒ‰ç…§å›¾ä¸­æ‰€ç¤ºè¿›è¡Œä¿®æ”¹ï¼Œç¬¬äºŒä¸ªrepoå°±å¡«è‡ªå·±åˆšæ‰æ–°å»ºçš„ä»“åº“çš„ç½‘å€+<code>.git</code></p>
<p><img src="https://cdn.jsdelivr.net/gh/kkonglb/image/image-20241117172443773.png" alt="image-20241117172443773"></p>
<h4 id="éƒ¨ç½²"><a href="#éƒ¨ç½²" class="headerlink" title="éƒ¨ç½²"></a>éƒ¨ç½²</h4><ul>
<li>hexo clean &#x2F;&#x2F;æ¸…é™¤ç¼“å­˜</li>
<li>hexo g &#x2F;&#x2F;ç”Ÿæˆé™æ€æ–‡ä»¶</li>
<li>hexo d &#x2F;&#x2F;éƒ¨ç½²</li>
</ul>
<p> è¿™ä¸‰æ­¥è¿ç€èµ°å°±è¡Œäº†ï¼Œå¦‚æœæƒ³è¦ç®€åŒ–çš„è¯å¯ä»¥ç›´æ¥<code>hexo clean &amp;&amp; hexo g &amp;&amp; hexo d</code>ç„¶åæˆ‘ä»¬å°±å‘ç°æˆ‘ä»¬çš„githubä»“åº“æœ‰ä¸œè¥¿äº†</p>
<p><img src="https://cdn.jsdelivr.net/gh/kkonglb/image/image-20241117180800765.png" alt="image-20241117180800765"></p>
<h2 id="æ›´æ¢hexoä¸»é¢˜"><a href="#æ›´æ¢hexoä¸»é¢˜" class="headerlink" title="æ›´æ¢hexoä¸»é¢˜"></a>æ›´æ¢hexoä¸»é¢˜</h2><p>æˆ‘é€‰æ‹©çš„æ˜¯è¿™ä¸ªgithubä¸Šçš„yiliaä¸»é¢˜ï¼Œå¯ä»¥è‡ªå·±ç›´æ¥ä½¿ç”¨git cloneæˆ–è€…ä¸‹è½½ä¹‹åæ”¾è¿›å»å°±è¡Œäº†</p>
<p><a href="https://github.com/litten/hexo-theme-yilia">https://github.com/litten/hexo-theme-yilia</a></p>
<p><img src="https://cdn.jsdelivr.net/gh/kkonglb/image/image-20241117184457760.png" alt="image-20241117184457760"></p>
<p>å†æ¬¡æ‰“å¼€_config.ymlæ‰¾åˆ°è¿™ä¸ªthemeç„¶åä¿®æ”¹æˆyiliaå°±è¡Œäº†_</p>
<p><img src="https://cdn.jsdelivr.net/gh/kkonglb/image/image-20241117194515394.png" alt="image-20241117194515394"></p>
<p>![](<a href="https://cdn.jsdelivr.net/gh/kkonglb/image/222.png">https://cdn.jsdelivr.net/gh/kkonglb/image/222.png</a></p>
<p>ç„¶åå‰©ä¸‹çš„å°±æ˜¯å°±æ˜¯ä¸Šä¸€æ­¥è®²çš„éƒ¨ç½²çš„ä¸‰æ­¥äº†</p>
<ul>
<li><p>hexo clean &#x2F;&#x2F;æ¸…é™¤ç¼“å­˜</p>
</li>
<li><p>hexo g &#x2F;&#x2F;ç”Ÿæˆé™æ€æ–‡ä»¶</p>
</li>
<li><p>hexo d &#x2F;&#x2F;éƒ¨ç½²</p>
<p><img src="https://cdn.jsdelivr.net/gh/kkonglb/image/61654ee123d154319.jpg" alt="61654ee123d154319"></p>
</li>
</ul>
<p>è¿™æ ·å°±èƒ½ä¿®æ”¹æˆåŠŸäº†ï¼Œä¸è¿‡åœ¨éƒ¨ç½²ä¹‹å‰ä¹Ÿå¯ä»¥hexo sç°åœ¨æœ¬åœ°å…ˆçœ‹ä¸€çœ¼æ•ˆæœ</p>
<p><img src="https://cdn.jsdelivr.net/gh/kkonglb/image/image-20241117230819460.png" alt="image-20241117230819460"></p>
<h2 id="æˆ‘çš„åšå®¢"><a href="#æˆ‘çš„åšå®¢" class="headerlink" title="æˆ‘çš„åšå®¢"></a>æˆ‘çš„åšå®¢</h2><p>æœ€åé™„ä¸Šæˆ‘è‡ªå·±çš„åšå®¢ <a href="https://kkonglb.github.io/">https://kkonglb.github.io/</a></p>
<p><img src="https://cdn.jsdelivr.net/gh/kkonglb/image/image-20241129173803098.png" alt="image-20241129173803098"></p>
]]></content>
  </entry>
  <entry>
    <title>Hello World</title>
    <url>/2024/11/29/hello-world/</url>
    <content><![CDATA[<p>Welcome to <a href="https://hexo.io/">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues">GitHub</a>.</p>
<h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo new <span class="string">&quot;My New Post&quot;</span></span><br></pre></td></tr></table></figure>

<p>More info: <a href="https://hexo.io/docs/writing.html">Writing</a></p>
<h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure>

<p>More info: <a href="https://hexo.io/docs/server.html">Server</a></p>
<h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure>

<p>More info: <a href="https://hexo.io/docs/generating.html">Generating</a></p>
<h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure>

<p>More info: <a href="https://hexo.io/docs/one-command-deployment.html">Deployment</a></p>
]]></content>
  </entry>
  <entry>
    <title>zzu vjudgeæš‘å‡è®­ç»ƒday5:å›¾è®ºåŸºç¡€</title>
    <url>/2024/11/29/zzu%20vjudge%E6%9A%91%E5%81%87%E8%AE%AD%E7%BB%83day5%E5%9B%BE%E8%AE%BA%E5%9F%BA%E7%A1%80/</url>
    <content><![CDATA[<h1 id="zzu-vjudgeæš‘å‡è®­ç»ƒday5-å›¾è®ºåŸºç¡€"><a href="#zzu-vjudgeæš‘å‡è®­ç»ƒday5-å›¾è®ºåŸºç¡€" class="headerlink" title="zzu vjudgeæš‘å‡è®­ç»ƒday5:å›¾è®ºåŸºç¡€"></a>zzu vjudgeæš‘å‡è®­ç»ƒday5:å›¾è®ºåŸºç¡€</h1><h2 id="A-æŸ¥æ‰¾æ–‡çŒ®"><a href="#A-æŸ¥æ‰¾æ–‡çŒ®" class="headerlink" title="A æŸ¥æ‰¾æ–‡çŒ®"></a>A æŸ¥æ‰¾æ–‡çŒ®</h2><p><a href="https://www.luogu.com.cn/problem/P5318">https://www.luogu.com.cn/problem/P5318</a></p>
<h2 id="B-å›¾çš„éå†"><a href="#B-å›¾çš„éå†" class="headerlink" title="B - å›¾çš„éå†"></a>B - å›¾çš„éå†</h2><p><a href="https://www.luogu.com.cn/problem/P3916">https://www.luogu.com.cn/problem/P3916</a></p>
<p>&#x3D;&#x3D;è¿™ä¸€é¢˜æ€»å…±åšè¿‡ä¸¤éï¼Œç¬¬ä¸€æ¬¡çš„æ—¶å€™ä»1å¼€å§‹æ­£å‘dfsæ²¡æœ‰åšå‡ºæ¥ä¹Ÿä¸çŸ¥é“å“ªé‡Œé”™äº†ï¼Œåæ¥çœ‹äº†é¢˜è§£å­¦ä¼šäº†åå‘dfsï¼Œç¬¬äºŒæ¬¡æƒ³ç€ç”¨æ­£å‘dfsåšä¸€ä¸‹ä½†æ˜¯è¿˜æ˜¯å¤±è´¥äº†ï¼Œä½†æ˜¯å·²ç»æ¸…é™¤æ˜¯é”™åœ¨å“ªé‡Œäº†ï¼Œç°åœ¨åˆ†äº«ä¸€ä¸‹æ­£ç¡®çš„åšæ³•å’Œé”™è¯¯çš„æ€è·¯&#x3D;&#x3D;</p>
<p><strong>è¿™ä¸ªæ˜¯æ­£ç¡®åšæ³•</strong></p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">using</span> u32 = <span class="type">unsigned</span>;</span><br><span class="line"><span class="keyword">using</span> ll = <span class="type">long</span> <span class="type">long</span>;</span><br><span class="line"><span class="keyword">using</span> u64 = <span class="type">unsigned</span> <span class="type">long</span> <span class="type">long</span>;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> inf = <span class="number">2147483647</span>;</span><br><span class="line"><span class="type">const</span> ll INF = <span class="number">1e18</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    ios::<span class="built_in">sync_with_stdio</span>(<span class="literal">false</span>);</span><br><span class="line">    cin.<span class="built_in">tie</span>(<span class="literal">nullptr</span>);</span><br><span class="line">    <span class="type">int</span> n,m;</span><br><span class="line">    cin&gt;&gt;n&gt;&gt;m;</span><br><span class="line">    vector&lt;vector&lt;<span class="type">int</span>&gt;&gt;<span class="built_in">adj</span>(n<span class="number">+1</span>);</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=m;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="type">int</span> a,b;</span><br><span class="line">        cin&gt;&gt;a&gt;&gt;b;</span><br><span class="line">        adj[b].<span class="built_in">push_back</span>(a);<span class="comment">// åå‘å»ºè¾¹ï¼Œä»nåˆ°1è¿›è¡Œdfs</span></span><br><span class="line">    &#125;    </span><br><span class="line">    vector&lt;<span class="type">int</span>&gt;<span class="built_in">ans</span>(n<span class="number">+1</span>);</span><br><span class="line">    <span class="built_in">iota</span>(ans.<span class="built_in">begin</span>(),ans.<span class="built_in">end</span>(),<span class="number">0</span>);<span class="comment">// è¿™ä¸ªå‡½æ•°æ˜¯ä»0å¼€å§‹é€’å¢èµ‹å€¼ï¼Œå› ä¸ºä¸€ä¸ªæ•°å…¶æœ¬èº«ä¹Ÿæ˜¯ä»–èƒ½åˆ°è¾¾çš„æ•°å­—</span></span><br><span class="line">    vector&lt;<span class="type">bool</span>&gt;<span class="built_in">vis</span>(n<span class="number">+1</span>);</span><br><span class="line">    <span class="keyword">auto</span> dfs=[&amp;](<span class="keyword">auto</span> self,<span class="type">int</span> u,<span class="type">int</span> shu)-&gt;<span class="type">int</span>&#123;</span><br><span class="line">        vis[u]=<span class="number">1</span>;</span><br><span class="line">        ans[u]=<span class="built_in">max</span>(ans[u],shu);</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">auto</span> v:adj[u])</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span>(vis[v])<span class="keyword">continue</span>;<span class="comment">// é‡åˆ°å·²ç»æŸ“è‰²çš„å°±è·³è¿‡ï¼Œå› ä¸ºä¹‹å‰æŸ“è‰²çš„æ•°å€¼ä¸€å®šæ¯”ç°åœ¨çš„å¤§</span></span><br><span class="line">            <span class="built_in">self</span>(self,v,shu);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> ans[u];</span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=n;i&gt;=<span class="number">1</span>;i--)<span class="keyword">if</span>(!vis[i])<span class="built_in">dfs</span>(dfs,i,i);<span class="comment">// ä»nå¼€å§‹ï¼Œå°†èƒ½èµ°åˆ°çš„åœ°æ–¹é€æ­¥æŸ“è‰²ï¼Œæ¥ç€n-1ï¼Œç›´åˆ°1ã€‚</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++)cout&lt;&lt;ans[i]&lt;&lt;<span class="string">&quot; \n&quot;</span>[i==n];</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>è¿™ä¸ªæ˜¯æ­£å‘dfsï¼Œå¦‚æœåŒæ ·æ˜¯ç”¨æ­£å‘dfsåšçš„ä½†æ˜¯ä¸çŸ¥é“å“ªé‡Œé”™çš„å¯ä»¥çœ‹ä¸€ä¸‹æ¥ä¸‹æ¥è¿™ç»„æ•°æ®</strong></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">3 3</span><br><span class="line">1 2 </span><br><span class="line">2 1 </span><br><span class="line">1 3</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>ä»1å¼€å§‹dfsï¼Œåˆ°2çš„æ—¶å€™æ›´æ–°2,2åˆç”¨1æ¥æ›´æ–°è‡ªå·±ï¼Œä½†æ˜¯æ­¤æ—¶1çš„dfså¹¶æ²¡æœ‰èµ°å®Œï¼Œ1å¹¶æ²¡æœ‰èµ°åˆ°3ï¼Œæ‰€ä»¥ans[2]çš„æ›´æ–°åçš„ç»“æœæ˜¯2ï¼Œ</p>
<p>æ­£ç¡®ç»“æœ 3 3 3 </p>
<p>é”™è¯¯ç»“æœ </p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">using</span> u32 = <span class="type">unsigned</span>;</span><br><span class="line"><span class="keyword">using</span> ll = <span class="type">long</span> <span class="type">long</span>;</span><br><span class="line"><span class="keyword">using</span> u64 = <span class="type">unsigned</span> <span class="type">long</span> <span class="type">long</span>;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> inf = <span class="number">2147483647</span>;</span><br><span class="line"><span class="type">const</span> ll INF = <span class="number">1e18</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    ios::<span class="built_in">sync_with_stdio</span>(<span class="literal">false</span>);</span><br><span class="line">    cin.<span class="built_in">tie</span>(<span class="literal">nullptr</span>);</span><br><span class="line">    <span class="type">int</span> n,m;</span><br><span class="line">    cin&gt;&gt;n&gt;&gt;m;</span><br><span class="line">    vector&lt;vector&lt;<span class="type">int</span>&gt;&gt;<span class="built_in">adj</span>(n<span class="number">+1</span>);</span><br><span class="line">    vector&lt;<span class="type">int</span>&gt;<span class="built_in">ans</span>(n<span class="number">+1</span>),<span class="built_in">vis</span>(n<span class="number">+1</span>);</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=m;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="type">int</span> a,b;</span><br><span class="line">        cin&gt;&gt;a&gt;&gt;b;</span><br><span class="line">        adj[a].<span class="built_in">push_back</span>(b);</span><br><span class="line">    &#125;    </span><br><span class="line">    <span class="built_in">iota</span>(ans.<span class="built_in">begin</span>(),ans.<span class="built_in">end</span>(),<span class="number">0</span>);</span><br><span class="line">    <span class="keyword">auto</span> dfs=[&amp;](<span class="keyword">auto</span> self,<span class="type">int</span> u)-&gt;<span class="type">int</span>&#123;</span><br><span class="line">        vis[u]=<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">auto</span> v:adj[u])</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span>(vis[v])</span><br><span class="line">            &#123;</span><br><span class="line">                ans[u]=<span class="built_in">max</span>(ans[u],ans[v]);</span><br><span class="line">                <span class="keyword">continue</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            ans[u]=<span class="built_in">max</span>(ans[u],<span class="built_in">self</span>(self,v));</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> ans[u];</span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++)<span class="keyword">if</span>(!vis[i])<span class="built_in">dfs</span>(dfs,i);</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++)cout&lt;&lt;ans[i]&lt;&lt;<span class="string">&quot; \n&quot;</span>[i==n];</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

]]></content>
  </entry>
  <entry>
    <title>åŒºé—´DP</title>
    <url>/2024/11/29/%E5%8C%BA%E9%97%B4DP/</url>
    <content><![CDATA[<h1 id="åŒºé—´DP-O-n-3"><a href="#åŒºé—´DP-O-n-3" class="headerlink" title="åŒºé—´DP  O(n^3)"></a>åŒºé—´DP  O(n^3)</h1><p>åŒºé—´DPä¸€èˆ¬ç»™çš„Nçš„èŒƒå›´éƒ½ä¼šæ¯”è¾ƒå°ï¼Œåœ¨æˆ‘çœ‹æ¥åŒºé—´DPæ˜¯ä¸€ä¸ªæ¯”è¾ƒå®½æ³›çš„æ¦‚å¿µï¼Œåˆšå¼€å§‹åªåšäº†ç¬¬äºŒé¢˜çŸ³å­åˆå¹¶ï¼Œå¯¹åŒºé—´DPç†è§£çš„æ¯”è¾ƒæµ…æ˜¾ï¼Œç°åœ¨çœ‹æ¥åŒºé—´DPæ‰€å…±æœ‰çš„ç‰¹ç‚¹å°±æ˜¯<code>dp[i][j]</code>æ‰€è¡¨ç¤ºçš„iåˆ°jè¿™ä¸ªåŒºé—´çš„ä¸€ä¸ªå€¼</p>
<h2 id="P1063-NOIP2006-æé«˜ç»„-èƒ½é‡é¡¹é“¾"><a href="#P1063-NOIP2006-æé«˜ç»„-èƒ½é‡é¡¹é“¾" class="headerlink" title="P1063 [NOIP2006 æé«˜ç»„] èƒ½é‡é¡¹é“¾"></a>P1063 [NOIP2006 æé«˜ç»„] èƒ½é‡é¡¹é“¾</h2><p><a href="https://www.luogu.com.cn/problem/P1063">https://www.luogu.com.cn/problem/P1063</a></p>
<p>æ­£æ•´æ•° Nï¼ˆ4â‰¤Nâ‰¤100ï¼‰</p>
<p>æ­£å¸¸çš„ä¸€é“ç¯å½¢åŒºé—´DPï¼Œæ¯ä¸ªå˜é‡å­˜ä¸€ä¸‹å¤´æ ‡è®°å’Œå°¾æ ‡è®°å°±è¡Œäº†</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">using</span> u32 = <span class="type">unsigned</span>;</span><br><span class="line"><span class="keyword">using</span> ll = <span class="type">long</span> <span class="type">long</span>;</span><br><span class="line"><span class="keyword">using</span> u64 = <span class="type">unsigned</span> <span class="type">long</span> <span class="type">long</span>;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> inf = <span class="number">2147483647</span>;</span><br><span class="line"><span class="type">const</span> ll INF = <span class="number">1e18</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    ios::<span class="built_in">sync_with_stdio</span>(<span class="literal">false</span>);</span><br><span class="line">    cin.<span class="built_in">tie</span>(<span class="literal">nullptr</span>);</span><br><span class="line">    <span class="type">int</span> n;</span><br><span class="line">    cin&gt;&gt;n;</span><br><span class="line">    vector&lt;pair&lt;<span class="type">int</span>,<span class="type">int</span>&gt;&gt;<span class="built_in">v</span>(<span class="number">2</span>*n<span class="number">+1</span>);</span><br><span class="line">    vector&lt;vector&lt;<span class="type">int</span>&gt;&gt;<span class="built_in">f</span>(<span class="number">2</span>*n<span class="number">+1</span>,<span class="built_in">vector</span>&lt;<span class="type">int</span>&gt;(<span class="number">2</span>*n<span class="number">+1</span>,-inf/<span class="number">2</span>)),<span class="built_in">g</span>(<span class="number">2</span>*n<span class="number">+1</span>,<span class="built_in">vector</span>&lt;<span class="type">int</span>&gt;(<span class="number">2</span>*n<span class="number">+1</span>));</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        cin&gt;&gt;v[i].first;</span><br><span class="line">        v[i+n].first=v[i].first;</span><br><span class="line">    &#125;    </span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=<span class="number">2</span>*n;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        v[i].second=v[i%n<span class="number">+1</span>].first;</span><br><span class="line">        f[i][i]=<span class="number">0</span>;</span><br><span class="line">        g[i][i]=<span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> len=<span class="number">2</span>;len&lt;=n;len++)<span class="comment">// åŒºé—´é•¿åº¦</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i+len<span class="number">-1</span>&lt;=<span class="number">2</span>*n;i++)<span class="comment">// èµ·å§‹ä½ç½®</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="type">int</span> j=i+len<span class="number">-1</span>;<span class="comment">// æœ«ä½ç½®</span></span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> k=i;k&lt;j;k++)<span class="comment">// åˆ‡å‰²ä½ç½®</span></span><br><span class="line">            &#123;</span><br><span class="line">                f[i][j]=<span class="built_in">max</span>(f[i][j],f[i][k]+f[k<span class="number">+1</span>][j]+v[i].first*v[k].second*v[j].second);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">int</span> maxn=-inf;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++)<span class="comment">// æšä¸¾åŒºé—´</span></span><br><span class="line">    &#123;</span><br><span class="line">        maxn=<span class="built_in">max</span>(maxn,f[i][i+n<span class="number">-1</span>]);</span><br><span class="line">    &#125;</span><br><span class="line">    cout&lt;&lt;maxn&lt;&lt;<span class="string">&#x27;\n&#x27;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="P1880-NOI1995-çŸ³å­åˆå¹¶"><a href="#P1880-NOI1995-çŸ³å­åˆå¹¶" class="headerlink" title="P1880 [NOI1995] çŸ³å­åˆå¹¶"></a>P1880 [NOI1995] çŸ³å­åˆå¹¶</h2><p><a href="https://www.luogu.com.cn/problem/P1880">https://www.luogu.com.cn/problem/P1880</a></p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">using</span> u32 = <span class="type">unsigned</span>;</span><br><span class="line"><span class="keyword">using</span> ll = <span class="type">long</span> <span class="type">long</span>;</span><br><span class="line"><span class="keyword">using</span> u64 = <span class="type">unsigned</span> <span class="type">long</span> <span class="type">long</span>;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> inf = <span class="number">2147483647</span>;</span><br><span class="line"><span class="type">const</span> ll INF = <span class="number">1e18</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    ios::<span class="built_in">sync_with_stdio</span>(<span class="literal">false</span>);</span><br><span class="line">    cin.<span class="built_in">tie</span>(<span class="literal">nullptr</span>);</span><br><span class="line">    <span class="type">int</span> n;</span><br><span class="line">    cin&gt;&gt;n;</span><br><span class="line">    vector&lt;<span class="type">int</span>&gt;<span class="built_in">a</span>(<span class="number">2</span>*n<span class="number">+1</span>);</span><br><span class="line">    vector&lt;vector&lt;<span class="type">int</span>&gt;&gt;<span class="built_in">f</span>(<span class="number">2</span>*n<span class="number">+1</span>,<span class="built_in">vector</span>&lt;<span class="type">int</span>&gt;(<span class="number">2</span>*n<span class="number">+1</span>,inf/<span class="number">2</span>)),<span class="built_in">g</span>(<span class="number">2</span>*n<span class="number">+1</span>,<span class="built_in">vector</span>&lt;<span class="type">int</span>&gt;(<span class="number">2</span>*n<span class="number">+1</span>,-inf/<span class="number">2</span>));</span><br><span class="line">    vector&lt;ll&gt;<span class="built_in">prev</span>(<span class="number">2</span>*n<span class="number">+1</span>);</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        cin&gt;&gt;a[i];</span><br><span class="line">        a[i+n]=a[i];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=<span class="number">2</span>*n;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        prev[i]+=prev[i<span class="number">-1</span>]+a[i];</span><br><span class="line">        f[i][i]=<span class="number">0</span>;</span><br><span class="line">        g[i][i]=<span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> len=<span class="number">2</span>;len&lt;=n;len++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i+len<span class="number">-1</span>&lt;=<span class="number">2</span>*n;i++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="type">int</span> j=i+len<span class="number">-1</span>;</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> k=i;k&lt;j;k++)</span><br><span class="line">            &#123;</span><br><span class="line">                f[i][j]=<span class="built_in">min</span>(<span class="number">1LL</span>*f[i][j],f[i][k]+f[k<span class="number">+1</span>][j]+prev[j]-prev[i<span class="number">-1</span>]);</span><br><span class="line">                g[i][j]=<span class="built_in">max</span>(<span class="number">1LL</span>*g[i][j],g[i][k]+g[k<span class="number">+1</span>][j]+prev[j]-prev[i<span class="number">-1</span>]);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">int</span> minn=inf,maxn=-inf;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        minn=<span class="built_in">min</span>(minn,f[i][i+n<span class="number">-1</span>]);</span><br><span class="line">        maxn=<span class="built_in">max</span>(maxn,g[i][i+n<span class="number">-1</span>]);</span><br><span class="line">    &#125;</span><br><span class="line">    cout&lt;&lt;minn&lt;&lt;<span class="string">&#x27;\n&#x27;</span>&lt;&lt;maxn&lt;&lt;<span class="string">&#x27;\n&#x27;</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>




<h2 id="P1005-NOIP2007-æé«˜ç»„-çŸ©é˜µå–æ•°æ¸¸æˆ"><a href="#P1005-NOIP2007-æé«˜ç»„-çŸ©é˜µå–æ•°æ¸¸æˆ" class="headerlink" title="P1005 [NOIP2007 æé«˜ç»„] çŸ©é˜µå–æ•°æ¸¸æˆ"></a>P1005 [NOIP2007 æé«˜ç»„] çŸ©é˜µå–æ•°æ¸¸æˆ</h2><p><a href="https://www.luogu.com.cn/problem/P1005">https://www.luogu.com.cn/problem/P1005</a></p>
<p>é«˜ç²¾åº¦å¤ªéš¾å†™äº†ï¼Œåªå¥½ç°å­¦pythonäº† :cry:</p>
<ul>
<li>æ±‚nè¡Œæœ€å¤§å¾—åˆ†å’Œï¼Œæ¯ä¸€è¡Œå–æ•°åˆä¸ä¼šå½±å“åˆ°å…¶ä»–è¡Œï¼Œé‚£ä¹ˆåªè¦ç¡®ä¿æ¯ä¸€è¡Œå¾—åˆ†æœ€å¤§ï¼Œç®¡å¥½è‡ªå®¶å­©å­å°±è¡Œäº†ã€‚ï¼ˆè¿™ä¸ªåœ¨åŠ¨è§„ä¸­å«<strong>æœ€ä¼˜å­ç»“æ„</strong>ï¼‰</li>
<li>æ¯æ¬¡å–æ•°æ˜¯åœ¨è¾¹ç¼˜å–ï¼Œé‚£ä¹ˆæ¯æ¬¡å–æ•°å®Œå‰©ä¸‹æ¥çš„å…ƒç´ ä¸€å®šæ˜¯åœ¨ä¸€ä¸ªå®Œæ•´çš„ä¸€ä¸ªåŒºé—´ä¸­ï¼Œåˆæ˜¯æ±‚æœ€ä¼˜è§£ï¼Œ<strong>åŒºé—´DP</strong>åº”è¿è€Œç”Ÿã€‚</li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">n,m=<span class="built_in">map</span>(<span class="built_in">int</span>,<span class="built_in">input</span>().split())</span><br><span class="line">a = [<span class="number">0</span>]*(m+<span class="number">2</span>)// åˆ›å»ºä»¥ä¸ºæ•°ç»„</span><br><span class="line">dp = [[<span class="number">0</span>] * (m+<span class="number">2</span>) <span class="keyword">for</span> _ <span class="keyword">in</span> <span class="built_in">range</span>(m+<span class="number">2</span>)]åˆ›å»ºäºŒç»´æ•°ç»„</span><br><span class="line">ans=<span class="number">0</span></span><br><span class="line"><span class="keyword">for</span> t <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>,n+<span class="number">1</span>):</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(m+<span class="number">2</span>):</span><br><span class="line">        <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(m+<span class="number">2</span>):</span><br><span class="line">            dp[i][j]=<span class="number">0</span></span><br><span class="line">    a[<span class="number">1</span>:m+<span class="number">1</span>]=<span class="built_in">list</span>(<span class="built_in">map</span>(<span class="built_in">int</span>,<span class="built_in">input</span>().split()))</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>,m+<span class="number">1</span>):</span><br><span class="line">        <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">reversed</span>(<span class="built_in">range</span>(i,m+<span class="number">1</span>)):// è¿™ä¸ªå¿…é¡»è¦åç€æ¥ï¼Œä»å¤–wang<span class="string">&#x27;li</span></span><br><span class="line"><span class="string">            dp[i][j]=max(dp[i][j],dp[i-1][j]+pow(2,m-j+i-1)*a[i-1])// è¿™ä¸ªpowå…¶å®å¯ä»¥é¢„å¤„ç†ä¸€ä¸‹</span></span><br><span class="line"><span class="string">            dp[i][j]=max(dp[i][j],dp[i][j+1]+pow(2,m-j+i-1)*a[j+1])    </span></span><br><span class="line"><span class="string">    maxn=0</span></span><br><span class="line"><span class="string">    for i in range(1,m+1):  </span></span><br><span class="line"><span class="string">        maxn=max(maxn,dp[i][i]+pow(2,m)*a[i])</span></span><br><span class="line"><span class="string">    ans=ans+maxn</span></span><br><span class="line"><span class="string">print(ans)</span></span><br></pre></td></tr></table></figure>

]]></content>
  </entry>
  <entry>
    <title>ä»£ç éšæƒ³å½•  åŠ¨æ€è§„åˆ’ç« èŠ‚</title>
    <url>/2024/11/29/%E4%BB%A3%E7%A0%81%E9%9A%8F%E6%83%B3%E5%BD%95%20%20%20%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92%E7%AB%A0%E8%8A%82/</url>
    <content><![CDATA[<h1 id="ä»£ç éšæƒ³å½•-åŠ¨æ€è§„åˆ’ç« èŠ‚"><a href="#ä»£ç éšæƒ³å½•-åŠ¨æ€è§„åˆ’ç« èŠ‚" class="headerlink" title="ä»£ç éšæƒ³å½•  åŠ¨æ€è§„åˆ’ç« èŠ‚"></a>ä»£ç éšæƒ³å½•  åŠ¨æ€è§„åˆ’ç« èŠ‚</h1><h2 id="509-æ–æ³¢é‚£å¥‘æ•°"><a href="#509-æ–æ³¢é‚£å¥‘æ•°" class="headerlink" title="509. æ–æ³¢é‚£å¥‘æ•°"></a>509. æ–æ³¢é‚£å¥‘æ•°</h2><figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">fib</span><span class="params">(<span class="type">int</span> n)</span> </span>&#123;</span><br><span class="line">        vector&lt;<span class="type">int</span>&gt;<span class="built_in">dp</span>(n<span class="number">+1</span>);</span><br><span class="line">        dp[<span class="number">0</span>]=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">if</span>(n&gt;=<span class="number">1</span>)dp[<span class="number">1</span>]=<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">2</span>;i&lt;=n;i++)</span><br><span class="line">        &#123;</span><br><span class="line">            dp[i]=dp[i<span class="number">-1</span>]+dp[i<span class="number">-2</span>];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> dp[n];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<h2 id="70-çˆ¬æ¥¼æ¢¯"><a href="#70-çˆ¬æ¥¼æ¢¯" class="headerlink" title="70. çˆ¬æ¥¼æ¢¯"></a>70. çˆ¬æ¥¼æ¢¯</h2><figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">climbStairs</span><span class="params">(<span class="type">int</span> n)</span> </span>&#123;</span><br><span class="line">        vector&lt;<span class="type">int</span>&gt;<span class="built_in">dp</span>(n<span class="number">+1</span>);</span><br><span class="line">        dp[<span class="number">0</span>]=<span class="number">1</span>;</span><br><span class="line">        dp[<span class="number">1</span>]=<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">2</span>;i&lt;=n;i++)</span><br><span class="line">        &#123;</span><br><span class="line">            dp[i]=dp[i<span class="number">-1</span>]+dp[i<span class="number">-2</span>];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> dp[n];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<h2 id="746-ä½¿ç”¨æœ€å°èŠ±è´¹çˆ¬æ¥¼æ¢¯"><a href="#746-ä½¿ç”¨æœ€å°èŠ±è´¹çˆ¬æ¥¼æ¢¯" class="headerlink" title="746. ä½¿ç”¨æœ€å°èŠ±è´¹çˆ¬æ¥¼æ¢¯"></a>746. ä½¿ç”¨æœ€å°èŠ±è´¹çˆ¬æ¥¼æ¢¯</h2><figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">minCostClimbingStairs</span><span class="params">(vector&lt;<span class="type">int</span>&gt;&amp; cost)</span> </span>&#123;</span><br><span class="line">        <span class="type">int</span> n=cost.<span class="built_in">size</span>();</span><br><span class="line">        vector&lt;<span class="type">int</span>&gt;<span class="built_in">dp</span>(n<span class="number">+1</span>);</span><br><span class="line">        dp[<span class="number">0</span>]=<span class="number">0</span>,dp[<span class="number">1</span>]=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">2</span>;i&lt;=n;i++)</span><br><span class="line">        &#123;</span><br><span class="line">            dp[i]=<span class="built_in">min</span>(dp[i<span class="number">-1</span>]+cost[i<span class="number">-1</span>],dp[i<span class="number">-2</span>]+cost[i<span class="number">-2</span>]);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> dp[n];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>



<h2 id="62-ä¸åŒè·¯å¾„"><a href="#62-ä¸åŒè·¯å¾„" class="headerlink" title="62.ä¸åŒè·¯å¾„"></a>62.ä¸åŒè·¯å¾„</h2><figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">uniquePaths</span><span class="params">(<span class="type">int</span> n, <span class="type">int</span> m)</span> </span>&#123;</span><br><span class="line">        vector&lt;vector&lt;<span class="type">int</span>&gt;&gt;<span class="built_in">dp</span>(n<span class="number">+1</span>,<span class="built_in">vector</span>&lt;<span class="type">int</span>&gt;(m<span class="number">+1</span>));</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j=<span class="number">1</span>;j&lt;=m;j++)dp[<span class="number">1</span>][j]=<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++)dp[i][<span class="number">1</span>]=<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">2</span>;i&lt;=n;i++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> j=<span class="number">2</span>;j&lt;=m;j++)</span><br><span class="line">            &#123;</span><br><span class="line">                dp[i][j]+=dp[i][j<span class="number">-1</span>]+dp[i<span class="number">-1</span>][j];</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> dp[n][m];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>



<h2 id="63-ä¸åŒè·¯å¾„-II"><a href="#63-ä¸åŒè·¯å¾„-II" class="headerlink" title="63. ä¸åŒè·¯å¾„ II"></a>63. ä¸åŒè·¯å¾„ II</h2><figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">uniquePathsWithObstacles</span><span class="params">(vector&lt;vector&lt;<span class="type">int</span>&gt;&gt;&amp; a)</span> </span>&#123;</span><br><span class="line">        <span class="type">int</span> n=a.<span class="built_in">size</span>(),m=a[<span class="number">0</span>].<span class="built_in">size</span>();</span><br><span class="line">        vector&lt;vector&lt;<span class="type">int</span>&gt;&gt;<span class="built_in">dp</span>(n<span class="number">+1</span>,<span class="built_in">vector</span>&lt;<span class="type">int</span>&gt;(m<span class="number">+1</span>));</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j=<span class="number">1</span>;j&lt;=m;j++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span>(a[<span class="number">0</span>][j<span class="number">-1</span>])<span class="keyword">break</span>;</span><br><span class="line">            dp[<span class="number">1</span>][j]=<span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span>(a[i<span class="number">-1</span>][<span class="number">0</span>])<span class="keyword">break</span>;</span><br><span class="line">            dp[i][<span class="number">1</span>]=<span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">2</span>;i&lt;=n;i++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> j=<span class="number">2</span>;j&lt;=m;j++)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">if</span>(a[i<span class="number">-1</span>][j<span class="number">-1</span>])<span class="keyword">continue</span>;</span><br><span class="line">                <span class="keyword">else</span> dp[i][j]+=dp[i<span class="number">-1</span>][j]+dp[i][j<span class="number">-1</span>];</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> dp[n][m];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<h2 id="343-æ•´æ•°æ‹†åˆ†"><a href="#343-æ•´æ•°æ‹†åˆ†" class="headerlink" title="343. æ•´æ•°æ‹†åˆ†"></a>343. æ•´æ•°æ‹†åˆ†</h2><figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">integerBreak</span><span class="params">(<span class="type">int</span> n)</span> </span>&#123;</span><br><span class="line">        vector&lt;<span class="type">int</span>&gt;<span class="built_in">dp</span>(n<span class="number">+1</span>);</span><br><span class="line">        dp[<span class="number">1</span>]=<span class="number">1</span>;</span><br><span class="line">        dp[<span class="number">2</span>]=<span class="number">1</span>;<span class="comment">// è¿™é‡Œæ³¨æ„dpæ•°ç»„çš„å«ä¹‰æ˜¯æ‹†åˆ†æˆè‡³å°‘ä¸¤ä¸ªæ•°çš„ä¹˜ç§¯çš„æœ€å¤§å€¼ï¼Œæ‰€ä»¥dp[2]=1;</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">3</span>;i&lt;=n;i++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> j=<span class="number">1</span>;j&lt;=i/<span class="number">2</span>;j++)</span><br><span class="line">            &#123;</span><br><span class="line">                dp[i]=<span class="built_in">max</span>(&#123;dp[i],j*(i-j),j*dp[i-j]&#125;);<span class="comment">// è¿™ä¸ªdp[i]æ˜¯åœ¨ä¸€æ¬¡åˆä¸€æ¬¡æ›´æ–°ä¸­ä¸æ–­å­˜æ›´æ–°çš„æœ€å¤§å€¼çš„ï¼Œä¸èƒ½åˆ äº†ï¼Œåˆšæ‰å‚»é¸Ÿäº†</span></span><br><span class="line">                è¦ä¹ˆåˆ†æˆj*(i-j)ï¼Œè¦ä¹ˆåˆ†æˆj*(dp[i-j]),è¿™ç§æƒ…å†µå·²ç»å¤Ÿäº†ï¼Œå› ä¸ºåˆ†æˆdp[j]*dp[i-j]çš„è¯æœ€åä¹Ÿä¼šæœ‰ä¸€ä¸ªjï¼Œå…¶å®ä¹Ÿç›¸å½“äºéå†è¿‡äº†	</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> dp[n];</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>



]]></content>
  </entry>
  <entry>
    <title>åšå¼ˆè®º</title>
    <url>/2024/11/29/%E5%8D%9A%E5%BC%88%E8%AE%BA---%E8%91%A3%E6%99%93%E7%AE%97%E6%B3%95/</url>
    <content><![CDATA[<h1 id="åšå¼ˆè®º"><a href="#åšå¼ˆè®º" class="headerlink" title="åšå¼ˆè®º"></a>åšå¼ˆè®º</h1><h2 id="NIMæ¸¸æˆ"><a href="#NIMæ¸¸æˆ" class="headerlink" title="NIMæ¸¸æˆ"></a>NIMæ¸¸æˆ</h2><p><a href="https://www.cnblogs.com/dx123/p/17263056.html">https://www.cnblogs.com/dx123/p/17263056.html</a></p>
<h3 id="P2197-ã€æ¨¡æ¿ã€‘Nim-æ¸¸æˆ"><a href="#P2197-ã€æ¨¡æ¿ã€‘Nim-æ¸¸æˆ" class="headerlink" title="P2197 ã€æ¨¡æ¿ã€‘Nim æ¸¸æˆ"></a>P2197 ã€æ¨¡æ¿ã€‘Nim æ¸¸æˆ</h3><figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">using</span> u32 = <span class="type">unsigned</span>;</span><br><span class="line"><span class="meta">#<span class="keyword">define</span> i128 __int128</span></span><br><span class="line"><span class="keyword">using</span> ll = <span class="type">long</span> <span class="type">long</span>;</span><br><span class="line"><span class="comment">//#define int ll</span></span><br><span class="line"><span class="keyword">using</span> u64 = <span class="type">unsigned</span> <span class="type">long</span> <span class="type">long</span>;</span><br><span class="line"><span class="type">const</span> ll inf = <span class="number">2147483647</span>;</span><br><span class="line"><span class="type">const</span> ll INF = <span class="number">1e18</span>;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="type">int</span> n;</span><br><span class="line">    cin&gt;&gt;n;</span><br><span class="line">    <span class="type">int</span> shu=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="type">int</span> x;</span><br><span class="line">        cin&gt;&gt;x;</span><br><span class="line">        shu^=x;</span><br><span class="line">    &#125;    </span><br><span class="line">    <span class="keyword">if</span>(shu)cout&lt;&lt;<span class="string">&quot;Yes\n&quot;</span>;</span><br><span class="line">    <span class="keyword">else</span> cout&lt;&lt;<span class="string">&quot;No\n&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">signed</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    ios::<span class="built_in">sync_with_stdio</span>(<span class="literal">false</span>);</span><br><span class="line">    cin.<span class="built_in">tie</span>(<span class="literal">nullptr</span>);</span><br><span class="line">    <span class="type">int</span> tt;cin&gt;&gt;tt;</span><br><span class="line">    <span class="keyword">while</span>(tt--)&#123;</span><br><span class="line">        <span class="built_in">solve</span>();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="P1247-å–ç«æŸ´æ¸¸æˆ"><a href="#P1247-å–ç«æŸ´æ¸¸æˆ" class="headerlink" title="P1247 å–ç«æŸ´æ¸¸æˆ"></a>P1247 å–ç«æŸ´æ¸¸æˆ</h3><figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">using</span> u32 = <span class="type">unsigned</span>;</span><br><span class="line"><span class="meta">#<span class="keyword">define</span> i128 __int128;</span></span><br><span class="line"><span class="keyword">using</span> ll = <span class="type">long</span> <span class="type">long</span>;</span><br><span class="line"><span class="comment">//#define int ll</span></span><br><span class="line"><span class="keyword">using</span> u64 = <span class="type">unsigned</span> <span class="type">long</span> <span class="type">long</span>;</span><br><span class="line"><span class="type">const</span> ll inf = <span class="number">2147483647</span>;</span><br><span class="line"><span class="type">const</span> ll INF = <span class="number">1e18</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">signed</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    ios::<span class="built_in">sync_with_stdio</span>(<span class="literal">false</span>);</span><br><span class="line">    cin.<span class="built_in">tie</span>(<span class="literal">nullptr</span>);</span><br><span class="line">    <span class="type">int</span> n;</span><br><span class="line">    cin&gt;&gt;n;</span><br><span class="line">    vector&lt;<span class="type">int</span>&gt;<span class="built_in">a</span>(n<span class="number">+1</span>);</span><br><span class="line">    <span class="type">int</span> shu=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++)&#123;</span><br><span class="line">        cin&gt;&gt;a[i];</span><br><span class="line">        shu^=a[i];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(!shu)<span class="keyword">return</span> cout&lt;&lt;<span class="string">&quot;lose\n&quot;</span>,<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>((a[i]^shu)&lt;a[i])</span><br><span class="line">        &#123;</span><br><span class="line">            cout&lt;&lt;a[i]-(a[i]^shu)&lt;&lt;<span class="string">&#x27; &#x27;</span>&lt;&lt;i&lt;&lt;<span class="string">&#x27;\n&#x27;</span>;</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> j=<span class="number">1</span>;j&lt;=n;j++)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">if</span>(j!=i)cout&lt;&lt;a[j]&lt;&lt;<span class="string">&#x27; &#x27;</span>;</span><br><span class="line">                <span class="keyword">else</span> cout&lt;&lt;(a[i]^shu)&lt;&lt;<span class="string">&#x27; &#x27;</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="P1288-å–æ•°æ¸¸æˆ-II"><a href="#P1288-å–æ•°æ¸¸æˆ-II" class="headerlink" title="P1288 å–æ•°æ¸¸æˆ II"></a>P1288 å–æ•°æ¸¸æˆ II</h3><p><a href="https://www.luogu.com.cn/problem/P1288">https://www.luogu.com.cn/problem/P1288</a></p>
<p>å¦‚æœå‘å·¦æœ‰å¶æ•°ä¸ªæ•°æˆ–è€…å‘å³æœ‰å¶æ•°ä¸ªæ•°ï¼Œé‚£ä¹ˆAèµ¢ï¼Œå¦åˆ™Bèµ¢ï¼Œå› ä¸ºå‡è®¾é€‰æ‹©å‘å³å–çš„è¯ï¼ŒAæ¯æ¬¡éƒ½ç›´æ¥æŠŠä¸‹ä¸€ä¸ªæ•°å–å®Œï¼Œè¿™æ ·ä¸ç®¡Bæ€ä¹ˆåšï¼ŒAæ€»èƒ½å…ˆæŠŠ0ä¹‹å‰çš„é‚£ä¸ªæ•°å–å®Œï¼Œå¦‚Aå…ˆå–å®Œç¬¬ä¸€ä¸ªï¼Œä¸ç®¡Bå°†ç¬¬äºŒä¸ªå–äº†å¤šå°‘ï¼ŒAç›´æ¥å–å®Œç¬¬ä¸‰ä¸ªï¼Œç¬¬ä¸‰ä¸ªå˜æˆäº†0ï¼Œæ‰€ä»¥å·²ç»æ— æ³•å›å¤´äº†ã€‚</p>
<p>åä¹‹ï¼Œå¦‚æœéƒ½æ˜¯å¥‡æ•°çš„è¯ï¼Œæ— è®ºAå¯¹ç¬¬ä¸€ä¸ªæ€ä¹ˆå–ï¼Œå¯¹äºBæ¥è¯´å‰©ä¸‹çš„éƒ½åªå‰©ä¸‹å¶æ•°ä¸ªè¾¹äº†ï¼ŒBç›´æ¥æŒ‰ç…§ä¸Šé¢çš„æ­¥éª¤æš´åŠ›æŠŠä¸‹ä¸€ä¸ªæ•°å–å®Œå°±èƒ½èµ¢ã€‚</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">using</span> u32 = <span class="type">unsigned</span>;</span><br><span class="line"><span class="meta">#<span class="keyword">define</span> i128 __int128;</span></span><br><span class="line"><span class="keyword">using</span> ll = <span class="type">long</span> <span class="type">long</span>;</span><br><span class="line"><span class="comment">//#define int ll</span></span><br><span class="line"><span class="keyword">using</span> u64 = <span class="type">unsigned</span> <span class="type">long</span> <span class="type">long</span>;</span><br><span class="line"><span class="type">const</span> ll inf = <span class="number">2147483647</span>;</span><br><span class="line"><span class="type">const</span> ll INF = <span class="number">1e18</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">signed</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    ios::<span class="built_in">sync_with_stdio</span>(<span class="literal">false</span>);</span><br><span class="line">    cin.<span class="built_in">tie</span>(<span class="literal">nullptr</span>);</span><br><span class="line">    <span class="type">int</span> n;</span><br><span class="line">    cin&gt;&gt;n;</span><br><span class="line">    vector&lt;<span class="type">int</span>&gt;<span class="built_in">a</span>(n<span class="number">+1</span>);</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        cin&gt;&gt;a[i];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>(a[i]==<span class="number">0</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span>(i%<span class="number">2</span>==<span class="number">0</span>)<span class="keyword">return</span> cout&lt;&lt;<span class="string">&quot;YES\n&quot;</span>,<span class="number">0</span>;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=n;i&gt;=<span class="number">1</span>;i--)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>(a[i]==<span class="number">0</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span>((n-i<span class="number">+1</span>)%<span class="number">2</span>==<span class="number">0</span>)<span class="keyword">return</span> cout&lt;&lt;<span class="string">&quot;YES\n&quot;</span>,<span class="number">0</span>;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    cout&lt;&lt;<span class="string">&quot;NO\n&quot;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="P4279-SHOI2008-å°çº¦ç¿°çš„æ¸¸æˆ"><a href="#P4279-SHOI2008-å°çº¦ç¿°çš„æ¸¸æˆ" class="headerlink" title="P4279 [SHOI2008] å°çº¦ç¿°çš„æ¸¸æˆ"></a>P4279 [SHOI2008] å°çº¦ç¿°çš„æ¸¸æˆ</h3><p>[<a href="https://www.luogu.com.cn/problem/P1199">NOIP2010 æ™®åŠç»„] ä¸‰å›½æ¸¸æˆ é¢˜ç›®<img src="https://i-blog.csdnimg.cn/blog_migrate/73accd1c446486d72a65d1862797ba52.png" alt="img">https://www.luogu.com.cn/problem/P1199</a></p>
]]></content>
  </entry>
  <entry>
    <title>å¯¹é¡¶å †</title>
    <url>/2024/11/29/%E5%AF%B9%E9%A1%B6%E5%A0%86/</url>
    <content><![CDATA[<h1 id="å¯¹é¡¶å †"><a href="#å¯¹é¡¶å †" class="headerlink" title="å¯¹é¡¶å †"></a>å¯¹é¡¶å †</h1><p>å¯¹é¡¶å †å°±æ˜¯é€šè¿‡ä¸€ä¸ªå°æ ¹å †å’Œä¸€ä¸ªå¤§æ ¹å †æ¥åŠ¨æ€ç»´æŠ¤ä¸€ä¸ªåºåˆ—ä¸Šç¬¬kå¤§æˆ–è€…ç¬¬Kå°çš„æ•°</p>
<p>åºåˆ—å·¦ä¾§ç”¨å°æ ¹å †ç»´æŠ¤ï¼Œå³ä¾§ç”¨å¤§æ ¹å †ç»´æŠ¤ã€‚</p>
<p>å¦‚æœé¢˜ç›®è¦æ±‚ä¸æ–­åŠ¨æ€è¾“å‡ºç¬¬Kå¤§çš„æ•°ï¼Œé‚£ä¹ˆå°æ ¹å †çš„å †å…ƒç´ å°±æ˜¯ç¬¬Kå¤§çš„å…ƒç´ ï¼Œå¤§æ ¹å †çš„å †é¡¶å…ƒç´ å°±æ˜¯ç¬¬K+1å¤§çš„å…ƒç´ ã€‚</p>
<h2 id="RMID2-Running-Median-Again"><a href="#RMID2-Running-Median-Again" class="headerlink" title="RMID2 - Running Median Again"></a>RMID2 - Running Median Again</h2><p><a href="https://www.luogu.com.cn/problem/SP15376">https://www.luogu.com.cn/problem/SP15376</a></p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">using</span> u32 = <span class="type">unsigned</span>;</span><br><span class="line"><span class="meta">#<span class="keyword">define</span> i128 __int128</span></span><br><span class="line"><span class="keyword">using</span> ll = <span class="type">long</span> <span class="type">long</span>;</span><br><span class="line"><span class="comment">//#define int ll</span></span><br><span class="line"><span class="keyword">using</span> u64 = <span class="type">unsigned</span> <span class="type">long</span> <span class="type">long</span>;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> inf = <span class="number">2147483647</span>;</span><br><span class="line"><span class="type">const</span> ll INF = <span class="number">1e18</span>;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="type">int</span> x;</span><br><span class="line">    priority_queue&lt;<span class="type">int</span>,vector&lt;<span class="type">int</span>&gt;,greater&lt;<span class="type">int</span>&gt;&gt;a;</span><br><span class="line">    priority_queue&lt;<span class="type">int</span>,vector&lt;<span class="type">int</span>&gt;,less&lt;<span class="type">int</span>&gt;&gt;b;</span><br><span class="line">    <span class="keyword">while</span>(cin&gt;&gt;x&amp;&amp;x)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>(x==<span class="number">-1</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            cout&lt;&lt;b.<span class="built_in">top</span>()&lt;&lt;<span class="string">&#x27;\n&#x27;</span>;</span><br><span class="line">            b.<span class="built_in">pop</span>();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> </span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span>(b.<span class="built_in">size</span>()&amp;&amp;<span class="built_in">x</span>&lt;=b.<span class="built_in">top</span>())b.<span class="built_in">push</span>(x);<span class="comment">//æ„Ÿè§‰å°±æ˜¯éšä¾¿é€‰ä¸€ä¸ªå¡è¿›å»,ç„¶åå†è°ƒæ•´</span></span><br><span class="line">            <span class="keyword">else</span>  a.<span class="built_in">push</span>(x);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(b.<span class="built_in">size</span>()&gt;(a.<span class="built_in">size</span>()+b.<span class="built_in">size</span>()<span class="number">+1</span>)/<span class="number">2</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            a.<span class="built_in">push</span>(b.<span class="built_in">top</span>());</span><br><span class="line">            b.<span class="built_in">pop</span>();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(b.<span class="built_in">size</span>()&lt;(a.<span class="built_in">size</span>()+b.<span class="built_in">size</span>()<span class="number">+1</span>)/<span class="number">2</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            b.<span class="built_in">push</span>(a.<span class="built_in">top</span>());</span><br><span class="line">            a.<span class="built_in">pop</span>();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">signed</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    ios::<span class="built_in">sync_with_stdio</span>(<span class="literal">false</span>);</span><br><span class="line">    cin.<span class="built_in">tie</span>(<span class="literal">nullptr</span>);</span><br><span class="line">    <span class="type">int</span> tt;cin&gt;&gt;tt;</span><br><span class="line">    <span class="keyword">while</span>(tt--)&#123;</span><br><span class="line">        <span class="built_in">solve</span>();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="P1801-é»‘åŒ£å­"><a href="#P1801-é»‘åŒ£å­" class="headerlink" title="P1801 é»‘åŒ£å­"></a>P1801 é»‘åŒ£å­</h2><p><a href="https://www.luogu.com.cn/problem/P1801">https://www.luogu.com.cn/problem/P1801</a></p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">using</span> u32 = <span class="type">unsigned</span>;</span><br><span class="line"><span class="meta">#<span class="keyword">define</span> i128 __int128;</span></span><br><span class="line"><span class="keyword">using</span> ll = <span class="type">long</span> <span class="type">long</span>;</span><br><span class="line"><span class="comment">//#define int ll</span></span><br><span class="line"><span class="keyword">using</span> u64 = <span class="type">unsigned</span> <span class="type">long</span> <span class="type">long</span>;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> inf = <span class="number">2147483647</span>;</span><br><span class="line"><span class="type">const</span> ll INF = <span class="number">1e18</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">signed</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    ios::<span class="built_in">sync_with_stdio</span>(<span class="literal">false</span>);</span><br><span class="line">    cin.<span class="built_in">tie</span>(<span class="literal">nullptr</span>);</span><br><span class="line">    <span class="type">int</span> n,m;</span><br><span class="line">    cin&gt;&gt;n&gt;&gt;m;</span><br><span class="line">    vector&lt;<span class="type">int</span>&gt;<span class="built_in">k</span>(n<span class="number">+1</span>),<span class="built_in">v</span>(m<span class="number">+1</span>);</span><br><span class="line">    priority_queue&lt;<span class="type">int</span>,vector&lt;<span class="type">int</span>&gt;,greater&lt;<span class="type">int</span>&gt;&gt;a;</span><br><span class="line">    priority_queue&lt;<span class="type">int</span>,vector&lt;<span class="type">int</span>&gt;,less&lt;<span class="type">int</span>&gt;&gt;b;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++)cin&gt;&gt;k[i];</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=m;i++)cin&gt;&gt;v[i];</span><br><span class="line">    <span class="built_in">sort</span>(v.<span class="built_in">begin</span>()<span class="number">+1</span>,v.<span class="built_in">end</span>());</span><br><span class="line">    <span class="type">int</span> dix=<span class="number">1</span>;</span><br><span class="line">    <span class="type">int</span> geshu=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="type">int</span> x=k[i];</span><br><span class="line">         <span class="comment">// æ„Ÿè§‰è¿™ä¸€ç§æ€è·¯æ˜¯æœ€æ–¹ä¾¿çš„</span></span><br><span class="line">        b.<span class="built_in">push</span>(x);<span class="comment">// è¿™ä¸‰è¡Œä»£ç ç›´æ¥æŠŠxæ·»åŠ åˆ°bä¹‹ä¸­ï¼Œè®©bå…ˆè¿›è¡Œæ’åºï¼Œç„¶åå†æŠŠå †é¡¶å…ƒç´ å¼¹åˆ°aä¸­</span></span><br><span class="line">        a.<span class="built_in">push</span>(b.<span class="built_in">top</span>());</span><br><span class="line">        b.<span class="built_in">pop</span>();</span><br><span class="line">        <span class="keyword">while</span>(dix&lt;=m&amp;&amp;v[dix]==i)</span><br><span class="line">        &#123;</span><br><span class="line">            b.<span class="built_in">push</span>(a.<span class="built_in">top</span>());</span><br><span class="line">            a.<span class="built_in">pop</span>();</span><br><span class="line">            cout&lt;&lt;b.<span class="built_in">top</span>()&lt;&lt;<span class="string">&quot;\n&quot;</span>;</span><br><span class="line">            dix++;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

]]></content>
  </entry>
  <entry>
    <title>å¸¸ç”¨æŠ€å·§ç²¾é€‰</title>
    <url>/2024/11/29/%E5%B8%B8%E7%94%A8%E6%8A%80%E5%B7%A7%E7%B2%BE%E9%80%89/</url>
    <content><![CDATA[<h1 id="å¸¸ç”¨æŠ€å·§ç²¾é€‰"><a href="#å¸¸ç”¨æŠ€å·§ç²¾é€‰" class="headerlink" title="å¸¸ç”¨æŠ€å·§ç²¾é€‰"></a>å¸¸ç”¨æŠ€å·§ç²¾é€‰</h1><h2 id="å°ºå–æ³•"><a href="#å°ºå–æ³•" class="headerlink" title="å°ºå–æ³•"></a>å°ºå–æ³•</h2><h3 id="Subsequence"><a href="#Subsequence" class="headerlink" title="Subsequence"></a>Subsequence</h3><p>å°ºå–æ³•ï¼Œä½¿ç”¨ä¸¤ä¸ªæŒ‡é’ˆï¼Œè®©å³è¾¹çš„æŒ‡é’ˆå¾€å³èµ°çŸ¥é“æ‰¾åˆ°ç¬¦åˆæ¡ä»¶çš„ä½ç½®ï¼Œå¦‚æœæ‰¾ä¸åˆ°å°±breakå‡ºwhileå¾ªç¯ï¼Œå·¦è¾¹çš„æŒ‡é’ˆæ¯æ¬¡å¾€å³ç§»åŠ¨ä¸€ä½ã€‚</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">using</span> u32 = <span class="type">unsigned</span>;</span><br><span class="line"><span class="meta">#<span class="keyword">define</span> i128 __int128;</span></span><br><span class="line"><span class="keyword">using</span> ll = <span class="type">long</span> <span class="type">long</span>;</span><br><span class="line"><span class="comment">//#define int ll</span></span><br><span class="line"><span class="keyword">using</span> u64 = <span class="type">unsigned</span> <span class="type">long</span> <span class="type">long</span>;</span><br><span class="line"><span class="type">const</span> ll inf = <span class="number">2147483647</span>;</span><br><span class="line"><span class="type">const</span> ll INF = <span class="number">1e18</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">signed</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    ios::<span class="built_in">sync_with_stdio</span>(<span class="literal">false</span>);</span><br><span class="line">    cin.<span class="built_in">tie</span>(<span class="literal">nullptr</span>);</span><br><span class="line">    <span class="type">int</span> n,s;</span><br><span class="line">    <span class="keyword">while</span>(cin&gt;&gt;n&gt;&gt;s)</span><br><span class="line">    &#123;</span><br><span class="line">        vector&lt;<span class="type">int</span>&gt;<span class="built_in">a</span>(n<span class="number">+1</span>);</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++)cin&gt;&gt;a[i];</span><br><span class="line">        <span class="type">int</span> ret=n<span class="number">+1</span>;</span><br><span class="line">        <span class="type">int</span> l=<span class="number">1</span>,r=<span class="number">1</span>;</span><br><span class="line">        ll sum=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span>(<span class="number">1</span>)&#123;</span><br><span class="line">            <span class="keyword">while</span>(r&lt;=n&amp;&amp;sum&lt;s)</span><br><span class="line">            &#123;</span><br><span class="line">                sum+=a[r++];</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span>(sum&lt;s)<span class="keyword">break</span>;</span><br><span class="line">            ret=<span class="built_in">min</span>(ret,r-l);</span><br><span class="line">            sum-=a[l++];    </span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(ret&gt;n)cout&lt;&lt;<span class="number">0</span>&lt;&lt;<span class="string">&#x27;\n&#x27;</span>;</span><br><span class="line">        <span class="keyword">else</span> cout&lt;&lt;ret&lt;&lt;<span class="string">&#x27;\n&#x27;</span>;</span><br><span class="line">    &#125;    </span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

]]></content>
  </entry>
  <entry>
    <title>æˆ‘çš„åšå®¢æ–‡ç« </title>
    <url>/2024/11/17/%E6%88%91%E7%9A%84%E5%8D%9A%E5%AE%A2%E6%96%87%E7%AB%A0/</url>
    <content><![CDATA[]]></content>
  </entry>
  <entry>
    <title>æ‚¬çº¿æ³•</title>
    <url>/2024/11/29/%E6%82%AC%E7%BA%BF%E6%B3%95/</url>
    <content><![CDATA[<h1 id="æ‚¬çº¿æ³•"><a href="#æ‚¬çº¿æ³•" class="headerlink" title="æ‚¬çº¿æ³•"></a>æ‚¬çº¿æ³•</h1><h2 id="ä»€ä¹ˆæ˜¯æ‚¬çº¿æ³•"><a href="#ä»€ä¹ˆæ˜¯æ‚¬çº¿æ³•" class="headerlink" title="ä»€ä¹ˆæ˜¯æ‚¬çº¿æ³•"></a>ä»€ä¹ˆæ˜¯æ‚¬çº¿æ³•</h2><p><a href="https://oi-wiki.org/misc/hoverline/">oiwiki</a></p>
<figure class="highlight txt"><table><tr><td class="code"><pre><span class="line">æ‚¬çº¿æ³•çš„é€‚ç”¨èŒƒå›´æ˜¯å•è°ƒæ ˆçš„å­é›†ã€‚å…·ä½“æ¥è¯´ï¼Œæ‚¬çº¿æ³•å¯ä»¥åº”ç”¨äºæ»¡è¶³ä»¥ä¸‹æ¡ä»¶çš„é¢˜ç›®ï¼š</span><br><span class="line">- éœ€è¦åœ¨æ‰«æåºåˆ—æ—¶ç»´æŠ¤å•è°ƒçš„ä¿¡æ¯ï¼›</span><br><span class="line">- å¯ä»¥ä½¿ç”¨å•è°ƒæ ˆè§£å†³ï¼›</span><br><span class="line">- ä¸éœ€è¦åœ¨å•è°ƒæ ˆä¸ŠäºŒåˆ†ã€‚</span><br><span class="line"></span><br><span class="line">çœ‹èµ·æ¥æ‚¬çº¿æ³•å¯ä»¥è¢«æ›¿ä»£ï¼Œç”¨å¤„ä¸å¤§ï¼Œä½†æ˜¯æ‚¬çº¿æ³•æ¦‚å¿µæ¯”å•è°ƒæ ˆç®€å•ï¼Œæ›´é€‚åˆåˆå­¦ OI çš„é€‰æ‰‹ç†è§£å¹¶è§£å†³æœ€å¤§å­çŸ©é˜µç­‰é—®é¢˜ã€‚</span><br></pre></td></tr></table></figure>

<figure class="highlight txt"><table><tr><td class="code"><pre><span class="line">ä½•ä¸ºæ‚¬çº¿æ³•</span><br><span class="line"></span><br><span class="line">æ‚¬çº¿çš„å®šä¹‰æ˜¯è¿™æ ·çš„ï¼š</span><br><span class="line"></span><br><span class="line">**ä»æ¯ä¸€ä¸ªç‚¹å‘ä¸Šèµ°ï¼ŒçŸ¥é“é‡åˆ°éšœç¢ç‚¹æˆ–é¡¶è¾¹ç•Œã€‚**</span><br><span class="line"></span><br><span class="line">é‚£ä¹ˆæˆ‘ä»¬å¯ä»¥è½»æ¾åœ°å¾—åˆ°æ‚¬çº¿çš„ä¸€äº›æ€§è´¨ï¼š</span><br><span class="line"></span><br><span class="line">1. æ¯ä¸€ä¸ªç‚¹å¯¹åº”ä¸€æ ¹æ‚¬çº¿</span><br><span class="line">2. æ¯ä¸€æ ¹æ‚¬çº¿éƒ½å¯¹åº”äº†ä¸€ä¸ªé«˜åº¦ç­‰äºæ‚¬çº¿é«˜åº¦ï¼Œå®½åº¦å¤§äº0çš„çŸ©å½¢</span><br><span class="line"></span><br><span class="line">æ‰€ä»¥æ‚¬çº¿æ³•çš„æ­¥éª¤å°±æ˜¯ï¼š**æ‰¾å‡ºæ¯ä¸€ä¸ªç‚¹å¯¹åº”çš„æ‚¬çº¿çš„é«˜åº¦ï¼Œç„¶åå‘å·¦å³åˆ†åˆ«æ‰¾å‡ºè¯¥æ‚¬çº¿èƒ½æ‹“å±•å‡ºçš„çŸ©å½¢çš„å®½åº¦ã€‚**</span><br></pre></td></tr></table></figure>

<p>psï¼šæ‚¬çº¿æ³•æœ¬è´¨ä¸Šä¹Ÿæ˜¯ä¸€ç§åŠ¨æ€è§„åˆ’ï¼Œå› ä¸ºæ‚¬çº¿æ³•çš„éš¾ç‚¹å°±åœ¨äºå¯¹læ•°ç»„å’Œræ•°ç»„çš„åŠ¨æ€è§„åˆ’å¤„ç†ã€‚</p>
<h2 id="ä¾‹é¢˜"><a href="#ä¾‹é¢˜" class="headerlink" title="ä¾‹é¢˜"></a>ä¾‹é¢˜</h2><h3 id="HISTOGRA-Largest-Rectangle-in-a-Histogram"><a href="#HISTOGRA-Largest-Rectangle-in-a-Histogram" class="headerlink" title="HISTOGRA - Largest Rectangle in a Histogram"></a>HISTOGRA - Largest Rectangle in a Histogram</h3><p><a href="https://www.luogu.com.cn/problem/SP1805">https://www.luogu.com.cn/problem/SP1805</a></p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">using</span> u32 = <span class="type">unsigned</span>;</span><br><span class="line"><span class="meta">#<span class="keyword">define</span> i128 __int128;</span></span><br><span class="line"><span class="keyword">using</span> ll = <span class="type">long</span> <span class="type">long</span>;</span><br><span class="line"><span class="meta">#<span class="keyword">define</span> int ll</span></span><br><span class="line"><span class="keyword">using</span> u64 = <span class="type">unsigned</span> <span class="type">long</span> <span class="type">long</span>;</span><br><span class="line"><span class="type">const</span> ll inf = <span class="number">1e9</span>;</span><br><span class="line"><span class="type">const</span> ll INF = <span class="number">1e18</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">signed</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    ios::<span class="built_in">sync_with_stdio</span>(<span class="literal">false</span>);</span><br><span class="line">    cin.<span class="built_in">tie</span>(<span class="literal">nullptr</span>);</span><br><span class="line">    <span class="type">int</span> n;</span><br><span class="line">    <span class="keyword">while</span>(cin&gt;&gt;n,n)</span><br><span class="line">    &#123;</span><br><span class="line">        vector&lt;<span class="type">int</span>&gt;<span class="built_in">a</span>(n<span class="number">+1</span>),<span class="built_in">l</span>(n<span class="number">+1</span>),<span class="built_in">r</span>(n<span class="number">+1</span>);</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++)cin&gt;&gt;a[i];</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++)l[i]=r[i]=i;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++)<span class="keyword">while</span>(l[i]&gt;<span class="number">1</span>&amp;&amp;a[i]&lt;=a[l[i]<span class="number">-1</span>])l[i]=l[l[i]<span class="number">-1</span>];</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i=n;i&gt;=<span class="number">1</span>;i--)<span class="keyword">while</span>(r[i]&lt;n&amp;&amp;a[i]&lt;=a[r[i]<span class="number">+1</span>])r[i]=r[r[i]<span class="number">+1</span>];</span><br><span class="line">        <span class="type">int</span> maxn=-inf;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="type">int</span> shu=(<span class="type">long</span> <span class="type">long</span>)(r[i]-l[i]<span class="number">+1</span>)*a[i];</span><br><span class="line">            maxn=<span class="built_in">max</span>(maxn,shu);</span><br><span class="line">        &#125;</span><br><span class="line">        cout&lt;&lt;maxn&lt;&lt;<span class="string">&#x27;\n&#x27;</span>;</span><br><span class="line">    &#125;   </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="æ„Ÿè§‰ä¸é”™-Feel-Good"><a href="#æ„Ÿè§‰ä¸é”™-Feel-Good" class="headerlink" title="æ„Ÿè§‰ä¸é”™ Feel Good"></a>æ„Ÿè§‰ä¸é”™ Feel Good</h3><p><a href="https://www.luogu.com.cn/problem/UVA1619">https://www.luogu.com.cn/problem/UVA1619</a></p>
<p>è¿™ä¸€é¢˜ä¸èƒ½ç”¨STLï¼Œä¸ç„¶ä¼šè¶…æ—¶ï¼ï¼ï¼</p>
<p>è¿™ä¸€é¢˜çš„æœ¬è´¨å°±æ˜¯æšä¸¾æœ€å°å€¼ï¼Œå°†æ¯ä¸€ä¸ªa[i]å½“ä½œæœ€å°å€¼æ¥å¤„ç†ï¼Œä»iå¼€å§‹æŠŠåŒºé—´å‘ä¸¤è¾¹æ‰©ï¼Œä½¿å¾—a[i]æ˜¯è¿™ä¸ªåŒºé—´ä¸­çš„æœ€å°å€¼ã€‚è¿™æ ·å°±å¯ä»¥ç”¨åˆ°æ‚¬çº¿æ³•æ¥è¿›è¡Œæ“ä½œäº†ã€‚</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">using</span> ll = <span class="type">long</span> <span class="type">long</span>;</span><br><span class="line"><span class="keyword">constexpr</span> <span class="type">int</span> N = <span class="number">100010</span>;</span><br><span class="line"><span class="type">int</span> a[N],l[N],r[N];</span><br><span class="line">ll pre[N];</span><br><span class="line"><span class="function"><span class="type">signed</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    ios::<span class="built_in">sync_with_stdio</span>(<span class="literal">false</span>);</span><br><span class="line">    cin.<span class="built_in">tie</span>(<span class="literal">nullptr</span>);</span><br><span class="line">    <span class="type">int</span> vis=<span class="number">1</span>;</span><br><span class="line">    <span class="type">int</span> n;</span><br><span class="line">    <span class="keyword">while</span>(cin&gt;&gt;n)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">memset</span>(a, <span class="number">-1</span>, <span class="built_in">sizeof</span>(a));</span><br><span class="line">        <span class="keyword">if</span>(!vis)cout&lt;&lt;<span class="string">&#x27;\n&#x27;</span>;</span><br><span class="line">        <span class="keyword">else</span> vis=<span class="number">0</span>;</span><br><span class="line">        ll ans=<span class="number">0</span>;<span class="comment">//è¿™ä¸ªå¥½åƒå¿…é¡»æ˜¯0ï¼Œä½†æ˜¯æˆ‘ç›®å‰ä¸çŸ¥é“ä¸ºä»€ä¹ˆä¸èƒ½è®¾çš„æ›´å°ä¸€ç‚¹</span></span><br><span class="line">        <span class="type">int</span> ansl=<span class="number">1</span>,ansr=<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++)&#123;</span><br><span class="line">            cin&gt;&gt;a[i];</span><br><span class="line">            l[i]=r[i]=i;</span><br><span class="line">            pre[i]=pre[i<span class="number">-1</span>]+a[i];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++)<span class="keyword">while</span>(a[l[i]<span class="number">-1</span>]&gt;=a[i])l[i]=l[l[i]<span class="number">-1</span>];</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i=n;i&gt;=<span class="number">1</span>;i--)<span class="keyword">while</span>(a[r[i]<span class="number">+1</span>]&gt;=a[i])r[i]=r[r[i]<span class="number">+1</span>];</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++)</span><br><span class="line">        &#123;</span><br><span class="line">            ll shu=(pre[r[i]]-pre[l[i]<span class="number">-1</span>])*a[i];</span><br><span class="line">            <span class="keyword">if</span>(shu&gt;ans||(shu==ans&amp;&amp;r[i]-l[i]<span class="number">+1</span>&lt;ansr-ansl<span class="number">+1</span>))</span><br><span class="line">            &#123;</span><br><span class="line">                ans=shu;        </span><br><span class="line">                ansr=r[i],ansl=l[i];</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        cout&lt;&lt;ans&lt;&lt;<span class="string">&#x27;\n&#x27;</span>&lt;&lt;ansl&lt;&lt;<span class="string">&#x27; &#x27;</span>&lt;&lt;ansr&lt;&lt;<span class="string">&#x27;\n&#x27;</span>;</span><br><span class="line">    &#125;    </span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="P4147-ç‰èŸ¾å®«"><a href="#P4147-ç‰èŸ¾å®«" class="headerlink" title="P4147 ç‰èŸ¾å®«"></a>P4147 ç‰èŸ¾å®«</h3><p>ç¬¬ä¸€ç§æ˜¯æ‚¬çº¿æ³•çš„åšæ³•ï¼Œç¬¬äºŒç§æ˜¯å•è°ƒæ ˆçš„åšæ³•ã€‚</p>
<p>è¿™ä¸€é¢˜çš„æ‚¬çº¿æ³•è·Ÿ<a href="https://www.luogu.com.cn/problem/SP1805">https://www.luogu.com.cn/problem/SP1805</a>çš„æ‰¾æœ€å¤§çŸ©å½¢çš„æ€è·¯å‡ ä¹ä¸€æ¨¡ä¸€æ ·ï¼Œåªä¸è¿‡è¿™ä¸ªæ˜¯å¯¹æ¯å±‚åˆ†åˆ«è¿›è¡Œç›¸ä¼¼çš„æ­¥éª¤ç½¢äº†ã€‚	</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">using</span> u32 = <span class="type">unsigned</span>;</span><br><span class="line"><span class="meta">#<span class="keyword">define</span> i128 __int128;</span></span><br><span class="line"><span class="keyword">using</span> ll = <span class="type">long</span> <span class="type">long</span>;</span><br><span class="line"><span class="meta">#<span class="keyword">define</span> int ll</span></span><br><span class="line"><span class="keyword">using</span> u64 = <span class="type">unsigned</span> <span class="type">long</span> <span class="type">long</span>;</span><br><span class="line"><span class="type">const</span> ll inf = <span class="number">1e9</span>;</span><br><span class="line"><span class="type">const</span> ll INF = <span class="number">1e18</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">signed</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    ios::<span class="built_in">sync_with_stdio</span>(<span class="literal">false</span>);</span><br><span class="line">    cin.<span class="built_in">tie</span>(<span class="literal">nullptr</span>);</span><br><span class="line">    <span class="type">int</span> n,m;</span><br><span class="line">    cin&gt;&gt;n&gt;&gt;m;</span><br><span class="line">    <span class="function">vector <span class="title">dp</span><span class="params">(n<span class="number">+1</span>,vector&lt;<span class="type">int</span>&gt;(m<span class="number">+1</span>))</span></span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j=<span class="number">1</span>;j&lt;=m;j++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="type">char</span> ch;</span><br><span class="line">            cin&gt;&gt;ch;</span><br><span class="line">            <span class="keyword">if</span>(ch==<span class="string">&#x27;F&#x27;</span>)dp[i][j]=dp[i<span class="number">-1</span>][j]<span class="number">+1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;    </span><br><span class="line">    vector&lt;<span class="type">int</span>&gt;<span class="built_in">l</span>(m<span class="number">+1</span>),<span class="built_in">r</span>(m<span class="number">+1</span>);</span><br><span class="line">    ll maxn=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">auto</span> ask=[&amp;](<span class="type">int</span> x)&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=m;i++)l[i]=r[i]=i;</span><br><span class="line">        <span class="keyword">auto</span> &amp;a=dp[x];</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j=<span class="number">1</span>;j&lt;=m;j++)<span class="keyword">while</span>(l[j]&gt;<span class="number">1</span>&amp;&amp;a[j]&lt;=a[l[j]<span class="number">-1</span>])l[j]=l[l[j]<span class="number">-1</span>];</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j=m;j&gt;=<span class="number">1</span>;j--)<span class="keyword">while</span>(r[j]&lt;m&amp;&amp;a[j]&lt;=a[r[j]<span class="number">+1</span>])r[j]=r[r[j]<span class="number">+1</span>];</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=m;i++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="type">int</span> shu=(r[i]-l[i]<span class="number">+1</span>)*a[i];</span><br><span class="line">            maxn=<span class="built_in">max</span>(maxn,<span class="number">1ll</span>*shu);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++)<span class="built_in">ask</span>(i);</span><br><span class="line">    cout&lt;&lt;maxn*<span class="number">3</span>&lt;&lt;<span class="string">&#x27;\n&#x27;</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">using</span> u32 = <span class="type">unsigned</span>;</span><br><span class="line"><span class="meta">#<span class="keyword">define</span> i128 __int128;</span></span><br><span class="line"><span class="keyword">using</span> ll = <span class="type">long</span> <span class="type">long</span>;</span><br><span class="line"><span class="comment">//#define int ll</span></span><br><span class="line"><span class="keyword">using</span> u64 = <span class="type">unsigned</span> <span class="type">long</span> <span class="type">long</span>;</span><br><span class="line"><span class="type">const</span> ll inf = <span class="number">1e9</span>;</span><br><span class="line"><span class="type">const</span> ll INF = <span class="number">1e18</span>;</span><br><span class="line">ll maxn;</span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">node</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> len,h;</span><br><span class="line">&#125;a[<span class="number">1010</span>];</span><br><span class="line"><span class="function"><span class="type">signed</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    ios::<span class="built_in">sync_with_stdio</span>(<span class="literal">false</span>);</span><br><span class="line">    cin.<span class="built_in">tie</span>(<span class="literal">nullptr</span>);</span><br><span class="line">    <span class="type">int</span> n,m;</span><br><span class="line">    cin&gt;&gt;n&gt;&gt;m;</span><br><span class="line">    <span class="function">vector <span class="title">dp</span><span class="params">(n<span class="number">+1</span>,vector&lt;<span class="type">int</span>&gt;(m<span class="number">+1</span>))</span></span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j=<span class="number">1</span>;j&lt;=m;j++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="type">char</span> ch;</span><br><span class="line">            cin&gt;&gt;ch;</span><br><span class="line">            <span class="keyword">if</span>(ch==<span class="string">&#x27;F&#x27;</span>)dp[i][j]=dp[i<span class="number">-1</span>][j]<span class="number">+1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;   </span><br><span class="line">    <span class="keyword">auto</span> ask=[&amp;](<span class="type">int</span> x)&#123;</span><br><span class="line">        <span class="built_in">memset</span>(a,<span class="number">0</span>,<span class="built_in">sizeof</span>(a));</span><br><span class="line">        stack&lt;node&gt;stk;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j=<span class="number">1</span>;j&lt;=m;j++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="type">int</span> w=<span class="number">0</span>;</span><br><span class="line">            <span class="keyword">while</span>(stk.<span class="built_in">size</span>()&amp;&amp;stk.<span class="built_in">top</span>().h&gt;=dp[x][j])</span><br><span class="line">            &#123;</span><br><span class="line">                w+=stk.<span class="built_in">top</span>().len;</span><br><span class="line">                maxn=<span class="built_in">max</span>(maxn,<span class="number">1ll</span>*w*stk.<span class="built_in">top</span>().h);</span><br><span class="line">                stk.<span class="built_in">pop</span>();</span><br><span class="line">            &#125;</span><br><span class="line">            a[j].h=dp[x][j];a[j].len=w<span class="number">+1</span>;</span><br><span class="line">            stk.<span class="built_in">push</span>(a[j]);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">int</span> w=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span>(stk.<span class="built_in">size</span>())</span><br><span class="line">        &#123;</span><br><span class="line">            w+=stk.<span class="built_in">top</span>().len;</span><br><span class="line">            maxn=<span class="built_in">max</span>(maxn,<span class="number">1ll</span>*w*stk.<span class="built_in">top</span>().h);</span><br><span class="line">            stk.<span class="built_in">pop</span>();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++)<span class="built_in">ask</span>(i);</span><br><span class="line">    cout&lt;&lt;maxn*<span class="number">3</span>&lt;&lt;<span class="string">&#x27;\n&#x27;</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="P1169-ZJOI2007-æ£‹ç›˜åˆ¶ä½œ"><a href="#P1169-ZJOI2007-æ£‹ç›˜åˆ¶ä½œ" class="headerlink" title="P1169 [ZJOI2007] æ£‹ç›˜åˆ¶ä½œ"></a>P1169 [ZJOI2007] <strong>æ£‹ç›˜åˆ¶ä½œ</strong></h3><p><a href="https://www.luogu.com.cn/problem/P1169">https://www.luogu.com.cn/problem/P1169</a></p>
<p>è¿™ä¸€é¢˜è¿˜æ˜¯å¾ˆæ­£å¸¸çš„æ‚¬çº¿æ³•ï¼Œåªä¸è¿‡lå’Œræ•°ç»„å‘ä¸¤è¾¹æ‰©çš„æ—¶å€™åŠ äº†ä¸ªé™åˆ¶æ¡ä»¶ï¼ˆåªæœ‰<code>a[x][l[i]-1]!=a[x][l[i]]</code>æ‰èƒ½å¾€å·¦æ‰©ï¼Œå‘å³æ‰©åŒç†ã€‚</p>
<p>è¿™ä¸€é¢˜æ±‚æœ€å¤§çŸ©å½¢çš„é¢ç§¯å°±æ­£å¸¸åšå°±è¡Œäº†ï¼Œæ±‚æœ€å¤§æ­£æ–¹å½¢çš„é¢ç§¯å°±æ˜¯åœ¨æ¯ä¸ªçŸ©å½¢é‡Œé¢æ‰¾åˆ°ä¸ªæœ€å¤§æ­£æ–¹å½¢å°±è¡Œäº†ã€‚</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">using</span> u32 = <span class="type">unsigned</span>;</span><br><span class="line"><span class="meta">#<span class="keyword">define</span> i128 __int128;</span></span><br><span class="line"><span class="keyword">using</span> ll = <span class="type">long</span> <span class="type">long</span>;</span><br><span class="line"><span class="comment">//#define int ll</span></span><br><span class="line"><span class="keyword">using</span> u64 = <span class="type">unsigned</span> <span class="type">long</span> <span class="type">long</span>;</span><br><span class="line"><span class="type">const</span> ll inf = <span class="number">1e9</span>;</span><br><span class="line"><span class="type">const</span> ll INF = <span class="number">1e18</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">signed</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    ios::<span class="built_in">sync_with_stdio</span>(<span class="literal">false</span>);</span><br><span class="line">    cin.<span class="built_in">tie</span>(<span class="literal">nullptr</span>);</span><br><span class="line">    <span class="type">int</span> n,m;</span><br><span class="line">    cin&gt;&gt;n&gt;&gt;m;</span><br><span class="line">    <span class="function">vector <span class="title">dp</span><span class="params">(n<span class="number">+1</span>,vector&lt;<span class="type">int</span>&gt;(m<span class="number">+1</span>,<span class="number">1</span>))</span>,<span class="title">a</span><span class="params">(n<span class="number">+1</span>,vector&lt;<span class="type">int</span>&gt;(m<span class="number">+1</span>))</span></span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j=<span class="number">1</span>;j&lt;=m;j++)</span><br><span class="line">        &#123;</span><br><span class="line">            cin&gt;&gt;a[i][j];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;    </span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">2</span>;i&lt;=n;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j=<span class="number">1</span>;j&lt;=m;j++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span>(a[i<span class="number">-1</span>][j]!=a[i][j])dp[i][j]+=dp[i<span class="number">-1</span>][j];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    ll maxn=<span class="number">0</span>;</span><br><span class="line">    ll ret=<span class="number">0</span>;</span><br><span class="line">    ll ansl,ansr,ceng,lie;</span><br><span class="line">    vector&lt;<span class="type">int</span>&gt;<span class="built_in">l</span>(m<span class="number">+1</span>),<span class="built_in">r</span>(m<span class="number">+1</span>);</span><br><span class="line">    <span class="keyword">auto</span> ask=[&amp;](<span class="type">int</span> x)&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=m;i++)l[i]=r[i]=i;</span><br><span class="line">        <span class="keyword">auto</span> &amp;h=dp[x];</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=m;i++)<span class="keyword">while</span>(l[i]&gt;<span class="number">1</span>&amp;&amp;a[x][l[i]<span class="number">-1</span>]!=a[x][l[i]]&amp;&amp;h[i]&lt;=h[l[i]<span class="number">-1</span>])l[i]=l[l[i]<span class="number">-1</span>];</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i=m;i&gt;=<span class="number">1</span>;i--)<span class="keyword">while</span>(r[i]&lt;m&amp;&amp;a[x][r[i]<span class="number">+1</span>]!=a[x][r[i]]&amp;&amp;h[i]&lt;=h[r[i]<span class="number">+1</span>])r[i]=r[r[i]<span class="number">+1</span>];</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=m;i++)</span><br><span class="line">        &#123;</span><br><span class="line">            ll shu=(r[i]-l[i]<span class="number">+1</span>)*h[i];</span><br><span class="line">            maxn=<span class="built_in">max</span>(maxn,shu);</span><br><span class="line">            ret=<span class="built_in">max</span>(ret,(ll)<span class="built_in">pow</span>(<span class="built_in">min</span>(r[i]-l[i]<span class="number">+1</span>,h[i]),<span class="number">2</span>));</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">ask</span>(i);</span><br><span class="line">    &#125;</span><br><span class="line">    cout&lt;&lt;ret&lt;&lt;<span class="string">&#x27;\n&#x27;</span>&lt;&lt;maxn&lt;&lt;<span class="string">&#x27;\n&#x27;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="P2701-USACO5-3-å·¨å¤§çš„ç‰›æ£šBig-Barn"><a href="#P2701-USACO5-3-å·¨å¤§çš„ç‰›æ£šBig-Barn" class="headerlink" title="P2701 [USACO5.3] å·¨å¤§çš„ç‰›æ£šBig Barn"></a>P2701 [USACO5.3] å·¨å¤§çš„ç‰›æ£šBig Barn</h3><figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">using</span> u32 = <span class="type">unsigned</span>;</span><br><span class="line"><span class="meta">#<span class="keyword">define</span> i128 __int128;</span></span><br><span class="line"><span class="keyword">using</span> ll = <span class="type">long</span> <span class="type">long</span>;</span><br><span class="line"><span class="comment">//#define int ll</span></span><br><span class="line"><span class="keyword">using</span> u64 = <span class="type">unsigned</span> <span class="type">long</span> <span class="type">long</span>;</span><br><span class="line"><span class="type">const</span> ll inf = <span class="number">1e9</span>;</span><br><span class="line"><span class="type">const</span> ll INF = <span class="number">1e18</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">signed</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    ios::<span class="built_in">sync_with_stdio</span>(<span class="literal">false</span>);</span><br><span class="line">    cin.<span class="built_in">tie</span>(<span class="literal">nullptr</span>);</span><br><span class="line">    <span class="type">int</span> n,t;</span><br><span class="line">    cin&gt;&gt;n&gt;&gt;t;</span><br><span class="line">    vector&lt;vector&lt;<span class="type">int</span>&gt;&gt;<span class="built_in">a</span>(n<span class="number">+1</span>,<span class="built_in">vector</span>&lt;<span class="type">int</span>&gt;(n<span class="number">+1</span>)),<span class="built_in">dp</span>(n<span class="number">+1</span>,<span class="built_in">vector</span>&lt;<span class="type">int</span>&gt;(n<span class="number">+1</span>));</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=t;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="type">int</span> x,y;</span><br><span class="line">        cin&gt;&gt;x&gt;&gt;y;</span><br><span class="line">        a[x][y]=<span class="number">1</span>;</span><br><span class="line">    &#125;    </span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j=<span class="number">1</span>;j&lt;=n;j++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span>(a[i][j]!=<span class="number">1</span>)dp[i][j]=dp[i<span class="number">-1</span>][j]<span class="number">+1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">int</span> ret=<span class="number">0</span>;</span><br><span class="line">    vector&lt;<span class="type">int</span>&gt;<span class="built_in">l</span>(n<span class="number">+1</span>),<span class="built_in">r</span>(n<span class="number">+1</span>);</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">auto</span> &amp;h=dp[i];</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j=<span class="number">1</span>;j&lt;=n;j++)l[j]=r[j]=j;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j=<span class="number">1</span>;j&lt;=n;j++)<span class="keyword">while</span>(l[j]&gt;<span class="number">1</span>&amp;&amp;h[j]&lt;=h[l[j]<span class="number">-1</span>])l[j]=l[l[j]<span class="number">-1</span>];</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j=n;j&gt;=<span class="number">1</span>;j--)<span class="keyword">while</span>(r[j]&lt;n&amp;&amp;h[j]&lt;=h[r[j]<span class="number">+1</span>])r[j]=r[r[j]<span class="number">+1</span>];</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++)</span><br><span class="line">        &#123;</span><br><span class="line">            ret=<span class="built_in">max</span>(ret,<span class="built_in">min</span>(h[i],r[i]-l[i]<span class="number">+1</span>));</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    cout&lt;&lt;ret&lt;&lt;<span class="string">&#x27;\n&#x27;</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="P1387-æœ€å¤§æ­£æ–¹å½¢"><a href="#P1387-æœ€å¤§æ­£æ–¹å½¢" class="headerlink" title="P1387 æœ€å¤§æ­£æ–¹å½¢"></a>P1387 æœ€å¤§æ­£æ–¹å½¢</h3><p>ç¬¬ä¸€ç§åšæ³•æ˜¯æ‚¬çº¿æ³•ï¼Œç¬¬äºŒç§åšæ³•æ˜¯æ™®é€šçš„åŠ¨æ€è§„åˆ’ï¼Œè™½ç„¶æ‚¬çº¿æ³•ä¹Ÿæ˜¯åŠ¨æ€è§„åˆ’ã€‚</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">using</span> u32 = <span class="type">unsigned</span>;</span><br><span class="line"><span class="meta">#<span class="keyword">define</span> i128 __int128;</span></span><br><span class="line"><span class="keyword">using</span> ll = <span class="type">long</span> <span class="type">long</span>;</span><br><span class="line"><span class="comment">//#define int ll</span></span><br><span class="line"><span class="keyword">using</span> u64 = <span class="type">unsigned</span> <span class="type">long</span> <span class="type">long</span>;</span><br><span class="line"><span class="type">const</span> ll inf = <span class="number">1e9</span>;</span><br><span class="line"><span class="type">const</span> ll INF = <span class="number">1e18</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">signed</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    ios::<span class="built_in">sync_with_stdio</span>(<span class="literal">false</span>);</span><br><span class="line">    cin.<span class="built_in">tie</span>(<span class="literal">nullptr</span>);</span><br><span class="line">    <span class="type">int</span> n,m;</span><br><span class="line">    cin&gt;&gt;n&gt;&gt;m;</span><br><span class="line">    vector&lt;vector&lt;<span class="type">int</span>&gt;&gt;<span class="built_in">v</span>(n<span class="number">+1</span>,<span class="built_in">vector</span>&lt;<span class="type">int</span>&gt;(m<span class="number">+1</span>)),<span class="built_in">dp</span>(n<span class="number">+1</span>,<span class="built_in">vector</span>&lt;<span class="type">int</span>&gt;(m<span class="number">+1</span>));</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j=<span class="number">1</span>;j&lt;=m;j++)cin&gt;&gt;v[i][j];</span><br><span class="line">    &#125;    </span><br><span class="line">    vector&lt;<span class="type">int</span>&gt;<span class="built_in">l</span>(m<span class="number">+1</span>),<span class="built_in">r</span>(m<span class="number">+1</span>);</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j=<span class="number">1</span>;j&lt;=m;j++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span>(v[i][j]==<span class="number">1</span>)dp[i][j]=dp[i<span class="number">-1</span>][j]<span class="number">+1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">int</span> ret=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">auto</span> &amp;a=dp[i];</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j=<span class="number">1</span>;j&lt;=m;j++)l[j]=r[j]=j;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j=<span class="number">1</span>;j&lt;=m;j++)<span class="keyword">while</span>(l[j]&gt;<span class="number">1</span>&amp;&amp;a[j]&lt;=a[l[j]<span class="number">-1</span>])l[j]=l[l[j]<span class="number">-1</span>];</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j=m;j&gt;=<span class="number">1</span>;j--)<span class="keyword">while</span>(r[j]&lt;m&amp;&amp;a[j]&lt;=a[r[j]<span class="number">+1</span>])r[j]=r[r[j]<span class="number">+1</span>];</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j=<span class="number">1</span>;j&lt;=m;j++)ret=<span class="built_in">max</span>(ret,<span class="built_in">min</span>(a[j],r[j]-l[j]<span class="number">+1</span>));</span><br><span class="line">    &#125;</span><br><span class="line">    cout&lt;&lt;ret&lt;&lt;<span class="string">&#x27;\n&#x27;</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">using</span> u32 = <span class="type">unsigned</span>;</span><br><span class="line"><span class="meta">#<span class="keyword">define</span> i128 __int128;</span></span><br><span class="line"><span class="keyword">using</span> ll = <span class="type">long</span> <span class="type">long</span>;</span><br><span class="line"><span class="comment">//#define int ll</span></span><br><span class="line"><span class="keyword">using</span> u64 = <span class="type">unsigned</span> <span class="type">long</span> <span class="type">long</span>;</span><br><span class="line"><span class="type">const</span> ll inf = <span class="number">1e9</span>;</span><br><span class="line"><span class="type">const</span> ll INF = <span class="number">1e18</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">signed</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    ios::<span class="built_in">sync_with_stdio</span>(<span class="literal">false</span>);</span><br><span class="line">    cin.<span class="built_in">tie</span>(<span class="literal">nullptr</span>);</span><br><span class="line">    <span class="type">int</span> n,m;</span><br><span class="line">    cin&gt;&gt;n&gt;&gt;m;</span><br><span class="line">    vector&lt;vector&lt;<span class="type">int</span>&gt;&gt;<span class="built_in">v</span>(n<span class="number">+1</span>,<span class="built_in">vector</span>&lt;<span class="type">int</span>&gt;(m<span class="number">+1</span>)),<span class="built_in">dp</span>(n<span class="number">+1</span>,<span class="built_in">vector</span>&lt;<span class="type">int</span>&gt;(m<span class="number">+1</span>));</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j=<span class="number">1</span>;j&lt;=m;j++)cin&gt;&gt;v[i][j];</span><br><span class="line">    &#125;    </span><br><span class="line">    <span class="type">int</span> maxn=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j=<span class="number">1</span>;j&lt;=m;j++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span>(v[i][j]==<span class="number">1</span>)&#123;</span><br><span class="line">                dp[i][j]=<span class="built_in">min</span>(&#123;dp[i<span class="number">-1</span>][j],dp[i][j<span class="number">-1</span>],dp[i<span class="number">-1</span>][j<span class="number">-1</span>]&#125;)<span class="number">+1</span>;</span><br><span class="line">                maxn=<span class="built_in">max</span>(maxn,dp[i][j]);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    cout&lt;&lt;maxn&lt;&lt;<span class="string">&#x27;\n&#x27;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

]]></content>
  </entry>
  <entry>
    <title>æŒ‘æˆ˜ç¨‹åºè®¾è®¡ç«èµ›--å¸¸ç”¨æŠ€å·§ç²¾é€‰(ä¸€).md</title>
    <url>/2024/11/29/%E6%8C%91%E6%88%98%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%E7%AB%9E%E8%B5%9B--%E5%B8%B8%E7%94%A8%E6%8A%80%E5%B7%A7%E7%B2%BE%E9%80%89(%E4%B8%80)/</url>
    <content><![CDATA[]]></content>
  </entry>
  <entry>
    <title>å¦‚ä½•è§£å†³ä½¿ç”¨git cloneä¹‹ç±»çš„git bashå‘½ä»¤è¡Œæ—¶é€Ÿåº¦å¾ˆæ…¢çš„é—®é¢˜</title>
    <url>/2024/12/01/%E5%A6%82%E4%BD%95%E8%A7%A3%E5%86%B3%E4%BD%BF%E7%94%A8git-clone%E4%B9%8B%E7%B1%BB%E7%9A%84git-bash%E5%91%BD%E4%BB%A4%E8%A1%8C%E6%97%B6%E9%80%9F%E5%BA%A6%E5%BE%88%E6%85%A2%E7%9A%84%E9%97%AE%E9%A2%98/</url>
    <content><![CDATA[<h1 id="å‡ºç°çš„é—®é¢˜"><a href="#å‡ºç°çš„é—®é¢˜" class="headerlink" title="å‡ºç°çš„é—®é¢˜"></a>å‡ºç°çš„é—®é¢˜</h1><p>æˆ‘ä»¬å¹³å¸¸ä½¿ç”¨git cloneç”¨æ¥å…‹éš†githubä»“åº“æ—¶ä¼šå‡ºç°é€Ÿåº¦å¾ˆæ…¢çš„é—®é¢˜ï¼Œæœ‰æ—¶å€™ä¸ä»…é€Ÿåº¦å¾ˆæ…¢ï¼Œè€Œä¸”è¿˜å¯èƒ½ä¼šç›´æ¥å¤±è´¥ï¼Œå¯æ˜¯æˆ‘ä»¬å·²ç»å¼€å¯ä»£ç†äº†ï¼Œç›´æ¥è®¿é—®githubä¹Ÿååˆ†çš„æµç•…ï¼Œä½†å°±æ˜¯ä½¿ç”¨git bashæ—¶å°±ä¸€ç›´å‡ºé—®é¢˜ã€‚è¿™æ˜¯å› ä¸ºè™½ç„¶æˆ‘ä»¬å·²ç»å¼€å¯ä»£ç†äº†ï¼Œä½†æ˜¯gitæ˜¯æ²¡æœ‰å¼€å¯ä»£ç†çš„ï¼Œæˆ‘ä»¬éœ€è¦è‡ªå·±è®¾ç½®ã€‚</p>
<h1 id="è§£å†³æ–¹æ³•"><a href="#è§£å†³æ–¹æ³•" class="headerlink" title="è§£å†³æ–¹æ³•"></a>è§£å†³æ–¹æ³•</h1><p>çœ‹è¿™ä¸¤ç¯‡æ–‡ç« åº”è¯¥å°±å¤Ÿäº†ã€‚è¿™ä¸¤ç¯‡çœ‹æ‡‚äº†å°±ä¸éœ€è¦çœ‹ä¸‹é¢çš„äº†ï¼Œä¸‹é¢çš„éƒ½æ˜¯æˆ‘éšä¾¿å†™çš„ä¸€ç‚¹</p>
<p><a href="https://blog.csdn.net/weixin_45685193/article/details/120606369">å…³äºgité…ç½®ä»£ç†çš„æ–¹æ³•å’Œä¸€äº›éœ€è¦æ³¨æ„çš„ç»†èŠ‚</a></p>
<p><a href="https://blog.csdn.net/qq_55888300/article/details/131498092">åœ¨windowsä¸­å¦‚ä½•æŸ¥çœ‹ä»£ç†çš„åœ°å€å’Œç«¯å£</a></p>
<p>çœ‹ä»£ç†IPåœ°å€å’Œç«¯å£è¿™æ ·ä¹Ÿå¯ä»¥</p>
<p>åœ¨è®¾ç½®é‡Œæœç´¢ ä»£ç† æ‰¾åˆ°è‡ªå·±çš„è¿™ä¸¤é¡¹ï¼ˆå‰ææ˜¯è‡ªå·±å¿…é¡»æœ‰ä»£ç†ï¼‰ï¼Œåœ¨ä»£ç†ä¸­å…¶å®ä¹Ÿå¯ä»¥ç›´æ¥æ‰¾åˆ°è¿™ä¸ªç«¯å£ï¼Œåº”è¯¥è®¾ç½®é‡Œé¢éƒ½æœ‰ï¼Œå¯ä»¥è‡ªå·±çœ‹ä¸€ä¸‹ã€‚</p>
<p><img src="https://cdn.jsdelivr.net/gh/kkonglb/image/image-20241201103720668.png" alt="image-20241201103720668"></p>
<p>æ€»ç»“ä¸€ä¸‹å°±æ˜¯æˆ‘ä»¬ä¸Šé¢è¾“å…¥çš„å‘½ä»¤è¡Œæ“ä½œå…¶å®å°±æ˜¯ä¸ºäº†ä¿®æ”¹[ç”¨æˆ·ç›®å½•].gitconfigä¸­çš„å†…å®¹ã€‚</p>
<p>å¯ä»¥ç›´æ¥<code>cat ~/.gitconfig</code>çœ‹çœ‹æˆåŠŸäº†æ²¡	</p>
<p><img src="https://cdn.jsdelivr.net/gh/kkonglb/image/image-20241201111140246.png" alt="image-20241201111140246"></p>
<p>çœ‹æ¥æ˜¯æˆåŠŸäº†ï¼Œé‚£ä¸ªlowspeedlimitå’Œlowspeedtimeä¸ç”¨ç®¡ï¼Œå¿˜äº†æ˜¯ä»€ä¹ˆæ—¶å€™è®¾ç½®çš„äº†ã€‚</p>
]]></content>
      <tags>
        <tag>git</tag>
      </tags>
  </entry>
  <entry>
    <title>æ ‘çŠ¶æ•°ç»„</title>
    <url>/2024/11/27/%E6%A0%91%E7%8A%B6%E6%95%B0%E7%BB%84/</url>
    <content><![CDATA[<h1 id="æ ‘çŠ¶æ•°ç»„"><a href="#æ ‘çŠ¶æ•°ç»„" class="headerlink" title="æ ‘çŠ¶æ•°ç»„"></a>æ ‘çŠ¶æ•°ç»„</h1><p>æ ‘çŠ¶æ•°ç»„çš„å­¦ä¹ å¯ä»¥çœ‹bç«™è‘£æ™“ç®—æ³•çš„è®²è§£ï¼ˆæåŠ›æ¨èï¼‰ã€‚</p>
<p><a href="https://www.cnblogs.com/dx123/p/17933150.html">è‘£è€å¸ˆæ ‘çŠ¶æ•°ç»„åšå®¢</a></p>
<p><a href="https://oi-wiki.org/ds/fenwick/">oiwiki</a></p>
<h2 id="å¤§æ¦‚çš„æ€è·¯"><a href="#å¤§æ¦‚çš„æ€è·¯" class="headerlink" title="å¤§æ¦‚çš„æ€è·¯"></a>å¤§æ¦‚çš„æ€è·¯</h2><p><img src="https://cdn.jsdelivr.net/gh/kkonglb/image/38eb7d7ec9a64c6aad931762a3982a90.png" alt="img"></p>
<p><img src="https://cdn.jsdelivr.net/gh/kkonglb/image/image-20241106132419398.png" alt="image-20241106132419398"></p>
<p><img src="https://raw.githubusercontent.com/kkonglb/image/main/image-20241106121133413.png" alt="image-20241106121133413"></p>
<p>æ— è®ºæ˜¯å¾€ç‚¹ä¿®å¾€åè·³è¿˜æ˜¯æ±‚å‰ç¼€å’Œå¾€å‰è·³éƒ½æ˜¯ä¸€æ¬¡è·³2^k^ï¼Œkä¸ºxäºŒè¿›åˆ¶æœ€ä½æœ‰æ•ˆä½ã€‚</p>
<p><img src="https://raw.githubusercontent.com/kkonglb/image/main/image-20241106121234276.png" alt="image-20241106121234276"></p>
<h2 id="ä»£ç æ¨¡ç‰ˆ"><a href="#ä»£ç æ¨¡ç‰ˆ" class="headerlink" title="ä»£ç æ¨¡ç‰ˆ"></a>ä»£ç æ¨¡ç‰ˆ</h2><figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt;</span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">Fenwick</span>&#123;</span><br><span class="line">    <span class="type">int</span> n;</span><br><span class="line">    vector&lt;T&gt; tr;</span><br><span class="line"> </span><br><span class="line">    <span class="built_in">Fenwick</span>(<span class="type">int</span> n) : <span class="built_in">n</span>(n), <span class="built_in">tr</span>(n + <span class="number">1</span>, <span class="number">0</span>)&#123;&#125;</span><br><span class="line"> </span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">lowbit</span><span class="params">(<span class="type">int</span> x)</span></span>&#123;<span class="comment">// æ‰¾åˆ°xæœ€ä½æœ‰æ•ˆä½</span></span><br><span class="line">        <span class="keyword">return</span> x &amp; -x;</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">modify</span><span class="params">(<span class="type">int</span> x, T c)</span></span>&#123;<span class="comment">// ç‚¹ä¿®</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = x; i &lt;= n; i += <span class="built_in">lowbit</span>(i)) tr[i] += c;</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">modify</span><span class="params">(<span class="type">int</span> l, <span class="type">int</span> r, T c)</span></span>&#123;<span class="comment">// åŒºä¿®</span></span><br><span class="line">        <span class="built_in">modify</span>(l, c);</span><br><span class="line">        <span class="keyword">if</span> (r + <span class="number">1</span> &lt;= n) <span class="built_in">modify</span>(r + <span class="number">1</span>, -c);</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">    <span class="function">T <span class="title">query</span><span class="params">(<span class="type">int</span> x)</span></span>&#123;<span class="comment">// å‰ç¼€å’Œ</span></span><br><span class="line">        T res = <span class="built_in">T</span>();</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = x; i; i -= <span class="built_in">lowbit</span>(i)) res += tr[i];</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">    <span class="function">T <span class="title">query</span><span class="params">(<span class="type">int</span> l, <span class="type">int</span> r)</span></span>&#123;<span class="comment">// åŒºé—´æŸ¥è¯¢</span></span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">query</span>(r) - <span class="built_in">query</span>(l - <span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">find_first</span><span class="params">(T sum)</span></span>&#123;<span class="comment">// æŸ¥æ‰¾ç¬¬ä¸€ä¸ªæ»¡è¶³æ¡ä»¶çš„ä¸‹æ ‡ï¼ˆå‰ç¼€å’Œ</span></span><br><span class="line">        <span class="type">int</span> ans = <span class="number">0</span>; T val = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = __lg(n); i &gt;= <span class="number">0</span>; i--)&#123;</span><br><span class="line">            <span class="keyword">if</span> ((ans | (<span class="number">1</span> &lt;&lt; i)) &lt;= n &amp;&amp; val + tr[ans | (<span class="number">1</span> &lt;&lt; i)] &lt; sum)&#123;</span><br><span class="line">                ans |= <span class="number">1</span> &lt;&lt; i;</span><br><span class="line">                val += tr[ans];</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> ans + <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">find_last</span><span class="params">(T sum)</span></span>&#123;<span class="comment">// æŸ¥æ‰¾æœ€åä¸€ä¸ªæ»¡è¶³æ¡ä»¶çš„ä¸‹æ ‡ï¼ˆå‰ç¼€å’Œï¼‰</span></span><br><span class="line">        <span class="type">int</span> ans = <span class="number">0</span>; T val = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = __lg(n); i &gt;= <span class="number">0</span>; i--)&#123;</span><br><span class="line">            <span class="keyword">if</span> ((ans | (<span class="number">1</span> &lt;&lt; i)) &lt;= n &amp;&amp; val + tr[ans | (<span class="number">1</span> &lt;&lt; i)] &lt;= sum)&#123;</span><br><span class="line">                ans |= <span class="number">1</span> &lt;&lt; i;</span><br><span class="line">                val += tr[ans];</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> ans;</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">using</span> BIT = Fenwick&lt;<span class="type">int</span>&gt;;</span><br></pre></td></tr></table></figure>

<h2 id="ç‚¹ä¿®-åŒºæŸ¥"><a href="#ç‚¹ä¿®-åŒºæŸ¥" class="headerlink" title="ç‚¹ä¿®+åŒºæŸ¥"></a>ç‚¹ä¿®+åŒºæŸ¥</h2><h3 id="P3374-ã€æ¨¡æ¿ã€‘æ ‘çŠ¶æ•°ç»„-1"><a href="#P3374-ã€æ¨¡æ¿ã€‘æ ‘çŠ¶æ•°ç»„-1" class="headerlink" title="P3374 ã€æ¨¡æ¿ã€‘æ ‘çŠ¶æ•°ç»„ 1"></a>P3374 ã€æ¨¡æ¿ã€‘æ ‘çŠ¶æ•°ç»„ 1</h3><p><a href="https://www.luogu.com.cn/problem/P3374">https://www.luogu.com.cn/problem/P3374</a></p>
<p>ç‚¹ä¿®+åŒºæŸ¥æ˜¯æ“ä½œæœ€ç®€å•çš„ï¼Œç›´æ¥ç”¨è¦ç»´æŒçš„æ•°æ®æ¥å»ºæ ‘ï¼Œç„¶åå•ç‚¹ä¿®æ”¹çš„è¯å°±ç›´æ¥å¯¹è¿™ä¸ªç‚¹è¿›è¡Œmodifyï¼ŒåŒºé—´æŸ¥è¯¢çš„è¯å°±å¯¹è¿™ä¸ªåŒºé—´query(l,r)ï¼›</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">using</span> u32 = <span class="type">unsigned</span>;</span><br><span class="line"><span class="meta">#<span class="keyword">define</span> i128 __int128;</span></span><br><span class="line"><span class="keyword">using</span> ll = <span class="type">long</span> <span class="type">long</span>;</span><br><span class="line"><span class="comment">//#define int ll</span></span><br><span class="line"><span class="keyword">using</span> u64 = <span class="type">unsigned</span> <span class="type">long</span> <span class="type">long</span>;</span><br><span class="line"><span class="type">const</span> ll inf = <span class="number">1e9</span>;</span><br><span class="line"><span class="type">const</span> ll INF = <span class="number">1e18</span>;</span><br><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt;</span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">Fenwick</span>&#123;</span><br><span class="line">    <span class="type">int</span> n;</span><br><span class="line">    vector&lt;T&gt; tr;</span><br><span class="line"> </span><br><span class="line">    <span class="built_in">Fenwick</span>(<span class="type">int</span> n) : <span class="built_in">n</span>(n), <span class="built_in">tr</span>(n + <span class="number">1</span>, <span class="number">0</span>)&#123;&#125;</span><br><span class="line"> </span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">lowbit</span><span class="params">(<span class="type">int</span> x)</span></span>&#123;<span class="comment">// æ‰¾ä¸€ä¸ªæ•°çš„æœ€ä½æœ‰æ•ˆä½</span></span><br><span class="line">        <span class="keyword">return</span> x &amp; -x;</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">modify</span><span class="params">(<span class="type">int</span> x, T c)</span></span>&#123;<span class="comment">// ç‚¹ä¿®</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = x; i &lt;= n; i += <span class="built_in">lowbit</span>(i)) tr[i] += c;</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">modify</span><span class="params">(<span class="type">int</span> l, <span class="type">int</span> r, T c)</span></span>&#123;<span class="comment">// åŒºä¿®</span></span><br><span class="line">        <span class="built_in">modify</span>(l, c);</span><br><span class="line">        <span class="keyword">if</span> (r + <span class="number">1</span> &lt;= n) <span class="built_in">modify</span>(r + <span class="number">1</span>, -c);</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">    <span class="function">T <span class="title">query</span><span class="params">(<span class="type">int</span> x)</span></span>&#123;<span class="comment">// æŸ¥è¯¢å‰ç¼€å’Œ</span></span><br><span class="line">        T res = <span class="built_in">T</span>();</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = x; i; i -= <span class="built_in">lowbit</span>(i)) res += tr[i];</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">    <span class="function">T <span class="title">query</span><span class="params">(<span class="type">int</span> l, <span class="type">int</span> r)</span></span>&#123;<span class="comment">// æŸ¥è¯¢åŒºé—´å’Œ</span></span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">query</span>(r) - <span class="built_in">query</span>(l - <span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">find_first</span><span class="params">(T sum)</span></span>&#123;</span><br><span class="line">        <span class="type">int</span> ans = <span class="number">0</span>; T val = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = __lg(n); i &gt;= <span class="number">0</span>; i--)&#123;</span><br><span class="line">            <span class="keyword">if</span> ((ans | (<span class="number">1</span> &lt;&lt; i)) &lt;= n &amp;&amp; val + tr[ans | (<span class="number">1</span> &lt;&lt; i)] &lt; sum)&#123;</span><br><span class="line">                ans |= <span class="number">1</span> &lt;&lt; i;</span><br><span class="line">                val += tr[ans];</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> ans + <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">find_last</span><span class="params">(T sum)</span></span>&#123;</span><br><span class="line">        <span class="type">int</span> ans = <span class="number">0</span>; T val = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = __lg(n); i &gt;= <span class="number">0</span>; i--)&#123;</span><br><span class="line">            <span class="keyword">if</span> ((ans | (<span class="number">1</span> &lt;&lt; i)) &lt;= n &amp;&amp; val + tr[ans | (<span class="number">1</span> &lt;&lt; i)] &lt;= sum)&#123;</span><br><span class="line">                ans |= <span class="number">1</span> &lt;&lt; i;</span><br><span class="line">                val += tr[ans];</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> ans;</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">using</span> BIT = Fenwick&lt;<span class="type">int</span>&gt;;</span><br><span class="line"><span class="function"><span class="type">signed</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    ios::<span class="built_in">sync_with_stdio</span>(<span class="literal">false</span>);</span><br><span class="line">    cin.<span class="built_in">tie</span>(<span class="literal">nullptr</span>);</span><br><span class="line">    <span class="type">int</span> n,m;</span><br><span class="line">    cin&gt;&gt;n&gt;&gt;m;</span><br><span class="line">    vector&lt;<span class="type">int</span>&gt;<span class="built_in">a</span>(n<span class="number">+1</span>);</span><br><span class="line">    <span class="function">BIT <span class="title">bit</span><span class="params">(n)</span></span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++)&#123;</span><br><span class="line">        <span class="type">int</span> x;</span><br><span class="line">        cin&gt;&gt;x;</span><br><span class="line">        bit.<span class="built_in">modify</span>(i,x);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=m;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="type">int</span> op,x,y;</span><br><span class="line">        cin&gt;&gt;op&gt;&gt;x&gt;&gt;y;</span><br><span class="line">        <span class="keyword">if</span>(op==<span class="number">1</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            bit.<span class="built_in">modify</span>(x,y);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">            cout&lt;&lt;bit.<span class="built_in">query</span>(x,y)&lt;&lt;<span class="string">&#x27;\n&#x27;</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;    </span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="åŒºä¿®-ç‚¹æŸ¥"><a href="#åŒºä¿®-ç‚¹æŸ¥" class="headerlink" title="åŒºä¿®+ç‚¹æŸ¥"></a>åŒºä¿®+ç‚¹æŸ¥</h2><p>æ ‘çŠ¶æ•°ç»„åˆå§‹å€¼éƒ½ä¸º0ï¼Œè¿™æ˜¯ä¸€ä¸ªå·®åˆ†æ•°ç»„ï¼Œå¦‚æœå¯¹[l,r]åŠ ä¸ŠæŸä¸€ä¸ªæ•°ï¼Œå°±modify(l,k)ï¼Œmodify(r+1,-k)ï¼Œç„¶åå¦‚æœè¦ç‚¹æŸ¥çš„è¯å°±ç›´æ¥ç”¨a[x]+bit.query(x)å°±è¡Œäº†</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">using</span> u32 = <span class="type">unsigned</span>;</span><br><span class="line"><span class="meta">#<span class="keyword">define</span> i128 __int128;</span></span><br><span class="line"><span class="keyword">using</span> ll = <span class="type">long</span> <span class="type">long</span>;</span><br><span class="line"><span class="meta">#<span class="keyword">define</span> int ll</span></span><br><span class="line"><span class="keyword">using</span> u64 = <span class="type">unsigned</span> <span class="type">long</span> <span class="type">long</span>;</span><br><span class="line"><span class="type">const</span> ll inf = <span class="number">1e9</span>;</span><br><span class="line"><span class="type">const</span> ll INF = <span class="number">1e18</span>;</span><br><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt;</span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">Fenwick</span>&#123;</span><br><span class="line">    <span class="type">int</span> n;</span><br><span class="line">    vector&lt;T&gt; tr;</span><br><span class="line"> </span><br><span class="line">    <span class="built_in">Fenwick</span>(<span class="type">int</span> n) : <span class="built_in">n</span>(n), <span class="built_in">tr</span>(n + <span class="number">1</span>, <span class="number">0</span>)&#123;&#125;</span><br><span class="line"> </span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">lowbit</span><span class="params">(<span class="type">int</span> x)</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> x &amp; -x;</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">modify</span><span class="params">(<span class="type">int</span> x, T c)</span></span>&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = x; i &lt;= n; i += <span class="built_in">lowbit</span>(i)) tr[i] += c;</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">modify</span><span class="params">(<span class="type">int</span> l, <span class="type">int</span> r, T c)</span></span>&#123;</span><br><span class="line">        <span class="built_in">modify</span>(l, c);</span><br><span class="line">        <span class="keyword">if</span> (r + <span class="number">1</span> &lt;= n) <span class="built_in">modify</span>(r + <span class="number">1</span>, -c);</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">    <span class="function">T <span class="title">query</span><span class="params">(<span class="type">int</span> x)</span></span>&#123;</span><br><span class="line">        T res = <span class="built_in">T</span>();</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = x; i; i -= <span class="built_in">lowbit</span>(i)) res += tr[i];</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">    <span class="function">T <span class="title">query</span><span class="params">(<span class="type">int</span> l, <span class="type">int</span> r)</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">query</span>(r) - <span class="built_in">query</span>(l - <span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">find_first</span><span class="params">(T sum)</span></span>&#123;</span><br><span class="line">        <span class="type">int</span> ans = <span class="number">0</span>; T val = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = __lg(n); i &gt;= <span class="number">0</span>; i--)&#123;</span><br><span class="line">            <span class="keyword">if</span> ((ans | (<span class="number">1</span> &lt;&lt; i)) &lt;= n &amp;&amp; val + tr[ans | (<span class="number">1</span> &lt;&lt; i)] &lt; sum)&#123;</span><br><span class="line">                ans |= <span class="number">1</span> &lt;&lt; i;</span><br><span class="line">                val += tr[ans];</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> ans + <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">find_last</span><span class="params">(T sum)</span></span>&#123;</span><br><span class="line">        <span class="type">int</span> ans = <span class="number">0</span>; T val = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = __lg(n); i &gt;= <span class="number">0</span>; i--)&#123;</span><br><span class="line">            <span class="keyword">if</span> ((ans | (<span class="number">1</span> &lt;&lt; i)) &lt;= n &amp;&amp; val + tr[ans | (<span class="number">1</span> &lt;&lt; i)] &lt;= sum)&#123;</span><br><span class="line">                ans |= <span class="number">1</span> &lt;&lt; i;</span><br><span class="line">                val += tr[ans];</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> ans;</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">using</span> BIT = Fenwick&lt;<span class="type">int</span>&gt;;</span><br><span class="line"><span class="function"><span class="type">signed</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    ios::<span class="built_in">sync_with_stdio</span>(<span class="literal">false</span>);</span><br><span class="line">    cin.<span class="built_in">tie</span>(<span class="literal">nullptr</span>);</span><br><span class="line">    <span class="type">int</span> n,m;</span><br><span class="line">    cin&gt;&gt;n&gt;&gt;m;</span><br><span class="line">    vector&lt;<span class="type">int</span>&gt;<span class="built_in">a</span>(n<span class="number">+1</span>);</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++)cin&gt;&gt;a[i];</span><br><span class="line">    <span class="function">BIT <span class="title">bit</span><span class="params">(n<span class="number">+1</span>)</span></span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=m;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="type">int</span> op,x;</span><br><span class="line">        cin&gt;&gt;op&gt;&gt;x;</span><br><span class="line">        <span class="keyword">if</span>(op==<span class="number">1</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="type">int</span> y,k;</span><br><span class="line">            cin&gt;&gt;y&gt;&gt;k;</span><br><span class="line">            bit.<span class="built_in">modify</span>(x,k);</span><br><span class="line">            bit.<span class="built_in">modify</span>(y<span class="number">+1</span>,-k);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> </span><br><span class="line">        &#123;</span><br><span class="line">            cout&lt;&lt;a[x]+bit.<span class="built_in">query</span>(x)&lt;&lt;<span class="string">&#x27;\n&#x27;</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="åŒºä¿®-åŒºæŸ¥"><a href="#åŒºä¿®-åŒºæŸ¥" class="headerlink" title="åŒºä¿®+åŒºæŸ¥"></a>åŒºä¿®+åŒºæŸ¥</h2><p>è¿™ä¸ªæ˜¯æœ€éš¾çš„ã€‚</p>
<p><img src="https://cdn.jsdelivr.net/gh/kkonglb/image/image-20241106121902333.png" alt="image-20241106121902333"></p>
<h3 id="P3372-ã€æ¨¡æ¿ã€‘çº¿æ®µæ ‘-1"><a href="#P3372-ã€æ¨¡æ¿ã€‘çº¿æ®µæ ‘-1" class="headerlink" title="P3372 ã€æ¨¡æ¿ã€‘çº¿æ®µæ ‘ 1"></a>P3372 ã€æ¨¡æ¿ã€‘çº¿æ®µæ ‘ 1</h3><p>è¿™ä¸€é“é¢˜çš„åŒºä¿®å°±æ˜¯åŒºé—´åŠ ï¼ŒåŒºæŸ¥å°±æ˜¯åŒºé—´å’Œã€‚</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">using</span> u32 = <span class="type">unsigned</span>;</span><br><span class="line"><span class="meta">#<span class="keyword">define</span> i128 __int128;</span></span><br><span class="line"><span class="keyword">using</span> ll = <span class="type">long</span> <span class="type">long</span>;</span><br><span class="line"><span class="meta">#<span class="keyword">define</span> int ll</span></span><br><span class="line"><span class="keyword">using</span> u64 = <span class="type">unsigned</span> <span class="type">long</span> <span class="type">long</span>;</span><br><span class="line"><span class="type">const</span> ll inf = <span class="number">1e9</span>;</span><br><span class="line"><span class="type">const</span> ll INF = <span class="number">1e18</span>;</span><br><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt;</span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">Fenwick</span>&#123;</span><br><span class="line">    <span class="type">int</span> n;</span><br><span class="line">    vector&lt;T&gt; tr;</span><br><span class="line"> </span><br><span class="line">    <span class="built_in">Fenwick</span>(<span class="type">int</span> n) : <span class="built_in">n</span>(n), <span class="built_in">tr</span>(n + <span class="number">1</span>, <span class="number">0</span>)&#123;&#125;</span><br><span class="line"> </span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">lowbit</span><span class="params">(<span class="type">int</span> x)</span></span>&#123;<span class="comment">// æ‰¾åˆ°xæœ€ä½æœ‰æ•ˆä½</span></span><br><span class="line">        <span class="keyword">return</span> x &amp; -x;</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">modify</span><span class="params">(<span class="type">int</span> x, T c)</span></span>&#123;<span class="comment">// ç‚¹ä¿®</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = x; i &lt;= n; i += <span class="built_in">lowbit</span>(i)) tr[i] += c;</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">modify</span><span class="params">(<span class="type">int</span> l, <span class="type">int</span> r, T c)</span></span>&#123;<span class="comment">// åŒºä¿®</span></span><br><span class="line">        <span class="built_in">modify</span>(l, c);</span><br><span class="line">        <span class="keyword">if</span> (r + <span class="number">1</span> &lt;= n) <span class="built_in">modify</span>(r + <span class="number">1</span>, -c);</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">    <span class="function">T <span class="title">query</span><span class="params">(<span class="type">int</span> x)</span></span>&#123;<span class="comment">// å‰ç¼€å’Œ</span></span><br><span class="line">        T res = <span class="built_in">T</span>();</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = x; i; i -= <span class="built_in">lowbit</span>(i)) res += tr[i];</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">    <span class="function">T <span class="title">query</span><span class="params">(<span class="type">int</span> l, <span class="type">int</span> r)</span></span>&#123;<span class="comment">// åŒºé—´æŸ¥è¯¢</span></span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">query</span>(r) - <span class="built_in">query</span>(l - <span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">find_first</span><span class="params">(T sum)</span></span>&#123;<span class="comment">// æŸ¥æ‰¾ç¬¬ä¸€ä¸ªæ»¡è¶³æ¡ä»¶çš„ä¸‹æ ‡ï¼ˆå‰ç¼€å’Œ</span></span><br><span class="line">        <span class="type">int</span> ans = <span class="number">0</span>; T val = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = __lg(n); i &gt;= <span class="number">0</span>; i--)&#123;</span><br><span class="line">            <span class="keyword">if</span> ((ans | (<span class="number">1</span> &lt;&lt; i)) &lt;= n &amp;&amp; val + tr[ans | (<span class="number">1</span> &lt;&lt; i)] &lt; sum)&#123;</span><br><span class="line">                ans |= <span class="number">1</span> &lt;&lt; i;</span><br><span class="line">                val += tr[ans];</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> ans + <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">find_last</span><span class="params">(T sum)</span></span>&#123;<span class="comment">// æŸ¥æ‰¾æœ€åä¸€ä¸ªæ»¡è¶³æ¡ä»¶çš„ä¸‹æ ‡ï¼ˆå‰ç¼€å’Œï¼‰</span></span><br><span class="line">        <span class="type">int</span> ans = <span class="number">0</span>; T val = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = __lg(n); i &gt;= <span class="number">0</span>; i--)&#123;</span><br><span class="line">            <span class="keyword">if</span> ((ans | (<span class="number">1</span> &lt;&lt; i)) &lt;= n &amp;&amp; val + tr[ans | (<span class="number">1</span> &lt;&lt; i)] &lt;= sum)&#123;</span><br><span class="line">                ans |= <span class="number">1</span> &lt;&lt; i;</span><br><span class="line">                val += tr[ans];</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> ans;</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">using</span> BIT = Fenwick&lt;<span class="type">int</span>&gt;;</span><br><span class="line"><span class="function"><span class="type">signed</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    ios::<span class="built_in">sync_with_stdio</span>(<span class="literal">false</span>);</span><br><span class="line">    cin.<span class="built_in">tie</span>(<span class="literal">nullptr</span>);</span><br><span class="line">    <span class="type">int</span> n,m;</span><br><span class="line">    cin&gt;&gt;n&gt;&gt;m;</span><br><span class="line">    <span class="function">BIT <span class="title">d1</span><span class="params">(n)</span>,<span class="title">d2</span><span class="params">(n)</span></span>;</span><br><span class="line">    vector&lt;<span class="type">int</span>&gt;<span class="built_in">a</span>(n<span class="number">+1</span>);</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++)cin&gt;&gt;a[i];    </span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        d<span class="number">1.</span><span class="built_in">modify</span>(i,a[i]);</span><br><span class="line">        d<span class="number">1.</span><span class="built_in">modify</span>(i<span class="number">+1</span>,-a[i]);</span><br><span class="line">        d<span class="number">2.</span><span class="built_in">modify</span>(i,i*a[i]);</span><br><span class="line">        d<span class="number">2.</span><span class="built_in">modify</span>(i<span class="number">+1</span>,-(i<span class="number">+1</span>)*a[i]);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=m;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="type">int</span> op,x,y;</span><br><span class="line">        cin&gt;&gt;op&gt;&gt;x&gt;&gt;y;</span><br><span class="line">        <span class="keyword">if</span>(op==<span class="number">1</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="type">int</span> k;</span><br><span class="line">            cin&gt;&gt;k;</span><br><span class="line">            d<span class="number">1.</span><span class="built_in">modify</span>(x,k);</span><br><span class="line">            d<span class="number">1.</span><span class="built_in">modify</span>(y<span class="number">+1</span>,-k);</span><br><span class="line">            d<span class="number">2.</span><span class="built_in">modify</span>(x,k*x);</span><br><span class="line">            d<span class="number">2.</span><span class="built_in">modify</span>(y<span class="number">+1</span>,-k*(y<span class="number">+1</span>));</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">            cout&lt;&lt;(y<span class="number">+1ll</span>)*d<span class="number">1.</span><span class="built_in">query</span>(y)<span class="number">-1ll</span>*x*d<span class="number">1.</span><span class="built_in">query</span>(x<span class="number">-1</span>)-(d<span class="number">2.</span><span class="built_in">query</span>(y)-d<span class="number">2.</span><span class="built_in">query</span>(x<span class="number">-1</span>))&lt;&lt;<span class="string">&#x27;\n&#x27;</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="äºŒç»´ååº-é€†åºå¯¹"><a href="#äºŒç»´ååº-é€†åºå¯¹" class="headerlink" title="äºŒç»´ååº(é€†åºå¯¹)"></a>äºŒç»´ååº(é€†åºå¯¹)</h2><h3 id="P1908-é€†åºå¯¹"><a href="#P1908-é€†åºå¯¹" class="headerlink" title="P1908 é€†åºå¯¹"></a>P1908 é€†åºå¯¹</h3><p><a href="https://www.luogu.com.cn/problem/P1908">https://www.luogu.com.cn/problem/P1908</a></p>
<p>ç¬¬ä¸€ç§æ–¹æ³•æ˜¯å½’å¹¶æ’åºï¼Œç¬¬äºŒç§æ–¹æ³•æ˜¯æ ‘çŠ¶æ•°ç»„ã€‚</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">using</span> u32 = <span class="type">unsigned</span>;</span><br><span class="line"><span class="meta">#<span class="keyword">define</span> i128 __int128;</span></span><br><span class="line"><span class="keyword">using</span> ll = <span class="type">long</span> <span class="type">long</span>;</span><br><span class="line"><span class="meta">#<span class="keyword">define</span> int ll</span></span><br><span class="line"><span class="keyword">using</span> u64 = <span class="type">unsigned</span> <span class="type">long</span> <span class="type">long</span>;</span><br><span class="line"><span class="type">const</span> ll inf = <span class="number">1e9</span>;</span><br><span class="line"><span class="type">const</span> ll INF = <span class="number">1e18</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">signed</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    ios::<span class="built_in">sync_with_stdio</span>(<span class="literal">false</span>);</span><br><span class="line">    cin.<span class="built_in">tie</span>(<span class="literal">nullptr</span>);</span><br><span class="line">    <span class="type">int</span> n;</span><br><span class="line">    cin&gt;&gt;n;</span><br><span class="line">    vector&lt;<span class="type">int</span>&gt;<span class="built_in">a</span>(n<span class="number">+1</span>);</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++)cin&gt;&gt;a[i];</span><br><span class="line">    vector&lt;<span class="type">int</span>&gt;<span class="built_in">ans</span>(n<span class="number">+1</span>);</span><br><span class="line">    ll cnt=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">auto</span> msort=[&amp;](<span class="keyword">auto</span> self,<span class="type">int</span> l,<span class="type">int</span> r)-&gt;<span class="type">void</span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(l==r)<span class="keyword">return</span>;</span><br><span class="line">        <span class="type">int</span> mid=(l+r)/<span class="number">2</span>;    </span><br><span class="line">        <span class="type">int</span> k=l;</span><br><span class="line">        <span class="type">int</span> i=l,j=mid<span class="number">+1</span>;</span><br><span class="line">        <span class="built_in">self</span>(self,l,mid);<span class="built_in">self</span>(self,mid<span class="number">+1</span>,r);</span><br><span class="line">        <span class="keyword">while</span>(i&lt;=mid&amp;&amp;j&lt;=r)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span>(a[i]&lt;=a[j])ans[k++]=a[i++];</span><br><span class="line">            <span class="keyword">else</span> ans[k++]=a[j++],cnt+=mid-i<span class="number">+1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">while</span>(i&lt;=mid)ans[k++]=a[i++];</span><br><span class="line">        <span class="keyword">while</span>(j&lt;=r)ans[k++]=a[j++];</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i=l;i&lt;=r;i++)a[i]=ans[i];</span><br><span class="line"></span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="built_in">msort</span>(msort,<span class="number">1</span>,n);    </span><br><span class="line">    cout&lt;&lt;cnt&lt;&lt;<span class="string">&#x27;\n&#x27;</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æ ‘çŠ¶æ•°ç»„çš„æ€è·¯å°±æ˜¯å…ˆé¢„å¤„ç†å‡ºæ•°ç»„ä¸­æ¯ä¸€ä¸ªå…ƒç´ åœ¨æ•°ç»„ä¸­çš„å¤§å°çº§åˆ«ï¼Œç»´æŠ¤ä¸€ä¸ªå­˜å¤§å°çº§åˆ«çš„æ ‘çŠ¶æ•°ç»„ï¼Œç„¶åéå†æ•´ä¸ªæ•°ç»„ï¼Œå°†æ¯ä¸€ä¸ªå…ƒç´ çš„çº§åˆ«ä¾æ¬¡æ”¾å…¥æ ‘çŠ¶æ•°ç»„ï¼Œæ ¹æ®ç„¶åç”¨<code>ans+=i+bit.query(mp[b[i]]);</code>å°±èƒ½ç›´æ¥ç®—å‡ºå¯¹æ¯ä¸€ä¸ªå…ƒç´ æ¥è¯´çš„é€†åºå¯¹ä¸ªæ•°äº†ã€‚</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">using</span> u32 = <span class="type">unsigned</span>;</span><br><span class="line"><span class="meta">#<span class="keyword">define</span> i128 __int128;</span></span><br><span class="line"><span class="keyword">using</span> ll = <span class="type">long</span> <span class="type">long</span>;</span><br><span class="line"><span class="comment">//#define int ll</span></span><br><span class="line"><span class="keyword">using</span> u64 = <span class="type">unsigned</span> <span class="type">long</span> <span class="type">long</span>;</span><br><span class="line"><span class="type">const</span> ll inf = <span class="number">1e9</span>;</span><br><span class="line"><span class="type">const</span> ll INF = <span class="number">1e18</span>;</span><br><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt;</span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">Fenwick</span>&#123;</span><br><span class="line">    <span class="type">int</span> n;</span><br><span class="line">    vector&lt;T&gt; tr;</span><br><span class="line"> </span><br><span class="line">    <span class="built_in">Fenwick</span>(<span class="type">int</span> n) : <span class="built_in">n</span>(n), <span class="built_in">tr</span>(n + <span class="number">1</span>, <span class="number">0</span>)&#123;&#125;</span><br><span class="line"> </span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">lowbit</span><span class="params">(<span class="type">int</span> x)</span></span>&#123;<span class="comment">// æ‰¾åˆ°xæœ€ä½æœ‰æ•ˆä½</span></span><br><span class="line">        <span class="keyword">return</span> x &amp; -x;</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">modify</span><span class="params">(<span class="type">int</span> x, T c)</span></span>&#123;<span class="comment">// ç‚¹ä¿®</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = x; i &lt;= n; i += <span class="built_in">lowbit</span>(i)) tr[i] += c;</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">modify</span><span class="params">(<span class="type">int</span> l, <span class="type">int</span> r, T c)</span></span>&#123;<span class="comment">// åŒºä¿®</span></span><br><span class="line">        <span class="built_in">modify</span>(l, c);</span><br><span class="line">        <span class="keyword">if</span> (r + <span class="number">1</span> &lt;= n) <span class="built_in">modify</span>(r + <span class="number">1</span>, -c);</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">    <span class="function">T <span class="title">query</span><span class="params">(<span class="type">int</span> x)</span></span>&#123;<span class="comment">// å‰ç¼€å’Œ</span></span><br><span class="line">        T res = <span class="built_in">T</span>();</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = x; i; i -= <span class="built_in">lowbit</span>(i)) res += tr[i];</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">    <span class="function">T <span class="title">query</span><span class="params">(<span class="type">int</span> l, <span class="type">int</span> r)</span></span>&#123;<span class="comment">// åŒºé—´æŸ¥è¯¢</span></span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">query</span>(r) - <span class="built_in">query</span>(l - <span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">find_first</span><span class="params">(T sum)</span></span>&#123;<span class="comment">// æŸ¥æ‰¾ç¬¬ä¸€ä¸ªå‰ç¼€å’Œå¤§äºæˆ–ç­‰äº sum çš„ä¸‹æ ‡</span></span><br><span class="line">        <span class="type">int</span> ans = <span class="number">0</span>; T val = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = __lg(n); i &gt;= <span class="number">0</span>; i--)&#123;</span><br><span class="line">            <span class="keyword">if</span> ((ans | (<span class="number">1</span> &lt;&lt; i)) &lt;= n &amp;&amp; val + tr[ans | (<span class="number">1</span> &lt;&lt; i)] &lt; sum)&#123;</span><br><span class="line">                ans |= <span class="number">1</span> &lt;&lt; i;</span><br><span class="line">                val += tr[ans];</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> ans + <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">find_last</span><span class="params">(T sum)</span></span>&#123;<span class="comment">// æŸ¥æ‰¾æœ€åä¸€ä¸ªå‰ç¼€å’Œå°äºæˆ–ç­‰äº sum çš„ä¸‹æ ‡</span></span><br><span class="line">        <span class="type">int</span> ans = <span class="number">0</span>; T val = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = __lg(n); i &gt;= <span class="number">0</span>; i--)&#123;</span><br><span class="line">            <span class="keyword">if</span> ((ans | (<span class="number">1</span> &lt;&lt; i)) &lt;= n &amp;&amp; val + tr[ans | (<span class="number">1</span> &lt;&lt; i)] &lt;= sum)&#123;</span><br><span class="line">                ans |= <span class="number">1</span> &lt;&lt; i;</span><br><span class="line">                val += tr[ans];</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> ans;</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">using</span> BIT = Fenwick&lt;<span class="type">int</span>&gt;;</span><br><span class="line"><span class="function"><span class="type">signed</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    ios::<span class="built_in">sync_with_stdio</span>(<span class="literal">false</span>);</span><br><span class="line">    cin.<span class="built_in">tie</span>(<span class="literal">nullptr</span>);</span><br><span class="line">    <span class="type">int</span> n;</span><br><span class="line">    cin&gt;&gt;n;</span><br><span class="line">    vector&lt;<span class="type">int</span>&gt;<span class="built_in">a</span>(n<span class="number">+1</span>);</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++)cin&gt;&gt;a[i];    </span><br><span class="line">    vector&lt;<span class="type">int</span>&gt;<span class="built_in">p</span>(n<span class="number">+1</span>);</span><br><span class="line">    <span class="built_in">iota</span>(p.<span class="built_in">begin</span>(),p.<span class="built_in">end</span>(),<span class="number">0</span>);</span><br><span class="line">    <span class="built_in">sort</span>(p.<span class="built_in">begin</span>()<span class="number">+1</span>,p.<span class="built_in">end</span>(),[&amp;](<span class="type">int</span> i,<span class="type">int</span> j)&#123;</span><br><span class="line">        <span class="keyword">if</span>(a[i]!=a[j])<span class="keyword">return</span> a[i]&gt;a[j];</span><br><span class="line">        <span class="keyword">return</span> i&gt;j;</span><br><span class="line">    &#125;);<span class="comment">//æ ¹æ®aä¸­çš„å…ƒç´ æ•°å€¼å¤§å°ä¸ºå…¶ä¸­çš„å…ƒç´ åˆ†é…æ’åï¼Œè¶Šå¤§çš„ï¼Œè¶Šé åçš„æ’åè¶Šé«˜ï¼Œæ’åä»1å¼€å§‹ã€‚</span></span><br><span class="line">    <span class="function">BIT <span class="title">bit</span><span class="params">(n)</span></span>;</span><br><span class="line">    ll ans=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        ans+=bit.<span class="built_in">query</span>(p[i]);</span><br><span class="line">        bit.<span class="built_in">modify</span>(p[i],<span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    cout&lt;&lt;ans&lt;&lt;<span class="string">&#x27;\n&#x27;</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Â·</p>
]]></content>
  </entry>
  <entry>
    <title>æ´›è°·åŠ¨æ€è§„åˆ’é¢˜å•</title>
    <url>/2024/11/29/%E6%B4%9B%E8%B0%B7%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92%E9%A2%98%E5%8D%95/</url>
    <content><![CDATA[<h1 id="æ´›è°·åŠ¨æ€è§„åˆ’é¢˜å•"><a href="#æ´›è°·åŠ¨æ€è§„åˆ’é¢˜å•" class="headerlink" title="æ´›è°·åŠ¨æ€è§„åˆ’é¢˜å•"></a>æ´›è°·åŠ¨æ€è§„åˆ’é¢˜å•</h1><h2 id="P2196-NOIP1996-æé«˜ç»„-æŒ–åœ°é›·"><a href="#P2196-NOIP1996-æé«˜ç»„-æŒ–åœ°é›·" class="headerlink" title="P2196 [NOIP1996 æé«˜ç»„] æŒ–åœ°é›·"></a>P2196 [NOIP1996 æé«˜ç»„] æŒ–åœ°é›·</h2><p><a href="https://www.luogu.com.cn/problem/P2196">https://www.luogu.com.cn/problem/P2196</a>  <strong>æ™®åŠ&#x2F;æé«˜âˆ’</strong></p>
<p>è¿™ä¸€é“é¢˜ç›´æ¥ç”¨dfså°±èƒ½åšï¼Œä¸éœ€è¦åŠ¨æ€è§„åˆ’</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">using</span> u32 = <span class="type">unsigned</span>;</span><br><span class="line"><span class="meta">#<span class="keyword">define</span> i128 __int128;</span></span><br><span class="line"><span class="keyword">using</span> ll = <span class="type">long</span> <span class="type">long</span>;</span><br><span class="line"><span class="keyword">using</span> u64 = <span class="type">unsigned</span> <span class="type">long</span> <span class="type">long</span>;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> inf = <span class="number">2147483647</span>;</span><br><span class="line"><span class="type">const</span> ll INF = <span class="number">1e18</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    ios::<span class="built_in">sync_with_stdio</span>(<span class="literal">false</span>);</span><br><span class="line">    cin.<span class="built_in">tie</span>(<span class="literal">nullptr</span>);</span><br><span class="line">    <span class="type">int</span> n;</span><br><span class="line">    cin&gt;&gt;n;</span><br><span class="line">    vector&lt;<span class="type">int</span>&gt;<span class="built_in">a</span>(n<span class="number">+1</span>);</span><br><span class="line">    vector&lt;vector&lt;<span class="type">int</span>&gt;&gt;<span class="built_in">adj</span>(n<span class="number">+1</span>);</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++)cin&gt;&gt;a[i];</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n<span class="number">-1</span>;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j=i<span class="number">+1</span>;j&lt;=n;j++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="type">int</span> x;</span><br><span class="line">            cin&gt;&gt;x;</span><br><span class="line">            <span class="keyword">if</span>(x)</span><br><span class="line">            &#123;</span><br><span class="line">                adj[i].<span class="built_in">push_back</span>(j);<span class="comment">// è¿™ä¸ªæ˜¯å•å‘è¾¹</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;    </span><br><span class="line">    vector&lt;<span class="type">int</span>&gt;ret;</span><br><span class="line">    ll ans=<span class="number">0</span>;</span><br><span class="line">    vector&lt;ll&gt;<span class="built_in">dp</span>(n<span class="number">+1</span>);</span><br><span class="line">    ll sum=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">auto</span> dfs=[&amp;](<span class="keyword">auto</span> self,<span class="type">int</span> u,<span class="type">int</span> fa,vector&lt;<span class="type">int</span>&gt;&amp;vv)-&gt;<span class="type">void</span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(adj[u].<span class="built_in">empty</span>())<span class="comment">//æœåˆ°åº•éƒ¨çš„è¯å¦‚æœæ€»å’Œ(sum&gt;ans),é‚£ä¹ˆå°±æ›´æ–°anså’Œå­˜çš„è·¯å¾„æ•°ç»„ret</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span>(sum&gt;ans)&#123;ret=vv;ans=sum;&#125;</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">auto</span> v:adj[u])</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span>(v==fa)<span class="keyword">continue</span>;</span><br><span class="line">            vv.<span class="built_in">push_back</span>(v);</span><br><span class="line">            sum+=a[v];</span><br><span class="line">            <span class="built_in">self</span>(self,v,u,vv);</span><br><span class="line">            vv.<span class="built_in">pop_back</span>();</span><br><span class="line">            sum-=a[v];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        sum=<span class="number">0</span>;</span><br><span class="line">        vector&lt;<span class="type">int</span>&gt;vv;</span><br><span class="line">        vv.<span class="built_in">push_back</span>(i);<span class="comment">//å°†è·¯å¾„çš„ç¬¬ä¸€ä¸ªç‚¹çº¿è®¡ç®—è¿›å»</span></span><br><span class="line">        sum+=a[i];</span><br><span class="line">        <span class="built_in">dfs</span>(dfs,i,<span class="number">-1</span>,vv);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;ret.<span class="built_in">size</span>();i++)cout&lt;&lt;ret[i]&lt;&lt;<span class="string">&quot; \n&quot;</span>[i==ret.<span class="built_in">size</span>()<span class="number">-1</span>];</span><br><span class="line">    cout&lt;&lt;ans&lt;&lt;<span class="string">&#x27;\n&#x27;</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="P1434-SHOI2002-æ»‘é›ª"><a href="#P1434-SHOI2002-æ»‘é›ª" class="headerlink" title="P1434 [SHOI2002] æ»‘é›ª"></a>P1434 [SHOI2002] æ»‘é›ª</h2><p><a href="https://www.luogu.com.cn/problem/P1434">https://www.luogu.com.cn/problem/P1434</a> <strong>æ™®åŠ&#x2F;æé«˜âˆ’</strong></p>
<p>è¿™ä¸€é¢˜æ±‚æ»‘é›ªçš„æœ€å¤§è·¯å¾„,æˆ‘çš„ç†è§£æ˜¯å¯¹æ¯ä¸€ä¸ªç‚¹è¿›è¡Œdfs, æ‰¾åˆ°èƒ½èµ°åˆ°çš„å°½å¤´, ç„¶åå›æº¯ä»1é€’å¢èµ‹å€¼,åŒæ—¶å¯¹è·¯å¾„ä¸Šçš„æ¯ä¸€ä¸ªç‚¹è¿›è¡Œæ ‡è®°( visæ•°ç»„ ), å¦‚æœåœ¨dfsçš„è¿‡ç¨‹ä¸­é‡åˆ°å·²æ ‡è®°çš„ç‚¹, é‚£ä¹ˆå°±ç›´æ¥å›æº¯, å¯¹è¿™ä¸ªç‚¹è¿›è¡Œé€’å¢.</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">using</span> u32 = <span class="type">unsigned</span>;</span><br><span class="line"><span class="meta">#<span class="keyword">define</span> i128 __int128;</span></span><br><span class="line"><span class="keyword">using</span> ll = <span class="type">long</span> <span class="type">long</span>;</span><br><span class="line"><span class="keyword">using</span> u64 = <span class="type">unsigned</span> <span class="type">long</span> <span class="type">long</span>;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> inf = <span class="number">2147483647</span>;</span><br><span class="line"><span class="type">const</span> ll INF = <span class="number">1e18</span>;</span><br><span class="line"><span class="type">int</span> dx[]=&#123;<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">-1</span>&#125;;</span><br><span class="line"><span class="type">int</span> dy[]=&#123;<span class="number">0</span>,<span class="number">1</span>,<span class="number">-1</span>,<span class="number">0</span>&#125;;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    ios::<span class="built_in">sync_with_stdio</span>(<span class="literal">false</span>);</span><br><span class="line">    cin.<span class="built_in">tie</span>(<span class="literal">nullptr</span>);</span><br><span class="line">    <span class="type">int</span> n,m;</span><br><span class="line">    cin&gt;&gt;n&gt;&gt;m;</span><br><span class="line">    vector&lt;vector&lt;<span class="type">int</span>&gt;&gt;<span class="built_in">a</span>(n<span class="number">+1</span>,<span class="built_in">vector</span>&lt;<span class="type">int</span>&gt;(m<span class="number">+1</span>)),<span class="built_in">vis</span>(n<span class="number">+1</span>,<span class="built_in">vector</span>&lt;<span class="type">int</span>&gt;(m<span class="number">+1</span>)),<span class="built_in">dp</span>(n<span class="number">+1</span>,<span class="built_in">vector</span>&lt;<span class="type">int</span>&gt;(m<span class="number">+1</span>));</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j=<span class="number">1</span>;j&lt;=m;j++)cin&gt;&gt;a[i][j];</span><br><span class="line">    &#125;    </span><br><span class="line">    <span class="type">int</span> jishu=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">auto</span> dfs=[&amp;](<span class="keyword">auto</span> self,<span class="type">int</span> x,<span class="type">int</span> y)-&gt;<span class="type">void</span>&#123;</span><br><span class="line">        <span class="type">int</span> cnt=<span class="number">0</span>;</span><br><span class="line">        vis[x][y]=<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;<span class="number">4</span>;i++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="type">int</span> xx=x+dx[i],yy=y+dy[i];</span><br><span class="line">            <span class="keyword">if</span>(xx&lt;<span class="number">1</span>||xx&gt;n||yy&lt;<span class="number">1</span>||yy&gt;m)<span class="keyword">continue</span>;</span><br><span class="line">            <span class="keyword">if</span>(a[xx][yy]&lt;=a[x][y])<span class="keyword">continue</span>;</span><br><span class="line">            cnt++;</span><br><span class="line">            <span class="keyword">if</span>(vis[xx][yy])&#123;dp[x][y]=<span class="built_in">max</span>(dp[x][y],dp[xx][yy]<span class="number">+1</span>);<span class="keyword">continue</span>;&#125;<span class="comment">// rå¦‚æœæ ‡è®°äº†, å°±ç›´æ¥å›æº¯ç„¶åé€’å¢</span></span><br><span class="line">            <span class="built_in">self</span>(self,xx,yy);</span><br><span class="line">            dp[x][y]=<span class="built_in">max</span>(dp[x][y],dp[xx][yy]<span class="number">+1</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(!cnt)dp[x][y]=<span class="number">1</span>;å¦‚æœæ— è·¯å¯é€š, è¯´æ˜æ˜¯æœ€ä¸‹é¢é‚£ä¸€ä¸ªç‚¹, å°±ä»<span class="number">1</span>å¼€å§‹èµ‹å€¼.</span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j=<span class="number">1</span>;j&lt;=m;j++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span>(vis[i][j])<span class="keyword">continue</span>;<span class="comment">//æ²¡èµ°è¿‡å¯ä»¥èµ°</span></span><br><span class="line">            <span class="built_in">dfs</span>(dfs,i,j);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">int</span> maxn=-inf;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j=<span class="number">1</span>;j&lt;=m;j++)maxn=<span class="built_in">max</span>(maxn,dp[i][j]);</span><br><span class="line">    &#125;</span><br><span class="line">    cout&lt;&lt;maxn&lt;&lt;<span class="string">&#x27;\n&#x27;</span>; </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h2 id="P4017-æœ€å¤§é£Ÿç‰©é“¾è®¡æ•°"><a href="#P4017-æœ€å¤§é£Ÿç‰©é“¾è®¡æ•°" class="headerlink" title="P4017 æœ€å¤§é£Ÿç‰©é“¾è®¡æ•°"></a>P4017 æœ€å¤§é£Ÿç‰©é“¾è®¡æ•°</h2><p><a href="https://www.luogu.com.cn/problem/P4017">https://www.luogu.com.cn/problem/P4017</a> <strong>æ™®åŠ&#x2F;æé«˜âˆ’</strong></p>
<p>æ‹“æ‰‘æ’åº, åœ¨èµ°åˆ°æ¯ä¸€ä¸ªé“¾èµ°åä¸€ä¸ªç‚¹æ—¶ç”¨retè¿›è¡Œç´¯åŠ </p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">using</span> u32 = <span class="type">unsigned</span>;</span><br><span class="line"><span class="keyword">using</span> ll = <span class="type">long</span> <span class="type">long</span>;</span><br><span class="line"><span class="keyword">using</span> u64 = <span class="type">unsigned</span> <span class="type">long</span> <span class="type">long</span>;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> inf = <span class="number">2147483647</span>;</span><br><span class="line"><span class="type">const</span> ll INF = <span class="number">1e18</span>;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> mod=<span class="number">80112002</span>;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    ios::<span class="built_in">sync_with_stdio</span>(<span class="literal">false</span>);</span><br><span class="line">    cin.<span class="built_in">tie</span>(<span class="literal">nullptr</span>);</span><br><span class="line">    <span class="type">int</span> n,m;</span><br><span class="line">    cin&gt;&gt;n&gt;&gt;m;</span><br><span class="line">    vector&lt;vector&lt;<span class="type">int</span>&gt;&gt;<span class="built_in">adj</span>(n<span class="number">+1</span>);</span><br><span class="line">    vector&lt;<span class="type">int</span>&gt;<span class="built_in">in</span>(n<span class="number">+1</span>);</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=m;i++)    </span><br><span class="line">    &#123;</span><br><span class="line">        <span class="type">int</span> a,b;</span><br><span class="line">        cin&gt;&gt;a&gt;&gt;b;</span><br><span class="line">        adj[a].<span class="built_in">push_back</span>(b);</span><br><span class="line">        in[b]++;</span><br><span class="line">    &#125;</span><br><span class="line">    queue&lt;<span class="type">int</span>&gt;q;</span><br><span class="line">    vector&lt;<span class="type">int</span>&gt;<span class="built_in">sum</span>(n<span class="number">+1</span>);</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>(in[i]==<span class="number">0</span>)&#123;q.<span class="built_in">push</span>(i);sum[i]=<span class="number">1</span>;&#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">int</span> ret=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span>(q.<span class="built_in">size</span>())</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="type">int</span> shu=q.<span class="built_in">front</span>();q.<span class="built_in">pop</span>();</span><br><span class="line">        <span class="keyword">if</span>(adj[shu].<span class="built_in">empty</span>())ret+=sum[shu];</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">auto</span> v:adj[shu])</span><br><span class="line">        &#123;</span><br><span class="line">            sum[v]=(sum[shu]+sum[v])%mod;</span><br><span class="line">            <span class="keyword">if</span>(--in[v]==<span class="number">0</span>)q.<span class="built_in">push</span>(v);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    cout&lt;&lt;ret%mod&lt;&lt;<span class="string">&#x27;\n&#x27;</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="P1115-æœ€å¤§å­æ®µå’Œ"><a href="#P1115-æœ€å¤§å­æ®µå’Œ" class="headerlink" title="P1115 æœ€å¤§å­æ®µå’Œ"></a>P1115 æœ€å¤§å­æ®µå’Œ</h2><p><a href="https://www.luogu.com.cn/problem/P1115">https://www.luogu.com.cn/problem/P1115</a> <strong>æ™®åŠâˆ’</strong></p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">using</span> ll = <span class="type">long</span> <span class="type">long</span>; </span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N=<span class="number">2e5</span><span class="number">+10</span>;</span><br><span class="line"><span class="type">int</span> arr[N];</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    cin.<span class="built_in">tie</span>(<span class="literal">nullptr</span>)-&gt;ios::<span class="built_in">sync_with_stdio</span>(<span class="literal">false</span>);</span><br><span class="line">    <span class="type">int</span> n;</span><br><span class="line">    cin&gt;&gt;n;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        cin&gt;&gt;arr[i];</span><br><span class="line">    &#125;</span><br><span class="line">    vector&lt;<span class="type">int</span>&gt;<span class="built_in">dp</span>(n<span class="number">+1</span>);</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>(dp[i<span class="number">-1</span>]&gt;<span class="number">0</span>)dp[i]=dp[i<span class="number">-1</span>]+arr[i];</span><br><span class="line">        <span class="keyword">else</span> dp[i]=arr[i];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">int</span> ret=*<span class="built_in">max_element</span>(dp.<span class="built_in">begin</span>()<span class="number">+1</span>,dp.<span class="built_in">end</span>());</span><br><span class="line">    cout&lt;&lt;ret&lt;&lt;<span class="string">&quot;\n&quot;</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="P1077-NOIP2012-æ™®åŠç»„-æ‘†èŠ±"><a href="#P1077-NOIP2012-æ™®åŠç»„-æ‘†èŠ±" class="headerlink" title="P1077 [NOIP2012 æ™®åŠç»„] æ‘†èŠ±"></a>P1077 [NOIP2012 æ™®åŠç»„] æ‘†èŠ±</h2><p><a href="https://www.luogu.com.cn/problem/P1077">https://www.luogu.com.cn/problem/P1077</a>  <strong>æ™®åŠ&#x2F;æé«˜âˆ’</strong></p>
<p>è¿™ä¸ªæ˜¯å¤šé‡èƒŒåŒ…ï¼Œä½†æ˜¯ç”±äºæ¯æ¬¡æ¶ˆè€—çš„éƒ½æ˜¯1ï¼Œæ‰€ä»¥çœ‹èµ·æ¥æ¯”è¾ƒç®€å•ï¼Œä¸ºäº†ä¾¿äºç†è§£ï¼Œè¿™é‡Œä¹Ÿé™„ä¸Šoiwikiä¸Šçš„å¤šé‡èƒŒåŒ…ä»£ç </p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; i++) &#123;</span><br><span class="line">  <span class="keyword">for</span> (<span class="type">int</span> weight = W; weight &gt;= w[i]; weight--) &#123;</span><br><span class="line">    <span class="comment">// å¤šéå†ä¸€å±‚ç‰©å“æ•°é‡</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> k = <span class="number">1</span>; k * w[i] &lt;= weight &amp;&amp; k &lt;= cnt[i]; k++) &#123;</span><br><span class="line">      dp[weight] = <span class="built_in">max</span>(dp[weight], dp[weight - k * w[i]] + k * v[i]);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">using</span> u32 = <span class="type">unsigned</span>;</span><br><span class="line"><span class="meta">#<span class="keyword">define</span> i128 __int128;</span></span><br><span class="line"><span class="keyword">using</span> ll = <span class="type">long</span> <span class="type">long</span>;</span><br><span class="line"><span class="keyword">using</span> u64 = <span class="type">unsigned</span> <span class="type">long</span> <span class="type">long</span>;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> inf = <span class="number">2147483647</span>;</span><br><span class="line"><span class="type">const</span> ll INF = <span class="number">1e18</span>;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> mod=<span class="number">1e6</span><span class="number">+7</span>;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    ios::<span class="built_in">sync_with_stdio</span>(<span class="literal">false</span>);</span><br><span class="line">    cin.<span class="built_in">tie</span>(<span class="literal">nullptr</span>);</span><br><span class="line">    <span class="type">int</span> n,m;</span><br><span class="line">    cin&gt;&gt;n&gt;&gt;m;</span><br><span class="line">    vector&lt;<span class="type">int</span>&gt;<span class="built_in">a</span>(n<span class="number">+1</span>);</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++)cin&gt;&gt;a[i];</span><br><span class="line">    vector&lt;<span class="type">int</span>&gt;<span class="built_in">dp</span>(m<span class="number">+1</span>);</span><br><span class="line">    dp[<span class="number">0</span>]=<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j=m;j&gt;=<span class="number">1</span>;j--)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> k=<span class="number">1</span>;k&lt;=<span class="built_in">min</span>(a[i],j);k++)</span><br><span class="line">            &#123;</span><br><span class="line">                dp[j]=(dp[j]+dp[j-k])%mod;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    cout&lt;&lt;dp[m]&lt;&lt;<span class="string">&#x27;\n&#x27;</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="P3842-TJOI2007-çº¿æ®µ"><a href="#P3842-TJOI2007-çº¿æ®µ" class="headerlink" title="P3842 [TJOI2007] çº¿æ®µ"></a>P3842 [TJOI2007] çº¿æ®µ</h2><p><a href="https://www.luogu.com.cn/problem/P3842">https://www.luogu.com.cn/problem/P3842</a> <strong>æ™®åŠ&#x2F;æé«˜âˆ’</strong></p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">using</span> u32 = <span class="type">unsigned</span>;</span><br><span class="line"><span class="meta">#<span class="keyword">define</span> i128 __int128;</span></span><br><span class="line"><span class="keyword">using</span> ll = <span class="type">long</span> <span class="type">long</span>;</span><br><span class="line"><span class="keyword">using</span> u64 = <span class="type">unsigned</span> <span class="type">long</span> <span class="type">long</span>;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> inf = <span class="number">2147483647</span>;</span><br><span class="line"><span class="type">const</span> ll INF = <span class="number">1e18</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    ios::<span class="built_in">sync_with_stdio</span>(<span class="literal">false</span>);</span><br><span class="line">    cin.<span class="built_in">tie</span>(<span class="literal">nullptr</span>);</span><br><span class="line">    <span class="type">int</span> n;</span><br><span class="line">    cin&gt;&gt;n;</span><br><span class="line">    vector&lt;vector&lt;<span class="type">int</span>&gt;&gt;<span class="built_in">dp</span>(n<span class="number">+1</span>,<span class="built_in">vector</span>&lt;<span class="type">int</span>&gt;(<span class="number">2</span>));<span class="comment">// èƒŒåŒ…å¼€äº†ä¸¤ç»´ï¼Œç¬¬äºŒç»´å¦‚æœæ˜¯0å°±æ˜¯çº¿æ®µçš„å·¦ç«¯ç‚¹ï¼Œ1å°±æ˜¯çº¿æ®µçš„å³ç«¯ç‚¹</span></span><br><span class="line">    dp[<span class="number">0</span>][<span class="number">0</span>]=<span class="number">0</span>,dp[<span class="number">0</span>][<span class="number">1</span>]=<span class="number">0</span>;</span><br><span class="line">    vector&lt;pair&lt;<span class="type">int</span>,<span class="type">int</span>&gt;&gt;<span class="built_in">v</span>(n<span class="number">+1</span>);</span><br><span class="line">    v[<span class="number">0</span>].first=<span class="number">1</span>,v[<span class="number">0</span>].second=<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        cin&gt;&gt;v[i].first&gt;&gt;v[i].second;</span><br><span class="line">        <span class="keyword">auto</span> [l,r]=v[i<span class="number">-1</span>];</span><br><span class="line">        <span class="keyword">auto</span> [ll,rr]=v[i];</span><br><span class="line">        <span class="comment">// æ¯ä¸€å±‚çš„å·¦å³ä¸¤ä¸ªç«¯ç‚¹éƒ½å¯ä»¥ä»ä¸Šä¸€å±‚çš„å·¦å³ä¸¤ä¸ªç«¯ç‚¹é€’æ¨è€Œæ¥</span></span><br><span class="line">        dp[i][<span class="number">0</span>]=<span class="built_in">min</span>(dp[i<span class="number">-1</span>][<span class="number">0</span>]+<span class="built_in">abs</span>(rr-l)+rr-ll,dp[i<span class="number">-1</span>][<span class="number">1</span>]+<span class="built_in">abs</span>(rr-r)+rr-ll);</span><br><span class="line">        dp[i][<span class="number">1</span>]=<span class="built_in">min</span>(dp[i<span class="number">-1</span>][<span class="number">0</span>]+<span class="built_in">abs</span>(ll-l)+rr-ll,dp[i<span class="number">-1</span>][<span class="number">1</span>]+<span class="built_in">abs</span>(ll-r)+rr-ll);</span><br><span class="line">    &#125;    </span><br><span class="line">    cout&lt;&lt;<span class="built_in">min</span>(dp[n][<span class="number">0</span>]+<span class="built_in">abs</span>(n-v[n].first),dp[n][<span class="number">1</span>]+<span class="built_in">abs</span>(n-v[n].second))+n<span class="number">-1</span>&lt;&lt;<span class="string">&#x27;\n&#x27;</span>;<span class="comment">// è®°å¾—è¿˜è¦åŠ ä¸Šn-1ï¼Œå› ä¸ºæ¯èµ°ä¸€å±‚è¦+1</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="P1064-NOIP2006-æé«˜ç»„-é‡‘æ˜çš„é¢„ç®—æ–¹æ¡ˆ"><a href="#P1064-NOIP2006-æé«˜ç»„-é‡‘æ˜çš„é¢„ç®—æ–¹æ¡ˆ" class="headerlink" title="P1064 [NOIP2006 æé«˜ç»„] é‡‘æ˜çš„é¢„ç®—æ–¹æ¡ˆ"></a>P1064 [NOIP2006 æé«˜ç»„] é‡‘æ˜çš„é¢„ç®—æ–¹æ¡ˆ</h2><p><a href="https://www.luogu.com.cn/problem/P1064">https://www.luogu.com.cn/problem/P1064</a> <strong>æ™®åŠ+&#x2F;æé«˜</strong></p>
<p>æ€»çš„æ¥è¯´æ„Ÿè§‰è¿˜æ˜¯0&#x2F;1èƒŒåŒ…ï¼Œåªä¸è¿‡éœ€è¦åˆ†æƒ…å†µï¼Œå°†ä¸»é”®å’Œé™„ä»¶ç»‘å®šåˆ°ä¸€èµ·çš„å„ç§æƒ…å†µåˆ†åˆ«è®¡ç®—å°±è¡Œäº†</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line">è¿™ä¸ªé¢˜çš„å†³ç­–æ˜¯äº”ä¸ªï¼Œåˆ†åˆ«æ˜¯ï¼š</span><br><span class="line"></span><br><span class="line"><span class="number">1.</span>ä¸é€‰ï¼Œç„¶åå»è€ƒè™‘ä¸‹ä¸€ä¸ª <span class="comment">// è¿™ç§æƒ…å†µå®æ“ä¸ç”¨è€ƒè™‘ï¼Œå› ä¸ºä¸€ç»´dpæ•°ç»„ç›´æ¥å°±ç›¸å½“äºç»§æ‰¿ä¸Šä¸€å±‚äº†ï¼Œè¿™ä¸€ç§æƒ…å†µé»˜è®¤å°±å·²ç»å®Œæˆäº†</span></span><br><span class="line"></span><br><span class="line"><span class="number">2.</span>é€‰ä¸”åªé€‰è¿™ä¸ªä¸»ä»¶</span><br><span class="line"></span><br><span class="line"><span class="number">3.</span>é€‰è¿™ä¸ªä¸»ä»¶ï¼Œå¹¶ä¸”é€‰é™„ä»¶<span class="number">1</span></span><br><span class="line"></span><br><span class="line"><span class="number">4.</span>é€‰è¿™ä¸ªä¸»ä»¶ï¼Œå¹¶ä¸”é€‰é™„ä»¶<span class="number">2</span></span><br><span class="line"></span><br><span class="line"><span class="number">5.</span>é€‰è¿™ä¸ªä¸»ä»¶ï¼Œå¹¶ä¸”é€‰é™„ä»¶<span class="number">1</span>å’Œé™„ä»¶<span class="number">2.</span></span><br></pre></td></tr></table></figure>

<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">using</span> u32 = <span class="type">unsigned</span>;</span><br><span class="line"><span class="meta">#<span class="keyword">define</span> i128 __int128;</span></span><br><span class="line"><span class="keyword">using</span> ll = <span class="type">long</span> <span class="type">long</span>;</span><br><span class="line"><span class="keyword">using</span> u64 = <span class="type">unsigned</span> <span class="type">long</span> <span class="type">long</span>;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> inf = <span class="number">2147483647</span>;</span><br><span class="line"><span class="type">const</span> ll INF = <span class="number">1e18</span>;</span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">node</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> v,p,q;</span><br><span class="line">    <span class="type">int</span> jz;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    ios::<span class="built_in">sync_with_stdio</span>(<span class="literal">false</span>);</span><br><span class="line">    cin.<span class="built_in">tie</span>(<span class="literal">nullptr</span>);</span><br><span class="line">    <span class="type">int</span> m,n;</span><br><span class="line">    cin&gt;&gt;m&gt;&gt;n;</span><br><span class="line">    vector&lt;node&gt;<span class="built_in">v</span>(n<span class="number">+1</span>);</span><br><span class="line">    vector&lt;vector&lt;<span class="type">int</span>&gt;&gt;<span class="built_in">adj</span>(n<span class="number">+1</span>);</span><br><span class="line">    vector&lt;ll&gt;<span class="built_in">dp</span>(m<span class="number">+1</span>);</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        cin&gt;&gt;v[i].v&gt;&gt;v[i].p&gt;&gt;v[i].q;</span><br><span class="line">        v[i].jz=v[i].v*v[i].p;</span><br><span class="line">        <span class="keyword">if</span>(v[i].q)adj[v[i].q].<span class="built_in">push_back</span>(i);<span class="comment">// å¦‚æœä¸æ˜¯0çš„è¯å°±æŠŠä»–æ¥åˆ°adj[v[i].q]åé¢</span></span><br><span class="line">    &#125;    </span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>(v[i].q)<span class="keyword">continue</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j=m;j&gt;=v[i].v;j--)</span><br><span class="line">        &#123;</span><br><span class="line">            dp[j]=<span class="built_in">max</span>(dp[j],dp[j-v[i].v]+v[i].jz);</span><br><span class="line">            <span class="keyword">if</span>(adj[i].<span class="built_in">size</span>()==<span class="number">2</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">if</span>(j&gt;=v[i].v+v[adj[i][<span class="number">0</span>]].v)dp[j]=<span class="built_in">max</span>(dp[j],dp[j-v[i].v-v[adj[i][<span class="number">0</span>]].v]+v[i].jz+v[adj[i][<span class="number">0</span>]].jz);</span><br><span class="line"></span><br><span class="line">                <span class="keyword">if</span>(j&gt;=v[i].v+v[adj[i][<span class="number">0</span>]].v+v[adj[i][<span class="number">1</span>]].v)dp[j]=<span class="built_in">max</span>(dp[j],dp[j-v[i].v-v[adj[i][<span class="number">0</span>]].v-v[adj[i][<span class="number">1</span>]].v]+v[i].jz+v[adj[i][<span class="number">0</span>]].jz+v[adj[i][<span class="number">1</span>]].jz);</span><br><span class="line"></span><br><span class="line">                <span class="keyword">if</span>(j&gt;=v[i].v+v[adj[i][<span class="number">1</span>]].v)dp[j]=<span class="built_in">max</span>(dp[j],dp[j-v[i].v-v[adj[i][<span class="number">1</span>]].v]+v[i].jz+v[adj[i][<span class="number">1</span>]].jz);</span><br><span class="line">                </span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span>(adj[i].<span class="built_in">size</span>()==<span class="number">1</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">if</span>(j&gt;=v[i].v+v[adj[i][<span class="number">0</span>]].v)dp[j]=<span class="built_in">max</span>(dp[j],dp[j-v[i].v-v[adj[i][<span class="number">0</span>]].v]+v[i].jz+v[adj[i][<span class="number">0</span>]].jz);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">    cout&lt;&lt;dp[m]&lt;&lt;<span class="string">&#x27;\n&#x27;</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

]]></content>
  </entry>
  <entry>
    <title>æ´›è°·å­—ç¬¦ä¸²é¢˜å•</title>
    <url>/2024/11/29/%E6%B4%9B%E8%B0%B7%E5%AD%97%E7%AC%A6%E4%B8%B2%E9%A2%98%E5%8D%95/</url>
    <content><![CDATA[<h1 id="æ´›è°·å­—ç¬¦ä¸²é¢˜å•"><a href="#æ´›è°·å­—ç¬¦ä¸²é¢˜å•" class="headerlink" title="æ´›è°·å­—ç¬¦ä¸²é¢˜å•"></a>æ´›è°·å­—ç¬¦ä¸²é¢˜å•</h1><h2 id="P3375-ã€æ¨¡æ¿ã€‘KMP"><a href="#P3375-ã€æ¨¡æ¿ã€‘KMP" class="headerlink" title="P3375 ã€æ¨¡æ¿ã€‘KMP"></a>P3375 ã€æ¨¡æ¿ã€‘KMP</h2><p><a href="https://www.luogu.com.cn/problem/P3375">https://www.luogu.com.cn/problem/P3375</a></p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">using</span> u32 = <span class="type">unsigned</span>;</span><br><span class="line"><span class="meta">#<span class="keyword">define</span> i128 __int128;</span></span><br><span class="line"><span class="keyword">using</span> ll = <span class="type">long</span> <span class="type">long</span>;</span><br><span class="line"><span class="comment">//#define int ll</span></span><br><span class="line"><span class="keyword">using</span> u64 = <span class="type">unsigned</span> <span class="type">long</span> <span class="type">long</span>;</span><br><span class="line"><span class="type">const</span> ll inf = <span class="number">1e9</span>;</span><br><span class="line"><span class="type">const</span> ll INF = <span class="number">1e18</span>;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N=<span class="number">1e6</span><span class="number">+10</span>;</span><br><span class="line"><span class="type">int</span> ne[N];</span><br><span class="line"><span class="function"><span class="type">signed</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    ios::<span class="built_in">sync_with_stdio</span>(<span class="literal">false</span>);</span><br><span class="line">    cin.<span class="built_in">tie</span>(<span class="literal">nullptr</span>);</span><br><span class="line">    string a,b;</span><br><span class="line">    cin&gt;&gt;a&gt;&gt;b;</span><br><span class="line">    <span class="type">int</span> n=a.<span class="built_in">size</span>(),m=b.<span class="built_in">size</span>();</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>,j=<span class="number">0</span>;i&lt;m;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">while</span>(j&amp;&amp;b[i]!=b[j])j=ne[j];</span><br><span class="line">        <span class="keyword">if</span>(b[i]==b[j])j++;</span><br><span class="line">        ne[i<span class="number">+1</span>]=j;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>,j=<span class="number">0</span>;i&lt;n;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">while</span>(j&amp;&amp;a[i]!=b[j])j=ne[j];</span><br><span class="line">        <span class="keyword">if</span>(a[i]==b[j])j++;</span><br><span class="line">        <span class="keyword">if</span>(j==m)&#123;</span><br><span class="line">            cout&lt;&lt;i-m<span class="number">+1</span><span class="number">+1</span>&lt;&lt;<span class="string">&#x27;\n&#x27;</span>;</span><br><span class="line">            j=ne[j];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=m;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        cout&lt;&lt;ne[i]&lt;&lt;<span class="string">&quot; \n&quot;</span>[i==m];</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="P4391-BOI2009-Radio-Transmission-æ— çº¿ä¼ è¾“"><a href="#P4391-BOI2009-Radio-Transmission-æ— çº¿ä¼ è¾“" class="headerlink" title="P4391 [BOI2009] Radio Transmission æ— çº¿ä¼ è¾“"></a>P4391 [BOI2009] Radio Transmission æ— çº¿ä¼ è¾“</h2><p><a href="https://www.luogu.com.cn/problem/P4391">https://www.luogu.com.cn/problem/P4391</a></p>
<p>!(<a href="https://cdn.jsdelivr.net/gh/kkonglb/image/v1y85ooc.png">https://cdn.jsdelivr.net/gh/kkonglb/image/v1y85ooc.png</a>)</p>
<p><img src="https://cdn.jsdelivr.net/gh/kkonglb/image/image-20241123115644504.png" alt="image-20241123115644504"></p>
<p>æ„Ÿè§‰è¿™ä¸ªä¾‹å­ååˆ†å¥½ç†è§£ï¼Œç”±é¢˜æ„å¾—è¯¥å­—ç¬¦ä¸²s1æ˜¯ç”±å¤šä¸ªs2æ‹¼æ¥è€Œæˆçš„ï¼Œè€Œè¿™å¯èƒ½æ˜¯mä¸ªå®Œæˆçš„s2æ‹¼æ¥è€Œæˆï¼Œä¹Ÿå¯èƒ½æœ€åå¤šå‡ºæ¥ä¸€å—ï¼Œè¿™ä¸ªä¾‹å­ä¸­æœ€åå¤šå‡ºæ¥ä¸¤ä¸ªå­—æ¯ï¼Œé‚£ä¹ˆå‰ç¼€å°±æ˜¯ä¸€ä¸ªå®Œæ•´çš„s2+caï¼Œåç¼€ä¹Ÿæ˜¯ä¸€ä¸ªå®Œæ•´çš„s2+caã€‚ç­”æ¡ˆå°±æ˜¯n-ne[n]</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">using</span> u32 = <span class="type">unsigned</span>;</span><br><span class="line"><span class="meta">#<span class="keyword">define</span> i128 __int128;</span></span><br><span class="line"><span class="keyword">using</span> ll = <span class="type">long</span> <span class="type">long</span>;</span><br><span class="line"><span class="comment">//#define int ll</span></span><br><span class="line"><span class="keyword">using</span> u64 = <span class="type">unsigned</span> <span class="type">long</span> <span class="type">long</span>;</span><br><span class="line"><span class="type">const</span> ll inf = <span class="number">1e9</span>;</span><br><span class="line"><span class="type">const</span> ll INF = <span class="number">1e18</span>;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N=<span class="number">1e6</span><span class="number">+10</span>;</span><br><span class="line"><span class="type">int</span> ne[N];</span><br><span class="line"><span class="function"><span class="type">signed</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    ios::<span class="built_in">sync_with_stdio</span>(<span class="literal">false</span>);</span><br><span class="line">    cin.<span class="built_in">tie</span>(<span class="literal">nullptr</span>);</span><br><span class="line">    <span class="type">int</span> n;</span><br><span class="line">    cin&gt;&gt;n;</span><br><span class="line">    string s;</span><br><span class="line">    cin&gt;&gt;s;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>,j=<span class="number">0</span>;i&lt;n;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">while</span>(j&amp;&amp;s[i]!=s[j])j=ne[j];</span><br><span class="line">        <span class="keyword">if</span>(s[i]==s[j])j++;</span><br><span class="line">        ne[i<span class="number">+1</span>]=j;</span><br><span class="line">    &#125;</span><br><span class="line">    cout&lt;&lt;n-ne[n]&lt;&lt;<span class="string">&#x27;\n&#x27;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="P1481-é­”æ—å¯†ç "><a href="#P1481-é­”æ—å¯†ç " class="headerlink" title="P1481 é­”æ—å¯†ç "></a>P1481 é­”æ—å¯†ç </h2><p><a href="https://www.luogu.com.cn/problem/P1481">https://www.luogu.com.cn/problem/P1481</a></p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">using</span> u32 = <span class="type">unsigned</span>;</span><br><span class="line"><span class="meta">#<span class="keyword">define</span> i128 __int128;</span></span><br><span class="line"><span class="keyword">using</span> ll = <span class="type">long</span> <span class="type">long</span>;</span><br><span class="line"><span class="comment">// #define int ll</span></span><br><span class="line"><span class="keyword">using</span> u64 = <span class="type">unsigned</span> <span class="type">long</span> <span class="type">long</span>;</span><br><span class="line"><span class="type">const</span> ll inf = <span class="number">1e9</span>;</span><br><span class="line"><span class="type">const</span> ll INF = <span class="number">1e18</span>;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">2e5</span> + <span class="number">10</span>;</span><br><span class="line"><span class="type">int</span> nxt[N][<span class="number">26</span>];</span><br><span class="line"><span class="type">int</span> cnt[N];</span><br><span class="line"><span class="type">int</span> dix;</span><br><span class="line"><span class="function"><span class="type">signed</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    ios::<span class="built_in">sync_with_stdio</span>(<span class="literal">false</span>);</span><br><span class="line">    cin.<span class="built_in">tie</span>(<span class="literal">nullptr</span>);</span><br><span class="line">    <span class="type">int</span> n;</span><br><span class="line">    cin &gt;&gt; n;</span><br><span class="line">    <span class="type">int</span> maxn = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        string s;</span><br><span class="line">        cin &gt;&gt; s;</span><br><span class="line">        <span class="type">int</span> p = <span class="number">0</span>;</span><br><span class="line">        <span class="type">int</span> jishu = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; s.<span class="built_in">size</span>(); i++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="type">int</span> shu = s[i] - <span class="string">&#x27;a&#x27;</span>;</span><br><span class="line">            <span class="keyword">if</span> (!nxt[p][shu])</span><br><span class="line">                nxt[p][shu] = ++dix;</span><br><span class="line">            p = nxt[p][shu];</span><br><span class="line">            <span class="keyword">if</span> (cnt[p])</span><br><span class="line">                jishu += cnt[p];</span><br><span class="line">        &#125;</span><br><span class="line">        cnt[p]++;</span><br><span class="line">        maxn = <span class="built_in">max</span>(maxn, jishu);</span><br><span class="line">    &#125;</span><br><span class="line">    cout &lt;&lt; maxn &lt;&lt; <span class="string">&#x27;\n&#x27;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="P2580-äºæ˜¯ä»–é”™è¯¯çš„ç‚¹åå¼€å§‹äº†"><a href="#P2580-äºæ˜¯ä»–é”™è¯¯çš„ç‚¹åå¼€å§‹äº†" class="headerlink" title="P2580 äºæ˜¯ä»–é”™è¯¯çš„ç‚¹åå¼€å§‹äº†"></a>P2580 äºæ˜¯ä»–é”™è¯¯çš„ç‚¹åå¼€å§‹äº†</h2><p><a href="https://www.luogu.com.cn/problem/P2580">https://www.luogu.com.cn/problem/P2580</a></p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">using</span> u32 = <span class="type">unsigned</span>;</span><br><span class="line"><span class="meta">#<span class="keyword">define</span> i128 __int128;</span></span><br><span class="line"><span class="keyword">using</span> ll = <span class="type">long</span> <span class="type">long</span>;</span><br><span class="line"><span class="meta">#<span class="keyword">define</span> int ll</span></span><br><span class="line"><span class="keyword">using</span> u64 = <span class="type">unsigned</span> <span class="type">long</span> <span class="type">long</span>;</span><br><span class="line"><span class="type">const</span> ll inf = <span class="number">1e9</span>;</span><br><span class="line"><span class="type">const</span> ll INF = <span class="number">1e18</span>;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N=<span class="number">5e5</span><span class="number">+10</span>;</span><br><span class="line"><span class="type">int</span> nxt[N][<span class="number">26</span>];</span><br><span class="line"><span class="type">int</span> cnt[N];</span><br><span class="line"><span class="type">int</span> dix;</span><br><span class="line"><span class="function"><span class="type">signed</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    ios::<span class="built_in">sync_with_stdio</span>(<span class="literal">false</span>);</span><br><span class="line">    cin.<span class="built_in">tie</span>(<span class="literal">nullptr</span>);</span><br><span class="line">    <span class="type">int</span> n;</span><br><span class="line">    cin&gt;&gt;n;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        string s;</span><br><span class="line">        cin&gt;&gt;s;</span><br><span class="line">        <span class="type">int</span> p=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;s.<span class="built_in">size</span>();i++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="type">int</span> shu=s[i]-<span class="string">&#x27;a&#x27;</span>;</span><br><span class="line">            <span class="keyword">if</span>(!nxt[p][shu])nxt[p][shu]=++dix;</span><br><span class="line">            p=nxt[p][shu];</span><br><span class="line">        &#125;</span><br><span class="line">        cnt[p]++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">int</span> m;</span><br><span class="line">    cin&gt;&gt;m;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=m;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        string s;</span><br><span class="line">        cin&gt;&gt;s;</span><br><span class="line">        <span class="type">int</span> p=<span class="number">0</span>;</span><br><span class="line">        <span class="type">int</span> ok=<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;s.<span class="built_in">size</span>();i++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="type">int</span> shu=s[i]-<span class="string">&#x27;a&#x27;</span>;</span><br><span class="line">            <span class="keyword">if</span>(!nxt[p][shu])</span><br><span class="line">            &#123;</span><br><span class="line">                cout&lt;&lt;<span class="string">&quot;WRONG\n&quot;</span>;</span><br><span class="line">                ok=<span class="number">0</span>;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            p=nxt[p][shu];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(!ok)<span class="keyword">continue</span>;</span><br><span class="line">        <span class="keyword">if</span>(cnt[p]==<span class="number">0</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            cout&lt;&lt;<span class="string">&quot;WRONG\n&quot;</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(cnt[p]==<span class="number">1</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            cout&lt;&lt;<span class="string">&quot;OK\n&quot;</span>;</span><br><span class="line">            cnt[p]++;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> </span><br><span class="line">        &#123;</span><br><span class="line">            cout&lt;&lt;<span class="string">&quot;REPEAT\n&quot;</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="P4551-æœ€é•¿å¼‚æˆ–è·¯å¾„"><a href="#P4551-æœ€é•¿å¼‚æˆ–è·¯å¾„" class="headerlink" title="P4551 æœ€é•¿å¼‚æˆ–è·¯å¾„"></a>P4551 æœ€é•¿å¼‚æˆ–è·¯å¾„</h2><p><a href="https://www.luogu.com.cn/problem/P4551">https://www.luogu.com.cn/problem/P4551</a></p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">using</span> u32 = <span class="type">unsigned</span>;</span><br><span class="line"><span class="meta">#<span class="keyword">define</span> i128 __int128;</span></span><br><span class="line"><span class="keyword">using</span> ll = <span class="type">long</span> <span class="type">long</span>;</span><br><span class="line"><span class="meta">#<span class="keyword">define</span> int ll</span></span><br><span class="line"><span class="keyword">using</span> u64 = <span class="type">unsigned</span> <span class="type">long</span> <span class="type">long</span>;</span><br><span class="line"><span class="type">const</span> ll inf = <span class="number">1e9</span>;</span><br><span class="line"><span class="type">const</span> ll INF = <span class="number">1e18</span>;</span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">edge</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> v,w;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N=<span class="number">1e5</span><span class="number">+10</span>;</span><br><span class="line"><span class="type">int</span> yh[N];</span><br><span class="line"><span class="type">int</span> nxt[<span class="number">10</span>*N][<span class="number">2</span>];</span><br><span class="line"><span class="type">int</span> dix;</span><br><span class="line"><span class="function"><span class="type">signed</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    ios::<span class="built_in">sync_with_stdio</span>(<span class="literal">false</span>);</span><br><span class="line">    cin.<span class="built_in">tie</span>(<span class="literal">nullptr</span>);</span><br><span class="line">    <span class="type">int</span> n;</span><br><span class="line">    cin&gt;&gt;n;</span><br><span class="line">    vector&lt;vector&lt;edge&gt;&gt;<span class="built_in">adj</span>(n<span class="number">+1</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">2</span>;i&lt;=n;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="type">int</span> u,v,w;</span><br><span class="line">        cin&gt;&gt;u&gt;&gt;v&gt;&gt;w;</span><br><span class="line">        adj[u].<span class="built_in">push_back</span>(&#123;v,w&#125;);</span><br><span class="line">        adj[v].<span class="built_in">push_back</span>(&#123;u,w&#125;);</span><br><span class="line">    &#125;    </span><br><span class="line">    <span class="keyword">auto</span> dfs=[&amp;](<span class="keyword">auto</span> self,<span class="type">int</span> u,<span class="type">int</span> fa)-&gt;<span class="type">void</span>&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">auto</span> [v,w]:adj[u])</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span>(v==fa)<span class="keyword">continue</span>;</span><br><span class="line">            yh[v]=yh[u]^w;</span><br><span class="line">            <span class="built_in">self</span>(self,v,u);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="built_in">dfs</span>(dfs,<span class="number">1</span>,<span class="number">0</span>);</span><br><span class="line">    <span class="keyword">auto</span> build=[&amp;](<span class="type">int</span> x)&#123;</span><br><span class="line">        <span class="type">int</span> p=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">30</span>;i&gt;=<span class="number">0</span>;i--)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="type">bool</span> ok=x&amp;(<span class="number">1</span>&lt;&lt;i);</span><br><span class="line">            <span class="keyword">if</span>(!nxt[p][ok])</span><br><span class="line">            &#123;</span><br><span class="line">                nxt[p][ok]=++dix;</span><br><span class="line">            &#125;</span><br><span class="line">            p=nxt[p][ok];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">build</span>(yh[i]);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">int</span> maxn=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">auto</span> query=[&amp;](<span class="type">int</span> x)-&gt;<span class="type">int</span>&#123;</span><br><span class="line">        <span class="type">int</span> p=<span class="number">0</span>;</span><br><span class="line">        <span class="type">int</span> ans=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">30</span>;i&gt;=<span class="number">0</span>;i--)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="type">bool</span> ok=x&amp;(<span class="number">1</span>&lt;&lt;i);</span><br><span class="line">            <span class="keyword">if</span>(nxt[p][!ok])&#123;</span><br><span class="line">                p=nxt[p][!ok];</span><br><span class="line">                ans+=(<span class="number">1</span>&lt;&lt;i);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span> p=nxt[p][ok];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> ans;</span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        maxn=<span class="built_in">max</span>(maxn,<span class="built_in">query</span>(yh[i]));</span><br><span class="line">    &#125;</span><br><span class="line">    cout&lt;&lt;maxn&lt;&lt;<span class="string">&#x27;\n&#x27;</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

]]></content>
  </entry>
  <entry>
    <title>çŠ¶æ€å‹ç¼©</title>
    <url>/2024/11/29/%E7%8A%B6%E6%80%81%E5%8E%8B%E7%BC%A9DP/</url>
    <content><![CDATA[<h1 id="çŠ¶æ€å‹ç¼©"><a href="#çŠ¶æ€å‹ç¼©" class="headerlink" title="çŠ¶æ€å‹ç¼©"></a>çŠ¶æ€å‹ç¼©</h1><h2 id="P1896-SCOI2005-äº’ä¸ä¾µçŠ¯"><a href="#P1896-SCOI2005-äº’ä¸ä¾µçŠ¯" class="headerlink" title="P1896 [SCOI2005] äº’ä¸ä¾µçŠ¯"></a>P1896 [SCOI2005] äº’ä¸ä¾µçŠ¯</h2><p><a href="https://www.luogu.com.cn/problem/P1896">https://www.luogu.com.cn/problem/P1896</a></p>
<p>è¿™ä¸ªçŠ¶æ€æšä¸¾éœ€è¦æ³¨æ„çš„æ˜¯æšä¸¾è¡Œä¼šç›´æ¥æšä¸¾åˆ°n+1è¡Œï¼Œå› ä¸ºn+1è¡Œçš„<code>dp[n+1][k][0]</code>èƒ½å’Œä¸Šä¸€å±‚æ‰€æœ‰ç¬¦åˆæ¡ä»¶çš„<code>dp[n][k][a]</code>å…¼å®¹ï¼Œæ‰€ä»¥å°±ç›¸å½“äºç›´æ¥æŠŠä¸Šä¸€å±‚çš„ç»“æœç›´æ¥é›†æˆèµ·æ¥äº†ï¼Œä¸è¿‡ä¸è¿™æ ·åšçš„è¯ç›´æ¥å¯¹æœ€åä¸€å±‚çš„æ‰€æœ‰å¯èƒ½æƒ…å†µæ±‚å’Œä¹Ÿæ˜¯å¯ä»¥çš„ï¼Œå¦‚æœæƒ³è¦å°è¯•è¿™ä¸€ç§æ–¹æ³•çš„è¯å°±çœ‹ç¬¬äºŒæ®µä»£ç ï¼ˆè¿™ä¸ªè¡Œéå†åªåˆ°ç¬¬nè¡Œï¼‰</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">using</span> u32 = <span class="type">unsigned</span>;</span><br><span class="line"><span class="keyword">using</span> ll = <span class="type">long</span> <span class="type">long</span>;</span><br><span class="line"><span class="keyword">using</span> u64 = <span class="type">unsigned</span> <span class="type">long</span> <span class="type">long</span>;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> inf = <span class="number">2147483647</span>;</span><br><span class="line"><span class="type">const</span> ll INF = <span class="number">1e18</span>;</span><br><span class="line">ll dp[<span class="number">12</span>][<span class="number">144</span>][<span class="number">1</span>&lt;&lt;<span class="number">12</span>];</span><br><span class="line"><span class="comment">//f[i,j,a]è¡¨ç¤ºå‰iè¡Œå·²æ”¾äº†jä¸ªå›½ç‹ï¼Œç¬¬iè¡Œçš„ç¬¬aä¸ªçŠ¶æ€æ—¶çš„æ–¹æ¡ˆæ•° </span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    ios::<span class="built_in">sync_with_stdio</span>(<span class="literal">false</span>);</span><br><span class="line">    cin.<span class="built_in">tie</span>(<span class="literal">nullptr</span>);</span><br><span class="line">    <span class="type">int</span> n,k;</span><br><span class="line">    cin&gt;&gt;n&gt;&gt;k;</span><br><span class="line">    vector&lt;<span class="type">int</span>&gt;<span class="built_in">s</span>(<span class="number">1</span>&lt;&lt;n);</span><br><span class="line">    vector&lt;<span class="type">int</span>&gt;<span class="built_in">num</span>(<span class="number">1</span>&lt;&lt;n);</span><br><span class="line">    <span class="type">int</span> cnt=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;(<span class="number">1</span>&lt;&lt;n);i++)<span class="comment">//æšä¸¾ä¸€è¡Œçš„æ‰€æœ‰çŠ¶æ€</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>(!(i&amp;i&gt;&gt;<span class="number">1</span>))<span class="comment">//å¦‚æœä¸å­˜åœ¨ç›¸é‚»çš„1</span></span><br><span class="line">        &#123;</span><br><span class="line">            s[cnt++]=i;<span class="comment">//ä¸€è¡Œçš„åˆæ³•çŠ¶æ€é›†ï¼Œä¾‹101</span></span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> j=<span class="number">0</span>;j&lt;n;j++)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">if</span>(i&gt;&gt;j&amp;<span class="number">1</span>)</span><br><span class="line">                &#123;</span><br><span class="line">                    num[i]++;<span class="comment">//æ¯ä¸ªåˆæ³•çŠ¶æ€åŒ…å«çš„å›½ç‹æ•°</span></span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;    </span><br><span class="line">    dp[<span class="number">0</span>][<span class="number">0</span>][<span class="number">0</span>]=<span class="number">1</span>;<span class="comment">// è¾¹ç•Œ</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n<span class="number">+1</span>;i++)<span class="comment">// æšä¸¾è¡Œ</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j=<span class="number">0</span>;j&lt;=k;j++)<span class="comment">// æšä¸¾å›½ç‹æ•°</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> a=<span class="number">0</span>;a&lt;cnt;a++)<span class="comment">// æšä¸¾ç¬¬iè¡Œçš„åˆæ³•çŠ¶æ€</span></span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">for</span>(<span class="type">int</span> b=<span class="number">0</span>;b&lt;cnt;b++)<span class="comment">// æšä¸¾ç¬¬i-1è¡Œçš„åˆæ³•çŠ¶æ€</span></span><br><span class="line">                &#123;</span><br><span class="line">                    <span class="type">int</span> c=num[s[a]];<span class="comment">// ç¬¬iè¡Œç¬¬açŠ¶æ€çš„å›½ç‹æ•°</span></span><br><span class="line">                    <span class="keyword">if</span>(j&lt;c||s[a]&amp;s[b]||s[a]&amp;(s[b]&gt;&gt;<span class="number">1</span>)||s[a]&amp;(s[b]&lt;&lt;<span class="number">1</span>))<span class="keyword">continue</span>;</span><br><span class="line">                    dp[i][j][a]+=dp[i<span class="number">-1</span>][j-c][b];<span class="comment">//è¡Œé—´è½¬ç§»</span></span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    cout&lt;&lt;dp[n<span class="number">+1</span>][k][<span class="number">0</span>]&lt;&lt;<span class="string">&#x27;\n&#x27;</span>;<span class="comment">//ç¬¬n+1è¡Œä¸æ”¾å›½ç‹çš„æ–¹æ¡ˆæ•°</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line">ll sum=<span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;cnt;i++)</span><br><span class="line">&#123;</span><br><span class="line">    sum+=dp[n][k][i];</span><br><span class="line">&#125;</span><br><span class="line">cout&lt;&lt;sum&lt;&lt;<span class="string">&#x27;\n&#x27;</span>;	</span><br></pre></td></tr></table></figure>



<h2 id="P1879-USACO06NOV-Corn-Fields-G"><a href="#P1879-USACO06NOV-Corn-Fields-G" class="headerlink" title="P1879 [USACO06NOV] Corn Fields G"></a>P1879 [USACO06NOV] Corn Fields G</h2><p><a href="https://www.luogu.com.cn/problem/P1879">https://www.luogu.com.cn/problem/P1879</a></p>
<p>ç‰ç±³ç”°è¿™ä¸€é“é¢˜æ•´ä½“ä¸Šæ¥è¯´æ˜¯æ¯”å°å›½ç‹ç®€å•çš„ï¼Œä½†æ˜¯å¤šäº†ä¸€ç‚¹éœ€è¦å¤„ç†è¡Œå†…åœŸåœ°æ˜¯å¦è‚¥æ²ƒè¿™ä¸€ç§æƒ…å†µ</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">using</span> u32 = <span class="type">unsigned</span>;</span><br><span class="line"><span class="meta">#<span class="keyword">define</span> i128 __int128;</span></span><br><span class="line"><span class="keyword">using</span> ll = <span class="type">long</span> <span class="type">long</span>;</span><br><span class="line"><span class="comment">//#define int ll</span></span><br><span class="line"><span class="keyword">using</span> u64 = <span class="type">unsigned</span> <span class="type">long</span> <span class="type">long</span>;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> inf = <span class="number">2147483647</span>;</span><br><span class="line"><span class="type">const</span> ll INF = <span class="number">1e18</span>;</span><br><span class="line"><span class="type">int</span> g[<span class="number">14</span>];<span class="comment">// å„è¡Œçš„çŠ¶æ€å€¼</span></span><br><span class="line"><span class="type">int</span> s[<span class="number">1</span>&lt;&lt;<span class="number">14</span>];<span class="comment">//è¿™ä¸ªé€šè¿‡cntå­˜è¡Œå†…å…¼å®¹çš„çŠ¶æ€</span></span><br><span class="line"><span class="type">int</span> dp[<span class="number">14</span>][<span class="number">1</span>&lt;&lt;<span class="number">14</span>];</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> mod=<span class="number">1e8</span>;</span><br><span class="line"><span class="function"><span class="type">signed</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    ios::<span class="built_in">sync_with_stdio</span>(<span class="literal">false</span>);</span><br><span class="line">    cin.<span class="built_in">tie</span>(<span class="literal">nullptr</span>);</span><br><span class="line">    <span class="type">int</span> n,m;</span><br><span class="line">    cin&gt;&gt;n&gt;&gt;m;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++)<span class="comment">// å¤„ç†å„è¡Œçš„è½¬æ€</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j=<span class="number">1</span>;j&lt;=m;j++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="type">int</span> x;</span><br><span class="line">            cin&gt;&gt;x;</span><br><span class="line">            g[i]=(g[i]&lt;&lt;<span class="number">1</span>)+x;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">int</span> cnt=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;(<span class="number">1</span>&lt;&lt;m);i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>(!(i&amp;(i&gt;&gt;<span class="number">1</span>)))</span><br><span class="line">        &#123;</span><br><span class="line">            s[cnt++]=i;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    dp[<span class="number">0</span>][<span class="number">0</span>]=<span class="number">1</span>;<span class="comment">// è¿™ä¸€ç§æ±‚æ–¹æ¡ˆæ•°çš„ä¸€èˆ¬éƒ½æ˜¯ç»™ä¸€ä¸ª1ï¼Œç„¶åé€æ¸ä¼ é€’çŠ¶æ€</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n<span class="number">+1</span>;i++)<span class="comment">// æ³¨æ„å¿…é¡»è¦åˆ°n+1è¡Œ</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> a=<span class="number">0</span>;a&lt;cnt;a++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> b=<span class="number">0</span>;b&lt;cnt;b++)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">if</span>((s[a]&amp;g[i])!=s[a]||s[a]&amp;s[b])<span class="keyword">continue</span>;</span><br><span class="line">                dp[i][a]=(dp[i][a]+dp[i<span class="number">-1</span>][b])%mod;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    cout&lt;&lt;dp[n<span class="number">+1</span>][<span class="number">0</span>]&lt;&lt;<span class="string">&#x27;\n&#x27;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="P2704-NOI2001-ç‚®å…µé˜µåœ°"><a href="#P2704-NOI2001-ç‚®å…µé˜µåœ°" class="headerlink" title="P2704 [NOI2001] ç‚®å…µé˜µåœ°"></a>P2704 [NOI2001] ç‚®å…µé˜µåœ°</h2><p><a href="https://www.luogu.com.cn/problem/P2704">https://www.luogu.com.cn/problem/P2704</a></p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="P10975-Mondriaanâ€™s-Dream-è’™å¾·é‡Œå®‰çš„æ¢¦æƒ³"><a href="#P10975-Mondriaanâ€™s-Dream-è’™å¾·é‡Œå®‰çš„æ¢¦æƒ³" class="headerlink" title="P10975 Mondriaanâ€™s Dream  (è’™å¾·é‡Œå®‰çš„æ¢¦æƒ³)"></a>P10975 Mondriaanâ€™s Dream  (è’™å¾·é‡Œå®‰çš„æ¢¦æƒ³)</h2><p><a href="https://www.luogu.com.cn/problem/P10975">https://www.luogu.com.cn/problem/P10975</a></p>
<p>å¦‚æœè¯¥ä½ç½®æ”¾çš„æ˜¯ä¸€è¡Œä¸¤åˆ—çš„çŸ©å½¢ï¼Œé‚£ä¹ˆç¬¬ä¸€ä¸ªä½ç½®æ˜¯1ï¼Œç¬¬äºŒä¸ªä½ç½®æ˜¯0ã€‚å¦‚æœæ”¾çš„æ˜¯ä¸¤è¡Œä¸€åˆ—çš„çŸ©å½¢ï¼Œé‚£ä¹ˆä¸¤ä¸ªä½ç½®éƒ½æ˜¯0ã€‚ç„¶åå¯¹æ¯ä¸€åˆ—çš„çŠ¶æ€è¿›è¡ŒçŠ¶æ€å‹ç¼©ã€‚åˆ¤æ–­ç›¸é‚»çš„ä¸¤åˆ—æ˜¯å¦å…¼å®¹ï¼šä¸¤åˆ—è¿›è¡Œ|ï¼ˆæˆ–è¿ç®—ï¼‰ï¼Œå¦‚æœæŸä¸€ä½æ˜¯0ï¼Œè¯´æ˜è¿™ä¸¤åˆ—ä¹‹ä¸€ä½ç½®éƒ½æ˜¯0ï¼Œéƒ½ä¸èƒ½æ˜¯æ¨ªæ”¾çŠ¶æ€ä¸‹çš„ç¬¬ä¸€ä¸ªï¼Œä¹‹åå¦‚æœå­˜åœ¨è¿ç»­0çš„ä¸ªæ•°ä¸ºå¥‡æ•°ï¼Œç«–æ”¾ä¹Ÿæ”¾ä¸ä¸‹ï¼Œæ‰€ä»¥ä¸å…¼å®¹ï¼ŒåŒæ—¶å¦‚æœä¸¤åˆ—æŸä¸€ä½ç½®åŒæ—¶ä¸º1ï¼Œä¹Ÿä¸èƒ½å…¼å®¹ã€‚å…ˆåˆ›å»ºä¸€ä¸ªvisæ•°ç»„å¤„ç†ä¸¤è¡Œ|ä¹‹åçš„ç»“æœæ˜¯å¦å…¼å®¹ï¼Œç„¶åå†åˆ¤æ–­æ˜¯å¦æŸä¸€ä½åŒæ—¶ä¸º1ã€‚æœ€åä¸€åˆ—ä¸€åˆ—ä¼ é€’å…¼å®¹çš„å€¼ï¼Œåˆ°æœ€åä¸€åˆ—åªèƒ½å…¨éƒ¨ä¸º0ï¼Œä¹Ÿå°±æ˜¯çŠ¶æ€0ã€‚</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">using</span> u32 = <span class="type">unsigned</span>;</span><br><span class="line"><span class="meta">#<span class="keyword">define</span> i128 __int128;</span></span><br><span class="line"><span class="keyword">using</span> ll = <span class="type">long</span> <span class="type">long</span>;</span><br><span class="line"><span class="comment">//#define int ll</span></span><br><span class="line"><span class="keyword">using</span> u64 = <span class="type">unsigned</span> <span class="type">long</span> <span class="type">long</span>;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> inf = <span class="number">2147483647</span>;</span><br><span class="line"><span class="type">const</span> ll INF = <span class="number">1e18</span>;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N=<span class="number">12</span>,M=<span class="number">1</span>&lt;&lt;N;</span><br><span class="line"><span class="type">int</span> vis[M];</span><br><span class="line"><span class="function"><span class="type">signed</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    ios::<span class="built_in">sync_with_stdio</span>(<span class="literal">false</span>);</span><br><span class="line">    cin.<span class="built_in">tie</span>(<span class="literal">nullptr</span>);</span><br><span class="line">    <span class="type">int</span> n,m;</span><br><span class="line">    <span class="keyword">while</span>(cin&gt;&gt;n&gt;&gt;m,n||m)</span><br><span class="line">    &#123;</span><br><span class="line">        vector&lt;vector&lt;ll&gt;&gt;<span class="built_in">dp</span>(m<span class="number">+1</span>,<span class="built_in">vector</span>&lt;ll&gt;(<span class="number">1</span>&lt;&lt;n<span class="number">+1</span>));</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;(<span class="number">1</span>&lt;&lt;n);i++)<span class="comment">// å¤„ç†vis[i],åˆ¤æ–­ä¸¤åˆ—æ˜¯å¦å…¼å®¹,å¦‚æœä¸¤åˆ—|ä¹‹åçš„å€¼vis[i]ä¸º1,é‚£ä¹ˆå°±è¯´æ˜å…¼å®¹. </span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="type">int</span> cnt=<span class="number">0</span>;</span><br><span class="line">            vis[i]=<span class="literal">true</span>;</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> j=<span class="number">0</span>;j&lt;n;j++)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">if</span>(i&gt;&gt;j&amp;<span class="number">1</span>)</span><br><span class="line">                &#123;</span><br><span class="line">                    <span class="keyword">if</span>(cnt&amp;<span class="number">1</span>)&#123;vis[i]=<span class="literal">false</span>;<span class="keyword">break</span>;&#125;<span class="comment">// è¿™é‡Œä¸ç”¨é¢å¤–å¤„ç†cntæ˜¯å¦é‡ç½®ä¸º0,å› ä¸ºå¤„ç†çš„äº‹cntçš„å¥‡å¶æ€§,å¦‚æœæ˜¯å¶æ•°ç»§ç»­å°±è¡Œäº†,å¦‚æœæ˜¯å¥‡æ•°å°±é€€å‡º</span></span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">else</span> cnt++;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span>(cnt&amp;<span class="number">1</span>)vis[i]=<span class="literal">false</span>;<span class="comment">//å¤„ç†é«˜ä½0çš„ä¸ªæ•° </span></span><br><span class="line">        &#125;</span><br><span class="line">        dp[<span class="number">0</span>][<span class="number">0</span>]=<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=m;i++)<span class="comment">// éå†åˆ—</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> j=<span class="number">0</span>;j&lt;(<span class="number">1</span>&lt;&lt;n);j++)<span class="comment">//çŠ¶æ€ï¼šæšä¸¾ç¬¬iåˆ—çš„çŠ¶æ€</span></span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">for</span>(<span class="type">int</span> k=<span class="number">0</span>;k&lt;(<span class="number">1</span>&lt;&lt;n);k++)<span class="comment">//çŠ¶æ€ï¼šæšä¸¾ç¬¬i-1åˆ—çš„çŠ¶æ€</span></span><br><span class="line">                &#123;</span><br><span class="line">                    <span class="keyword">if</span>((j&amp;k)==<span class="number">0</span>&amp;&amp;vis[j|k])<span class="comment">//ä¸¤åˆ—çŠ¶æ€å…¼å®¹ï¼šä¸å‡ºç°é‡å çš„1ï¼Œä¸å‡ºç°è¿ç»­çš„å¥‡æ•°ä¸ª0 </span></span><br><span class="line">                    &#123;</span><br><span class="line">                        dp[i][j]+=dp[i<span class="number">-1</span>][k];</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        cout&lt;&lt;dp[m][<span class="number">0</span>]&lt;&lt;<span class="string">&#x27;\n&#x27;</span>;<span class="comment">//ç¬¬måˆ—ä¸æ¨ªæ”¾å³ç­”æ¡ˆ </span></span><br><span class="line">    &#125;    </span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

]]></content>
  </entry>
  <entry>
    <title>èƒŒåŒ…DP</title>
    <url>/2024/11/29/%E8%83%8C%E5%8C%85DP/</url>
    <content><![CDATA[<h1 id="èƒŒåŒ…DP"><a href="#èƒŒåŒ…DP" class="headerlink" title="èƒŒåŒ…DP"></a>èƒŒåŒ…DP</h1><h2 id="0-1-èƒŒåŒ…"><a href="#0-1-èƒŒåŒ…" class="headerlink" title="0-1 èƒŒåŒ…"></a>0-1 èƒŒåŒ…</h2><h3 id="P2871-USACO07DEC-Charm-Bracelet-S"><a href="#P2871-USACO07DEC-Charm-Bracelet-S" class="headerlink" title="P2871 [USACO07DEC] Charm Bracelet S"></a>P2871 [USACO07DEC] Charm Bracelet S</h3><p><a href="https://www.luogu.com.cn/problem/P2871">https://www.luogu.com.cn/problem/P2871</a></p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="comment">// è¿™ä¸€ç§æ˜¯01èƒŒåŒ…çš„æœ´ç´ å†™æ³•</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">using</span> u32 = <span class="type">unsigned</span>;</span><br><span class="line"><span class="meta">#<span class="keyword">define</span> i128 __int128;</span></span><br><span class="line"><span class="keyword">using</span> ll = <span class="type">long</span> <span class="type">long</span>;</span><br><span class="line"><span class="comment">//#define int ll</span></span><br><span class="line"><span class="keyword">using</span> u64 = <span class="type">unsigned</span> <span class="type">long</span> <span class="type">long</span>;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> inf = <span class="number">2147483647</span>;</span><br><span class="line"><span class="type">const</span> ll INF = <span class="number">1e18</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">signed</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    ios::<span class="built_in">sync_with_stdio</span>(<span class="literal">false</span>);</span><br><span class="line">    cin.<span class="built_in">tie</span>(<span class="literal">nullptr</span>);</span><br><span class="line">    <span class="type">int</span> n,m;</span><br><span class="line">    cin&gt;&gt;n&gt;&gt;m;</span><br><span class="line">    vector&lt;vector&lt;<span class="type">int</span>&gt;&gt;<span class="built_in">dp</span>(n<span class="number">+1</span>,<span class="built_in">vector</span>&lt;<span class="type">int</span>&gt;(m<span class="number">+1</span>));</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="type">int</span> v,w;</span><br><span class="line">        cin&gt;&gt;v&gt;&gt;w;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j=<span class="number">1</span>;j&lt;=m;j++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span>(j&gt;=v)dp[i][j]=<span class="built_in">max</span>(dp[i<span class="number">-1</span>][j],dp[i<span class="number">-1</span>][j-v]+w);</span><br><span class="line">            <span class="keyword">else</span> dp[i][j]=dp[i<span class="number">-1</span>][j];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;    </span><br><span class="line">    cout&lt;&lt;dp[n][m]&lt;&lt;<span class="string">&#x27;\n&#x27;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="comment">// è¿™ä¸€ç§æ˜¯01èƒŒåŒ…çš„æ»šåŠ¨æ•°ç»„å†™æ³•</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">using</span> u32 = <span class="type">unsigned</span>;</span><br><span class="line"><span class="meta">#<span class="keyword">define</span> i128 __int128;</span></span><br><span class="line"><span class="keyword">using</span> ll = <span class="type">long</span> <span class="type">long</span>;</span><br><span class="line"><span class="comment">//#define int ll</span></span><br><span class="line"><span class="keyword">using</span> u64 = <span class="type">unsigned</span> <span class="type">long</span> <span class="type">long</span>;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> inf = <span class="number">2147483647</span>;</span><br><span class="line"><span class="type">const</span> ll INF = <span class="number">1e18</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">signed</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    ios::<span class="built_in">sync_with_stdio</span>(<span class="literal">false</span>);</span><br><span class="line">    cin.<span class="built_in">tie</span>(<span class="literal">nullptr</span>);</span><br><span class="line">    <span class="type">int</span> n,m;</span><br><span class="line">    cin&gt;&gt;n&gt;&gt;m;</span><br><span class="line">    vector&lt;<span class="type">int</span>&gt;<span class="built_in">dp</span>(m<span class="number">+1</span>);</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="type">int</span> w,d;</span><br><span class="line">        cin&gt;&gt;w&gt;&gt;d;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j=m;j&gt;=w;j--)</span><br><span class="line">        &#123;</span><br><span class="line">            dp[j]=<span class="built_in">max</span>(dp[j],dp[j-w]+d);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;    </span><br><span class="line">    cout&lt;&lt;dp[m]&lt;&lt;<span class="string">&#x27;\n&#x27;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="å®Œå…¨èƒŒåŒ…"><a href="#å®Œå…¨èƒŒåŒ…" class="headerlink" title="å®Œå…¨èƒŒåŒ…"></a>å®Œå…¨èƒŒåŒ…</h2><h3 id="P1616-ç–¯ç‹‚çš„é‡‡è¯"><a href="#P1616-ç–¯ç‹‚çš„é‡‡è¯" class="headerlink" title="P1616 ç–¯ç‹‚çš„é‡‡è¯"></a>P1616 ç–¯ç‹‚çš„é‡‡è¯</h3><p><a href="https://www.luogu.com.cn/problem/P1616">https://www.luogu.com.cn/problem/P1616</a></p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="comment">// å®Œå…¨èƒŒåŒ…æœ´ç´ åšæ³•</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">using</span> u32 = <span class="type">unsigned</span>;</span><br><span class="line"><span class="meta">#<span class="keyword">define</span> i128 __int128;</span></span><br><span class="line"><span class="keyword">using</span> ll = <span class="type">long</span> <span class="type">long</span>;</span><br><span class="line"><span class="comment">//#define int ll</span></span><br><span class="line"><span class="keyword">using</span> u64 = <span class="type">unsigned</span> <span class="type">long</span> <span class="type">long</span>;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> inf = <span class="number">2147483647</span>;</span><br><span class="line"><span class="type">const</span> ll INF = <span class="number">1e18</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">signed</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    ios::<span class="built_in">sync_with_stdio</span>(<span class="literal">false</span>);</span><br><span class="line">    cin.<span class="built_in">tie</span>(<span class="literal">nullptr</span>);</span><br><span class="line">    <span class="type">int</span> m,n;</span><br><span class="line">    cin&gt;&gt;m&gt;&gt;n;</span><br><span class="line">    vector&lt;vector&lt;ll&gt;&gt;<span class="built_in">dp</span>(n<span class="number">+1</span>,<span class="built_in">vector</span>&lt;ll&gt;(m<span class="number">+1</span>));</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="type">int</span> v,w;</span><br><span class="line">        cin&gt;&gt;v&gt;&gt;w;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j=<span class="number">1</span>;j&lt;=m;j++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span>(j&gt;=v)dp[i][j]=<span class="built_in">max</span>(dp[i<span class="number">-1</span>][j],dp[i][j-v]+w);</span><br><span class="line">            <span class="keyword">else</span> dp[i][j]=dp[i<span class="number">-1</span>][j];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    cout&lt;&lt;dp[n][m]&lt;&lt;<span class="string">&#x27;\n&#x27;</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="comment">// å®Œå…¨èƒŒåŒ…æ»šåŠ¨æ•°ç»„åšæ³•</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">using</span> u32 = <span class="type">unsigned</span>;</span><br><span class="line"><span class="meta">#<span class="keyword">define</span> i128 __int128;</span></span><br><span class="line"><span class="keyword">using</span> ll = <span class="type">long</span> <span class="type">long</span>;</span><br><span class="line"><span class="comment">//#define int ll</span></span><br><span class="line"><span class="keyword">using</span> u64 = <span class="type">unsigned</span> <span class="type">long</span> <span class="type">long</span>;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> inf = <span class="number">2147483647</span>;</span><br><span class="line"><span class="type">const</span> ll INF = <span class="number">1e18</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">signed</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    ios::<span class="built_in">sync_with_stdio</span>(<span class="literal">false</span>);</span><br><span class="line">    cin.<span class="built_in">tie</span>(<span class="literal">nullptr</span>);</span><br><span class="line">    <span class="type">int</span> m,n;</span><br><span class="line">    cin&gt;&gt;m&gt;&gt;n;</span><br><span class="line">    vector&lt;ll&gt;<span class="built_in">dp</span>(m<span class="number">+1</span>);</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="type">int</span> a,b;</span><br><span class="line">        cin&gt;&gt;a&gt;&gt;b;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j=a;j&lt;=m;j++)dp[j]=<span class="built_in">max</span>(dp[j],dp[j-a]+b);</span><br><span class="line">    &#125;    </span><br><span class="line">    cout&lt;&lt;dp[m]&lt;&lt;<span class="string">&#x27;\n&#x27;</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="å¤šé‡èƒŒåŒ…"><a href="#å¤šé‡èƒŒåŒ…" class="headerlink" title="å¤šé‡èƒŒåŒ…"></a>å¤šé‡èƒŒåŒ…</h2><h3 id="P1776-å®ç‰©ç­›é€‰"><a href="#P1776-å®ç‰©ç­›é€‰" class="headerlink" title="P1776 å®ç‰©ç­›é€‰"></a>P1776 å®ç‰©ç­›é€‰</h3><p><a href="https://www.luogu.com.cn/problem/P1776">https://www.luogu.com.cn/problem/P1776</a></p>
<p><del>è¿™ä¸€é¢˜å¾ˆå‚»é¸Ÿ</del>ï¼Œä»–å…ˆç»™çš„ç‰©å“çš„ä»·å€¼ï¼Œå†ç»™çš„ç‰©å“çš„é‡é‡ï¼Œæ‰€ä»¥è¦cin&gt;&gt;w&gt;&gt;v&gt;&gt;s;</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="comment">// å¤šé‡èƒŒåŒ…çš„æœ´ç´ ç®—æ³•ï¼Œä½†æ˜¯ä¼šTLE</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">using</span> u32 = <span class="type">unsigned</span>;</span><br><span class="line"><span class="meta">#<span class="keyword">define</span> i128 __int128;</span></span><br><span class="line"><span class="keyword">using</span> ll = <span class="type">long</span> <span class="type">long</span>;</span><br><span class="line"><span class="comment">//#define int ll</span></span><br><span class="line"><span class="keyword">using</span> u64 = <span class="type">unsigned</span> <span class="type">long</span> <span class="type">long</span>;</span><br><span class="line"><span class="type">const</span> ll inf = <span class="number">2147483647</span>;</span><br><span class="line"><span class="type">const</span> ll INF = <span class="number">1e18</span>;</span><br><span class="line"><span class="function"><span class="type">signed</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    ios::<span class="built_in">sync_with_stdio</span>(<span class="literal">false</span>);</span><br><span class="line">    cin.<span class="built_in">tie</span>(<span class="literal">nullptr</span>);</span><br><span class="line">    <span class="type">int</span> n,m;</span><br><span class="line">    cin&gt;&gt;n&gt;&gt;m;    </span><br><span class="line">    vector&lt;ll&gt;<span class="built_in">dp</span>(m<span class="number">+1</span>);</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="type">int</span> w,v,g;</span><br><span class="line">        cin&gt;&gt;w&gt;&gt;v&gt;&gt;g;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j=m;j&gt;=v;j--)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> k=<span class="number">1</span>;k&lt;=g;k++)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">if</span>(j&gt;=k*v)dp[j]=<span class="built_in">max</span>(dp[j],dp[j-k*v]+k*w);</span><br><span class="line">                <span class="keyword">else</span> <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    cout&lt;&lt;dp[m]&lt;&lt;<span class="string">&#x27;\n&#x27;</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="comment">// å¤šé‡èƒŒåŒ…çš„äºŒè¿›åˆ¶ä¼˜åŒ–</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">using</span> u32 = <span class="type">unsigned</span>;</span><br><span class="line"><span class="meta">#<span class="keyword">define</span> i128 __int128;</span></span><br><span class="line"><span class="keyword">using</span> ll = <span class="type">long</span> <span class="type">long</span>;</span><br><span class="line"><span class="comment">//#define int ll</span></span><br><span class="line"><span class="keyword">using</span> u64 = <span class="type">unsigned</span> <span class="type">long</span> <span class="type">long</span>;</span><br><span class="line"><span class="type">const</span> ll inf = <span class="number">2147483647</span>;</span><br><span class="line"><span class="type">const</span> ll INF = <span class="number">1e18</span>;</span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">node</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> v,w;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="type">signed</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    ios::<span class="built_in">sync_with_stdio</span>(<span class="literal">false</span>);</span><br><span class="line">    cin.<span class="built_in">tie</span>(<span class="literal">nullptr</span>);</span><br><span class="line">    <span class="type">int</span> n,m;</span><br><span class="line">    cin&gt;&gt;n&gt;&gt;m;</span><br><span class="line">    vector&lt;ll&gt;<span class="built_in">dp</span>(m<span class="number">+1</span>);</span><br><span class="line">    vector&lt;node&gt;goods;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="type">int</span> w,v,s;</span><br><span class="line">        cin&gt;&gt;w&gt;&gt;v&gt;&gt;s;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j=<span class="number">1</span>;j&lt;=s;j&lt;&lt;=<span class="number">1</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            s-=j;</span><br><span class="line">            goods.<span class="built_in">push_back</span>(&#123;j*v,j*w&#125;);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(s)goods.<span class="built_in">push_back</span>(&#123;s*v,s*w&#125;);</span><br><span class="line">    &#125;    </span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">auto</span> node:goods)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j=m;j&gt;=node.v;j--)</span><br><span class="line">        &#123;</span><br><span class="line">            dp[j]=<span class="built_in">max</span>(dp[j],dp[j-node.v]+node.w);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    cout&lt;&lt;dp[m]&lt;&lt;<span class="string">&#x27;\n&#x27;</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="æ··åˆèƒŒåŒ…"><a href="#æ··åˆèƒŒåŒ…" class="headerlink" title="æ··åˆèƒŒåŒ…"></a>æ··åˆèƒŒåŒ…</h2><p>æ··åˆèƒŒåŒ…å°±æ˜¯æŠŠ01èƒŒåŒ…ï¼Œå®Œå…¨èƒŒåŒ…ï¼Œå¤šé‡èƒŒåŒ…åˆåœ¨ä¸€èµ·äº†ï¼Œå¦‚æœå¯¹å‰é¢ç†è§£é€å½»çš„è¯è¿™ä¸ªåº”è¯¥ä¹Ÿæ²¡æœ‰ä»€ä¹ˆé—®é¢˜ã€‚</p>
<p>å¦‚æœæ˜¯ç”¨äºŒç»´DPæ•°ç»„é€’æ¨çš„è¯ï¼Œ01èƒŒåŒ…æ˜¯ä»å·¦ä¸Šæ–¹é€’æ¨è€Œæ¥ï¼Œå®Œå…¨èƒŒåŒ…æ˜¯ä»åŒä¸€å±‚çš„å·¦è¾¹é€’æ¨è€Œæ¥ï¼Œè€Œå¤šé‡èƒŒåŒ…åˆ™æ˜¯ä¸€ç§ç‰¹æ®Šçš„01èƒŒåŒ…ï¼Œç”±å¤šä¸ªç¬¦åˆæ¡ä»¶çš„å·¦ä¸Šæ–¹é€’æ¨è€Œæ¥ï¼Œå¤šäº†ä¸€ä¸ªå¾ªç¯éå†ä¸ªæ•°è€Œå·²</p>
<h3 id="P1833-æ¨±èŠ±"><a href="#P1833-æ¨±èŠ±" class="headerlink" title="P1833 æ¨±èŠ±"></a>P1833 æ¨±èŠ±</h3><p><a href="https://www.luogu.com.cn/problem/P1833">https://www.luogu.com.cn/problem/P1833</a></p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">using</span> u32 = <span class="type">unsigned</span>;</span><br><span class="line"><span class="meta">#<span class="keyword">define</span> i128 __int128;</span></span><br><span class="line"><span class="keyword">using</span> ll = <span class="type">long</span> <span class="type">long</span>;</span><br><span class="line"><span class="comment">//#define int ll</span></span><br><span class="line"><span class="keyword">using</span> u64 = <span class="type">unsigned</span> <span class="type">long</span> <span class="type">long</span>;</span><br><span class="line"><span class="type">const</span> ll inf = <span class="number">2147483647</span>;</span><br><span class="line"><span class="type">const</span> ll INF = <span class="number">1e18</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">signed</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    ios::<span class="built_in">sync_with_stdio</span>(<span class="literal">false</span>);</span><br><span class="line">    cin.<span class="built_in">tie</span>(<span class="literal">nullptr</span>);</span><br><span class="line">    string a,b;</span><br><span class="line">    cin&gt;&gt;a&gt;&gt;b;</span><br><span class="line">    <span class="type">int</span> n;</span><br><span class="line">    cin&gt;&gt;n;</span><br><span class="line">    <span class="type">int</span> zuo=<span class="number">0</span>,you=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">if</span>(a.<span class="built_in">size</span>()==<span class="number">4</span>)zuo=(a[<span class="number">0</span>]-<span class="string">&#x27;0&#x27;</span>)*<span class="number">60</span>+<span class="built_in">stoi</span>(a.<span class="built_in">substr</span>(<span class="number">2</span>));</span><br><span class="line">    <span class="keyword">else</span> zuo=(<span class="built_in">stoi</span>(a.<span class="built_in">substr</span>(<span class="number">0</span>,<span class="number">2</span>))*<span class="number">60</span>+<span class="built_in">stoi</span>(a.<span class="built_in">substr</span>(<span class="number">3</span>)));</span><br><span class="line">    <span class="keyword">if</span>(b.<span class="built_in">size</span>()==<span class="number">4</span>)you=(b[<span class="number">0</span>]-<span class="string">&#x27;0&#x27;</span>)*<span class="number">60</span>+<span class="built_in">stoi</span>(b.<span class="built_in">substr</span>(<span class="number">2</span>));</span><br><span class="line">    <span class="keyword">else</span> you=(<span class="built_in">stoi</span>(b.<span class="built_in">substr</span>(<span class="number">0</span>,<span class="number">2</span>))*<span class="number">60</span>+<span class="built_in">stoi</span>(b.<span class="built_in">substr</span>(<span class="number">3</span>)));</span><br><span class="line">    <span class="type">int</span> m=you-zuo;</span><br><span class="line">    vector&lt;ll&gt;<span class="built_in">dp</span>(m<span class="number">+1</span>);</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="type">int</span> v,w,s;</span><br><span class="line">        cin&gt;&gt;v&gt;&gt;w&gt;&gt;s;</span><br><span class="line">        <span class="keyword">if</span>(s==<span class="number">0</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> j=v;j&lt;=m;j++)dp[j]=<span class="built_in">max</span>(dp[j],dp[j-v]+w);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(s==<span class="number">1</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> j=m;j&gt;=v;j--)dp[j]=<span class="built_in">max</span>(dp[j],dp[j-v]+w);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> j=m;j&gt;=v;j--)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">for</span>(<span class="type">int</span> k=<span class="number">1</span>;k&lt;=s;k++)</span><br><span class="line">                &#123;</span><br><span class="line">                    <span class="keyword">if</span>(j&gt;=k*v)dp[j]=<span class="built_in">max</span>(dp[j],dp[j-k*v]+k*w);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    cout&lt;&lt;dp[m]&lt;&lt;<span class="string">&#x27;\n&#x27;</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="äºŒç»´è´¹ç”¨èƒŒåŒ…"><a href="#äºŒç»´è´¹ç”¨èƒŒåŒ…" class="headerlink" title="äºŒç»´è´¹ç”¨èƒŒåŒ…"></a>äºŒç»´è´¹ç”¨èƒŒåŒ…</h2><p>äºŒç»´è´¹ç”¨èƒŒåŒ…åŸºæœ¬ä¸Šå’Œä¸€ç»´çš„01èƒŒåŒ…æ˜¯ä¸€æ ·çš„ï¼Œåªä¸è¿‡å¤šå¼€äº†ä¸€ä¸ªç»´åº¦è€Œå·²</p>
<h3 id="P1855-æ¦¨å–kkksc03"><a href="#P1855-æ¦¨å–kkksc03" class="headerlink" title="P1855 æ¦¨å–kkksc03"></a>P1855 æ¦¨å–kkksc03</h3><p><a href="https://www.luogu.com.cn/problem/P1855">https://www.luogu.com.cn/problem/P1855</a></p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">using</span> u32 = <span class="type">unsigned</span>;</span><br><span class="line"><span class="meta">#<span class="keyword">define</span> i128 __int128;</span></span><br><span class="line"><span class="keyword">using</span> ll = <span class="type">long</span> <span class="type">long</span>;</span><br><span class="line"><span class="comment">//#define int ll</span></span><br><span class="line"><span class="keyword">using</span> u64 = <span class="type">unsigned</span> <span class="type">long</span> <span class="type">long</span>;</span><br><span class="line"><span class="type">const</span> ll inf = <span class="number">2147483647</span>;</span><br><span class="line"><span class="type">const</span> ll INF = <span class="number">1e18</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">signed</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    ios::<span class="built_in">sync_with_stdio</span>(<span class="literal">false</span>);</span><br><span class="line">    cin.<span class="built_in">tie</span>(<span class="literal">nullptr</span>);</span><br><span class="line">    <span class="type">int</span> n,m,t;</span><br><span class="line">    cin&gt;&gt;n&gt;&gt;m&gt;&gt;t;</span><br><span class="line">    vector&lt;vector&lt;<span class="type">int</span>&gt;&gt;<span class="built_in">dp</span>(m<span class="number">+1</span>,<span class="built_in">vector</span>&lt;<span class="type">int</span>&gt;(t<span class="number">+1</span>));</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="type">int</span> a,b;</span><br><span class="line">        cin&gt;&gt;a&gt;&gt;b;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j=m;j&gt;=a;j--)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> k=t;k&gt;=b;k--)</span><br><span class="line">            &#123;</span><br><span class="line">                dp[j][k]=<span class="built_in">max</span>(dp[j][k],dp[j-a][k-b]<span class="number">+1</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;    </span><br><span class="line">    cout&lt;&lt;dp[m][t]&lt;&lt;<span class="string">&#x27;\n&#x27;</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="åˆ†ç»„èƒŒåŒ…"><a href="#åˆ†ç»„èƒŒåŒ…" class="headerlink" title="åˆ†ç»„èƒŒåŒ…"></a>åˆ†ç»„èƒŒåŒ…</h2><p>åˆ†ç»„èƒŒåŒ…ä¹Ÿæ˜¯ä»å·¦ä¸Šè§’é€’æ¨è¿‡æ¥ï¼Œåªä¸è¿‡è¿™ä¸ªæ˜¯ç”±ä¸€ç»„ä¸­çš„å¤šä¸ªç‰©å“åˆ†åˆ«é€’æ¨è€Œæ¥ï¼Œè€Œå¤šé‡èƒŒåŒ…æ˜¯ç”±ç¬¬iä¸ªç‰©å“çš„ç¬¬kå€é€’æ¨è€Œæ¥</p>
<h3 id="P1757-é€šå¤©ä¹‹åˆ†ç»„èƒŒåŒ…"><a href="#P1757-é€šå¤©ä¹‹åˆ†ç»„èƒŒåŒ…" class="headerlink" title="P1757 é€šå¤©ä¹‹åˆ†ç»„èƒŒåŒ…"></a>P1757 é€šå¤©ä¹‹åˆ†ç»„èƒŒåŒ…</h3><p><a href="https://www.luogu.com.cn/problem/P1757">https://www.luogu.com.cn/problem/P1757</a></p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">using</span> u32 = <span class="type">unsigned</span>;</span><br><span class="line"><span class="meta">#<span class="keyword">define</span> i128 __int128;</span></span><br><span class="line"><span class="keyword">using</span> ll = <span class="type">long</span> <span class="type">long</span>;</span><br><span class="line"><span class="comment">//#define int ll</span></span><br><span class="line"><span class="keyword">using</span> u64 = <span class="type">unsigned</span> <span class="type">long</span> <span class="type">long</span>;</span><br><span class="line"><span class="type">const</span> ll inf = <span class="number">2147483647</span>;</span><br><span class="line"><span class="type">const</span> ll INF = <span class="number">1e18</span>;</span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">node</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> v,w;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="type">signed</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    ios::<span class="built_in">sync_with_stdio</span>(<span class="literal">false</span>);</span><br><span class="line">    cin.<span class="built_in">tie</span>(<span class="literal">nullptr</span>);</span><br><span class="line">    <span class="type">int</span> n,m;</span><br><span class="line">    cin&gt;&gt;m&gt;&gt;n;</span><br><span class="line">    vector&lt;ll&gt;<span class="built_in">dp</span>(m<span class="number">+1</span>);</span><br><span class="line">    <span class="type">int</span> k=-inf;</span><br><span class="line">    vector&lt;vector&lt;node&gt;&gt;<span class="built_in">a</span>(n<span class="number">+1</span>);</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="type">int</span> v,w,s;</span><br><span class="line">        cin&gt;&gt;v&gt;&gt;w&gt;&gt;s;</span><br><span class="line">        k=<span class="built_in">max</span>(k,s);</span><br><span class="line">        a[s].<span class="built_in">push_back</span>(&#123;v,w&#125;);</span><br><span class="line">    &#125;    </span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=k;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j=m;j&gt;=<span class="number">1</span>;j--)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">auto</span> [v,w]:a[i])</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">if</span>(j&gt;=v)dp[j]=<span class="built_in">max</span>(dp[j],dp[j-v]+w);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    cout&lt;&lt;dp[m]&lt;&lt;<span class="string">&#x27;\n&#x27;</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="æœ‰ä¾èµ–çš„èƒŒåŒ…"><a href="#æœ‰ä¾èµ–çš„èƒŒåŒ…" class="headerlink" title="æœ‰ä¾èµ–çš„èƒŒåŒ…"></a>æœ‰ä¾èµ–çš„èƒŒåŒ…</h1><h2 id="P1064-NOIP2006-æé«˜ç»„-é‡‘æ˜çš„é¢„ç®—æ–¹æ¡ˆ"><a href="#P1064-NOIP2006-æé«˜ç»„-é‡‘æ˜çš„é¢„ç®—æ–¹æ¡ˆ" class="headerlink" title="P1064 [NOIP2006 æé«˜ç»„] é‡‘æ˜çš„é¢„ç®—æ–¹æ¡ˆ"></a>P1064 [NOIP2006 æé«˜ç»„] é‡‘æ˜çš„é¢„ç®—æ–¹æ¡ˆ</h2><p><a href="https://www.luogu.com.cn/problem/P1064">https://www.luogu.com.cn/problem/P1064</a></p>
<p>è¿™ä¸€é¢˜æœ‰ä¸€è¯´ä¸€æ„Ÿè§‰ä¹Ÿæ˜¯ä¸€ç§åˆ†ç»„èƒŒåŒ…ï¼Œåªä¸è¿‡éœ€è¦ç»†åˆ†è¿›è¡Œè®¨è®ºè€Œå·²ã€‚å› ä¸ºä¸€ä¸ªç‰©å“çš„é™„å±ç‰©å“æœ€å¤šåªæœ‰ä¸¤ä»¶ï¼Œæ‰€ä»¥å¯ä»¥ç›´æ¥æšä¸¾è¿›è¡Œè®¨è®ºã€‚</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">using</span> u32 = <span class="type">unsigned</span>;</span><br><span class="line"><span class="meta">#<span class="keyword">define</span> i128 __int128;</span></span><br><span class="line"><span class="keyword">using</span> ll = <span class="type">long</span> <span class="type">long</span>;</span><br><span class="line"><span class="keyword">using</span> u64 = <span class="type">unsigned</span> <span class="type">long</span> <span class="type">long</span>;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> inf = <span class="number">2147483647</span>;</span><br><span class="line"><span class="type">const</span> ll INF = <span class="number">1e18</span>;</span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">node</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> v,p,q;</span><br><span class="line">    <span class="type">int</span> jz;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    ios::<span class="built_in">sync_with_stdio</span>(<span class="literal">false</span>);</span><br><span class="line">    cin.<span class="built_in">tie</span>(<span class="literal">nullptr</span>);</span><br><span class="line">    <span class="type">int</span> m,n;</span><br><span class="line">    cin&gt;&gt;m&gt;&gt;n;</span><br><span class="line">    vector&lt;node&gt;<span class="built_in">v</span>(n<span class="number">+1</span>);</span><br><span class="line">    vector&lt;vector&lt;<span class="type">int</span>&gt;&gt;<span class="built_in">adj</span>(n<span class="number">+1</span>);</span><br><span class="line">    vector&lt;ll&gt;<span class="built_in">dp</span>(m<span class="number">+1</span>);</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        cin&gt;&gt;v[i].v&gt;&gt;v[i].p&gt;&gt;v[i].q;</span><br><span class="line">        v[i].jz=v[i].v*v[i].p;</span><br><span class="line">        <span class="keyword">if</span>(v[i].q)adj[v[i].q].<span class="built_in">push_back</span>(i);</span><br><span class="line">    &#125;    </span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>(v[i].q)<span class="keyword">continue</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j=m;j&gt;=v[i].v;j--)</span><br><span class="line">        &#123;</span><br><span class="line">            dp[j]=<span class="built_in">max</span>(dp[j],dp[j-v[i].v]+v[i].jz);</span><br><span class="line">            <span class="keyword">if</span>(adj[i].<span class="built_in">size</span>()==<span class="number">2</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">if</span>(j&gt;=v[i].v+v[adj[i][<span class="number">0</span>]].v)dp[j]=<span class="built_in">max</span>(dp[j],dp[j-v[i].v-v[adj[i][<span class="number">0</span>]].v]+v[i].jz+v[adj[i][<span class="number">0</span>]].jz);</span><br><span class="line"></span><br><span class="line">                <span class="keyword">if</span>(j&gt;=v[i].v+v[adj[i][<span class="number">0</span>]].v+v[adj[i][<span class="number">1</span>]].v)dp[j]=<span class="built_in">max</span>(dp[j],dp[j-v[i].v-v[adj[i][<span class="number">0</span>]].v-v[adj[i][<span class="number">1</span>]].v]+v[i].jz+v[adj[i][<span class="number">0</span>]].jz+v[adj[i][<span class="number">1</span>]].jz);</span><br><span class="line"></span><br><span class="line">                <span class="keyword">if</span>(j&gt;=v[i].v+v[adj[i][<span class="number">1</span>]].v)dp[j]=<span class="built_in">max</span>(dp[j],dp[j-v[i].v-v[adj[i][<span class="number">1</span>]].v]+v[i].jz+v[adj[i][<span class="number">1</span>]].jz);</span><br><span class="line">                </span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span>(adj[i].<span class="built_in">size</span>()==<span class="number">1</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">if</span>(j&gt;=v[i].v+v[adj[i][<span class="number">0</span>]].v)dp[j]=<span class="built_in">max</span>(dp[j],dp[j-v[i].v-v[adj[i][<span class="number">0</span>]].v]+v[i].jz+v[adj[i][<span class="number">0</span>]].jz);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">    cout&lt;&lt;dp[m]&lt;&lt;<span class="string">&#x27;\n&#x27;</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

]]></content>
  </entry>
  <entry>
    <title>zzu  vjudgeæš‘å‡è®­ç»ƒday3--åŠ¨æ€è§„åˆ’</title>
    <url>/2024/11/29/zzu%20%20vjudge%E6%9A%91%E5%81%87%E8%AE%AD%E7%BB%83day3--%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92/</url>
    <content><![CDATA[<h1 id="zzu-vjudgeæš‘å‡è®­ç»ƒday3â€“åŠ¨æ€è§„åˆ’"><a href="#zzu-vjudgeæš‘å‡è®­ç»ƒday3â€“åŠ¨æ€è§„åˆ’" class="headerlink" title="zzu  vjudgeæš‘å‡è®­ç»ƒday3â€“åŠ¨æ€è§„åˆ’"></a>zzu  vjudgeæš‘å‡è®­ç»ƒday3â€“åŠ¨æ€è§„åˆ’</h1><h2 id="Bæœ€é•¿ä¸Šå‡å­åºåˆ—"><a href="#Bæœ€é•¿ä¸Šå‡å­åºåˆ—" class="headerlink" title="Bæœ€é•¿ä¸Šå‡å­åºåˆ—"></a>Bæœ€é•¿ä¸Šå‡å­åºåˆ—</h2><p><a href="https://www.luogu.com.cn/problem/B3637">https://www.luogu.com.cn/problem/B3637</a></p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">using</span> u32 = <span class="type">unsigned</span>;</span><br><span class="line"><span class="keyword">using</span> ll = <span class="type">long</span> <span class="type">long</span>;</span><br><span class="line"><span class="keyword">using</span> u64 = <span class="type">unsigned</span> <span class="type">long</span> <span class="type">long</span>;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> inf = <span class="number">2147483647</span>;</span><br><span class="line"><span class="type">const</span> ll INF = <span class="number">1e18</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    ios::<span class="built_in">sync_with_stdio</span>(<span class="literal">false</span>);</span><br><span class="line">    cin.<span class="built_in">tie</span>(<span class="literal">nullptr</span>);</span><br><span class="line">    <span class="type">int</span> n;</span><br><span class="line">    cin&gt;&gt;n;</span><br><span class="line">    vector&lt;<span class="type">int</span>&gt;<span class="built_in">a</span>(n<span class="number">+1</span>),<span class="built_in">dp</span>(n<span class="number">+1</span>,<span class="number">1</span>);</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++)cin&gt;&gt;a[i];   </span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j=<span class="number">1</span>;j&lt;i;j++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span>(a[j]&lt;a[i])<span class="comment">// éå†iä¹‹å‰çš„dpæ•°ç»„ï¼Œå¦‚æœa[j]&lt;a[i],æ›´æ–°dp[j];</span></span><br><span class="line">            dp[i]=<span class="built_in">max</span>(dp[i],dp[j]<span class="number">+1</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    cout&lt;&lt;*<span class="built_in">max_element</span>(dp.<span class="built_in">begin</span>()<span class="number">+1</span>,dp.<span class="built_in">end</span>())&lt;&lt;<span class="string">&#x27;\n&#x27;</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h2 id="Dè£…ç®±é—®é¢˜"><a href="#Dè£…ç®±é—®é¢˜" class="headerlink" title="Dè£…ç®±é—®é¢˜"></a>Dè£…ç®±é—®é¢˜</h2><p><a href="https://www.luogu.com.cn/problem/P1049">https://www.luogu.com.cn/problem/P1049</a></p>
<p>&#x3D;&#x3D;è¿™ä¸€é¢˜æ˜¯ä¸ªå®Œå…¨èƒŒåŒ…é—®é¢˜&#x3D;&#x3D;</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">using</span> u32 = <span class="type">unsigned</span>;</span><br><span class="line"><span class="keyword">using</span> ll = <span class="type">long</span> <span class="type">long</span>;</span><br><span class="line"><span class="keyword">using</span> u64 = <span class="type">unsigned</span> <span class="type">long</span> <span class="type">long</span>;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> inf = <span class="number">2147483647</span>;</span><br><span class="line"><span class="type">const</span> ll INF = <span class="number">1e18</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    ios::<span class="built_in">sync_with_stdio</span>(<span class="literal">false</span>);</span><br><span class="line">    cin.<span class="built_in">tie</span>(<span class="literal">nullptr</span>);</span><br><span class="line">    <span class="type">int</span> n,v;</span><br><span class="line">    cin&gt;&gt;v&gt;&gt;n;</span><br><span class="line">    vector&lt;<span class="type">int</span>&gt;<span class="built_in">a</span>(n<span class="number">+1</span>),<span class="built_in">dp</span>(v<span class="number">+1</span>);</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++)cin&gt;&gt;a[i];</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j=v;j&gt;=<span class="number">1</span>;j--)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span>(j&gt;=a[i])</span><br><span class="line">            dp[j]=<span class="built_in">max</span>(dp[j],dp[j-a[i]]+a[i]);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    cout&lt;&lt;v-dp[v]&lt;&lt;<span class="string">&#x27;\n&#x27;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="E-æ¦¨å–kkksc03"><a href="#E-æ¦¨å–kkksc03" class="headerlink" title="E - æ¦¨å–kkksc03"></a>E - æ¦¨å–kkksc03</h2><p><a href="https://www.luogu.com.cn/problem/P1855">https://www.luogu.com.cn/problem/P1855</a></p>
<p>&#x3D;&#x3D;è¿™ä¸€é¢˜æ˜¯ä¸ªåŒé‡èƒŒåŒ…ï¼Œå¼€äºŒç»´dpæ•°ç»„å°±è¡Œäº†&#x3D;&#x3D;</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">using</span> u32 = <span class="type">unsigned</span>;</span><br><span class="line"><span class="keyword">using</span> ll = <span class="type">long</span> <span class="type">long</span>;</span><br><span class="line"><span class="keyword">using</span> u64 = <span class="type">unsigned</span> <span class="type">long</span> <span class="type">long</span>;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> inf = <span class="number">2147483647</span>;</span><br><span class="line"><span class="type">const</span> ll INF = <span class="number">1e18</span>;</span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">node</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> m,v;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    ios::<span class="built_in">sync_with_stdio</span>(<span class="literal">false</span>);</span><br><span class="line">    cin.<span class="built_in">tie</span>(<span class="literal">nullptr</span>);</span><br><span class="line">    <span class="type">int</span> n,m,t;</span><br><span class="line">    cin&gt;&gt;n&gt;&gt;m&gt;&gt;t;</span><br><span class="line">    vector&lt;node&gt;<span class="built_in">a</span>(n<span class="number">+1</span>);</span><br><span class="line">    vector&lt;vector&lt;<span class="type">int</span>&gt;&gt;<span class="built_in">dp</span>(m<span class="number">+1</span>,<span class="built_in">vector</span>&lt;<span class="type">int</span>&gt;(t<span class="number">+1</span>));    </span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++)cin&gt;&gt;a[i].m&gt;&gt;a[i].v;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j=m;j&gt;=a[i].m;j--)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> k=t;k&gt;=a[i].v;k--)</span><br><span class="line">            &#123;</span><br><span class="line">                dp[j][k]=<span class="built_in">max</span>(dp[j][k],dp[j-a[i].m][k-a[i].v]<span class="number">+1</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    cout&lt;&lt;dp[m][t]&lt;&lt;<span class="string">&#x27;\n&#x27;</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="F-çŸ³å­åˆå¹¶"><a href="#F-çŸ³å­åˆå¹¶" class="headerlink" title="F - çŸ³å­åˆå¹¶"></a>F - çŸ³å­åˆå¹¶</h2><p><a href="https://www.luogu.com.cn/problem/P1880">https://www.luogu.com.cn/problem/P1880</a></p>
<p>&#x3D;&#x3D;è¿™ä¸€é¢˜æœ¬æ¥æ˜¯æƒ³ç”¨è´ªå¿ƒç®—æ³•çš„ï¼Œä½†æ˜¯è´ªå¿ƒæœ¬è´¨é€»è¾‘æ˜¯é”™è¯¯çš„ï¼Œåº”è¯¥ç”¨åŒºé—´dp&#x3D;&#x3D;</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">using</span> u32 = <span class="type">unsigned</span>;</span><br><span class="line"><span class="keyword">using</span> ll = <span class="type">long</span> <span class="type">long</span>;</span><br><span class="line"><span class="keyword">using</span> u64 = <span class="type">unsigned</span> <span class="type">long</span> <span class="type">long</span>;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> inf = <span class="number">2147483647</span>;</span><br><span class="line"><span class="type">const</span> ll INF = <span class="number">1e18</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    ios::<span class="built_in">sync_with_stdio</span>(<span class="literal">false</span>);</span><br><span class="line">    cin.<span class="built_in">tie</span>(<span class="literal">nullptr</span>);</span><br><span class="line">    <span class="type">int</span> n;</span><br><span class="line">    cin&gt;&gt;n;</span><br><span class="line">    vector&lt;<span class="type">int</span>&gt;<span class="built_in">a</span>(<span class="number">2</span>*n<span class="number">+1</span>);</span><br><span class="line">    vector&lt;vector&lt;<span class="type">int</span>&gt;&gt;<span class="built_in">f</span>(<span class="number">2</span>*n<span class="number">+1</span>,<span class="built_in">vector</span>&lt;<span class="type">int</span>&gt;(<span class="number">2</span>*n<span class="number">+1</span>,inf/<span class="number">2</span>)),<span class="built_in">g</span>(<span class="number">2</span>*n<span class="number">+1</span>,<span class="built_in">vector</span>&lt;<span class="type">int</span>&gt;(<span class="number">2</span>*n<span class="number">+1</span>,-inf/<span class="number">2</span>));</span><br><span class="line">    vector&lt;ll&gt;<span class="built_in">prev</span>(<span class="number">2</span>*n<span class="number">+1</span>);</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        cin&gt;&gt;a[i];</span><br><span class="line">        a[i+n]=a[i];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=<span class="number">2</span>*n;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        prev[i]+=prev[i<span class="number">-1</span>]+a[i];</span><br><span class="line">        f[i][i]=<span class="number">0</span>;</span><br><span class="line">        g[i][i]=<span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> len=<span class="number">2</span>;len&lt;=n;len++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i+len<span class="number">-1</span>&lt;=<span class="number">2</span>*n;i++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="type">int</span> j=i+len<span class="number">-1</span>;</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> k=i;k&lt;j;k++)</span><br><span class="line">            &#123;</span><br><span class="line">                f[i][j]=<span class="built_in">min</span>(<span class="number">1LL</span>*f[i][j],f[i][k]+f[k<span class="number">+1</span>][j]+prev[j]-prev[i<span class="number">-1</span>]);</span><br><span class="line">                g[i][j]=<span class="built_in">max</span>(<span class="number">1LL</span>*g[i][j],g[i][k]+g[k<span class="number">+1</span>][j]+prev[j]-prev[i<span class="number">-1</span>]);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">int</span> minn=inf,maxn=-inf;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        minn=<span class="built_in">min</span>(minn,f[i][i+n<span class="number">-1</span>]);</span><br><span class="line">        maxn=<span class="built_in">max</span>(maxn,g[i][i+n<span class="number">-1</span>]);</span><br><span class="line">    &#125;</span><br><span class="line">    cout&lt;&lt;minn&lt;&lt;<span class="string">&#x27;\n&#x27;</span>&lt;&lt;maxn&lt;&lt;<span class="string">&#x27;\n&#x27;</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>è¿™ä¸ªæ˜¯æ´›è°·ä¸ŠçŸ³å­åˆå¹¶çš„å¼±åŒ–ç‰ˆï¼Œè¿™ä¸ªçŸ³å­æ˜¯å‘ˆçº¿æ€§åˆ†å¸ƒçš„</strong></p>
<p><a href="https://www.luogu.com.cn/problem/P1775">https://www.luogu.com.cn/problem/P1775</a></p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">using</span> u32 = <span class="type">unsigned</span>;</span><br><span class="line"><span class="keyword">using</span> ll = <span class="type">long</span> <span class="type">long</span>;</span><br><span class="line"><span class="keyword">using</span> u64 = <span class="type">unsigned</span> <span class="type">long</span> <span class="type">long</span>;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> inf = <span class="number">2147483647</span>;</span><br><span class="line"><span class="type">const</span> ll INF = <span class="number">1e18</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    ios::<span class="built_in">sync_with_stdio</span>(<span class="literal">false</span>);</span><br><span class="line">    cin.<span class="built_in">tie</span>(<span class="literal">nullptr</span>);</span><br><span class="line">    <span class="type">int</span> n;</span><br><span class="line">    cin&gt;&gt;n;</span><br><span class="line">    vector&lt;ll&gt;<span class="built_in">prev</span>(n<span class="number">+1</span>);</span><br><span class="line">    vector&lt;<span class="type">int</span>&gt;<span class="built_in">a</span>(n<span class="number">+1</span>);</span><br><span class="line">    vector&lt;vector&lt;<span class="type">int</span>&gt;&gt;<span class="built_in">dp</span>(n<span class="number">+1</span>,<span class="built_in">vector</span>&lt;<span class="type">int</span>&gt;(n<span class="number">+1</span>,inf/<span class="number">2</span>));</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        cin&gt;&gt;a[i];</span><br><span class="line">        prev[i]=prev[i<span class="number">-1</span>]+a[i];</span><br><span class="line">        dp[i][i]=<span class="number">0</span>;<span class="comment">// åˆå¹¶æ¯ä¸ªiæœ¬èº«æ²¡æœ‰èŠ±è´¹ï¼Œæ‰€ä»¥ç›´æ¥åˆå§‹åŒ–ä¸º0</span></span><br><span class="line">    &#125;    </span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> len=<span class="number">2</span>;len&lt;=n;len++)<span class="comment">// åŒºé—´çš„å¤§å°ï¼Œä»2åˆ°n</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i+len<span class="number">-1</span>&lt;=n;i++)<span class="comment">//åŒºé—´èµ·ç‚¹</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="type">int</span> j=i+len<span class="number">-1</span>;<span class="comment">// åŒºé—´ç»ˆç‚¹</span></span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> k=i;k&lt;j;k++)<span class="comment">// åˆ‡å‰²ä½ç½®</span></span><br><span class="line">            &#123;</span><br><span class="line">                dp[i][j]=<span class="built_in">min</span>(<span class="number">1LL</span>*dp[i][j],dp[i][k]+dp[k<span class="number">+1</span>][j]+prev[j]-prev[i<span class="number">-1</span>]);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    cout&lt;&lt;dp[<span class="number">1</span>][n]&lt;&lt;<span class="string">&#x27;\n&#x27;</span>;<span class="comment">// åˆå¹¶ä»1åˆ°nè¿™ä¸ªåŒºé—´çš„æœ€å°èŠ±è´¹</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="USACO16OPEN-248-G"><a href="#USACO16OPEN-248-G" class="headerlink" title="[USACO16OPEN] 248 G"></a>[USACO16OPEN] 248 G</h2><p><a href="https://www.luogu.com.cn/problem/P3146">https://www.luogu.com.cn/problem/P3146</a></p>
<p>&#x3D;&#x3D;åŒºé—´dp&#x3D;&#x3D;</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">using</span> u32 = <span class="type">unsigned</span>;</span><br><span class="line"><span class="keyword">using</span> ll = <span class="type">long</span> <span class="type">long</span>;</span><br><span class="line"><span class="keyword">using</span> u64 = <span class="type">unsigned</span> <span class="type">long</span> <span class="type">long</span>;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> inf = <span class="number">2147483647</span>;</span><br><span class="line"><span class="type">const</span> ll INF = <span class="number">1e18</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    ios::<span class="built_in">sync_with_stdio</span>(<span class="literal">false</span>);</span><br><span class="line">    cin.<span class="built_in">tie</span>(<span class="literal">nullptr</span>);</span><br><span class="line">    <span class="type">int</span> n;</span><br><span class="line">    cin&gt;&gt;n;</span><br><span class="line">    vector&lt;<span class="type">int</span>&gt;<span class="built_in">a</span>(n<span class="number">+1</span>);</span><br><span class="line">    <span class="type">int</span> ret=-inf;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++)&#123;cin&gt;&gt;a[i];ret=<span class="built_in">max</span>(ret,a[i]);&#125;</span><br><span class="line">    vector&lt;vector&lt;<span class="type">int</span>&gt;&gt;<span class="built_in">dp</span>(n<span class="number">+1</span>,<span class="built_in">vector</span>&lt;<span class="type">int</span>&gt;(n<span class="number">+1</span>));</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++)dp[i][i]=a[i];  <span class="comment">// dp[i][j]æ•°ç»„è¡¨ç¤ºå°†ä»iåˆ°jå®Œå…¨åˆå¹¶æ‰€èƒ½ç”Ÿæˆçš„å€¼ï¼Œå¦‚æœä¸èƒ½åˆå¹¶å°±æ˜¯0</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> len=<span class="number">2</span>;len&lt;=n;len++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i+len<span class="number">-1</span>&lt;=n;i++)</span><br><span class="line">        &#123;   </span><br><span class="line">            <span class="type">int</span> j=i+len<span class="number">-1</span>;</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> k=i;k&lt;j;k++)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="comment">// åŠ è¿™ä¸ªdp[i][k]æ˜¯é˜²æ­¢dp[i][k]å’Œdp[k+1][j]éƒ½æ˜¯0è€Œå¼ºè¡Œåˆå¹¶æˆ1 </span></span><br><span class="line">                <span class="keyword">if</span>(dp[i][k]==dp[k<span class="number">+1</span>][j]&amp;&amp;dp[i][k])dp[i][j]=<span class="built_in">max</span>(dp[i][j],dp[i][k]<span class="number">+1</span>);</span><br><span class="line">                ret=<span class="built_in">max</span>(ret,dp[i][j]);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    cout&lt;&lt;ret&lt;&lt;<span class="string">&#x27;\n&#x27;</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h2 id="H-æ²¡æœ‰ä¸Šå¸çš„èˆä¼š"><a href="#H-æ²¡æœ‰ä¸Šå¸çš„èˆä¼š" class="headerlink" title="H - æ²¡æœ‰ä¸Šå¸çš„èˆä¼š"></a>H - æ²¡æœ‰ä¸Šå¸çš„èˆä¼š</h2><p><a href="https://www.luogu.com.cn/problem/P1352">https://www.luogu.com.cn/problem/P1352</a></p>
<p>&#x3D;&#x3D;æ ‘å½¢DP,é¦–å…ˆæ„å»ºå‡ºæ•´ä¸ªæ ‘çš„ç»“æ„ï¼Œç„¶åæ‰¾å‡ºæ ¹èŠ‚ç‚¹ï¼Œå°†æ¯ä¸ªèŠ‚ç‚¹åˆ†ä¸ºé€‰å’Œä¸é€‰ä¸¤ä¸ªçŠ¶æ€ï¼ˆç”±dpæ•°ç»„ç¬¬äºŒç»´æ§åˆ¶ï¼Œ0ä¸ºä¸é€‰ï¼Œ1ä¸ºé€‰ï¼‰ï¼Œç„¶åé€’å½’æ±‚è§£&#x3D;&#x3D;</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">using</span> u32 = <span class="type">unsigned</span>;</span><br><span class="line"><span class="keyword">using</span> ll = <span class="type">long</span> <span class="type">long</span>;</span><br><span class="line"><span class="keyword">using</span> u64 = <span class="type">unsigned</span> <span class="type">long</span> <span class="type">long</span>;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> inf = <span class="number">2147483647</span>;</span><br><span class="line"><span class="type">const</span> ll INF = <span class="number">1e18</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    ios::<span class="built_in">sync_with_stdio</span>(<span class="literal">false</span>);</span><br><span class="line">    cin.<span class="built_in">tie</span>(<span class="literal">nullptr</span>);</span><br><span class="line">    <span class="type">int</span> n;</span><br><span class="line">    cin&gt;&gt;n;</span><br><span class="line">    vector&lt;<span class="type">int</span>&gt;<span class="built_in">a</span>(n<span class="number">+1</span>),<span class="built_in">fa</span>(n<span class="number">+1</span>);</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++)cin&gt;&gt;a[i];</span><br><span class="line">    vector&lt;vector&lt;<span class="type">int</span>&gt;&gt;adj;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;n;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="type">int</span> a,b;</span><br><span class="line">        cin&gt;&gt;a&gt;&gt;b;</span><br><span class="line">        adj[b].<span class="built_in">push_back</span>(a);</span><br><span class="line">        fa[a]=b;</span><br><span class="line">    &#125;    </span><br><span class="line">    <span class="type">int</span> root=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>(fa[i]==<span class="number">0</span>)&#123;root=i;<span class="keyword">break</span>;&#125;</span><br><span class="line">    &#125;</span><br><span class="line">    vector&lt;vector&lt;<span class="type">int</span>&gt;&gt;<span class="built_in">dp</span>(n<span class="number">+1</span>,<span class="built_in">vector</span>&lt;<span class="type">int</span>&gt;(<span class="number">2</span>));</span><br><span class="line">    <span class="keyword">auto</span> dfs=[&amp;](<span class="keyword">auto</span> self,<span class="type">int</span> u)-&gt;<span class="type">void</span>&#123;</span><br><span class="line">        dp[u][<span class="number">1</span>]+=a[u];</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">auto</span> v:adj[u])</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">self</span>(self,v);</span><br><span class="line">            dp[u][<span class="number">1</span>]+=dp[v][<span class="number">0</span>];</span><br><span class="line">            dp[u][<span class="number">0</span>]+=<span class="built_in">max</span>(dp[v][<span class="number">0</span>],dp[v][<span class="number">1</span>]);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="built_in">dfs</span>(dfs,root);</span><br><span class="line">    cout&lt;&lt;<span class="built_in">max</span>(dp[root][<span class="number">0</span>],dp[root][<span class="number">1</span>])&lt;&lt;<span class="string">&quot;\n&quot;</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="æœ€å¤§å­æ®µå’Œ"><a href="#æœ€å¤§å­æ®µå’Œ" class="headerlink" title="æœ€å¤§å­æ®µå’Œ"></a>æœ€å¤§å­æ®µå’Œ</h2><p><a href="https://www.luogu.com.cn/problem/P1115">https://www.luogu.com.cn/problem/P1115</a></p>
<p>&#x3D;&#x3D;è¿™ä¸€ä¸ªé¢˜å°±æ˜¯å¸¸è§„çš„DPï¼Œä¸è¿‡è´ªå¿ƒæ›´å®¹æ˜“æƒ³åˆ°&#x3D;&#x3D;</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">using</span> ll = <span class="type">long</span> <span class="type">long</span>; </span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N=<span class="number">2e5</span><span class="number">+10</span>;</span><br><span class="line"><span class="type">int</span> arr[N];</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    cin.<span class="built_in">tie</span>(<span class="literal">nullptr</span>)-&gt;ios::<span class="built_in">sync_with_stdio</span>(<span class="literal">false</span>);</span><br><span class="line">    <span class="type">int</span> n;</span><br><span class="line">    cin&gt;&gt;n;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        cin&gt;&gt;arr[i];</span><br><span class="line">    &#125;</span><br><span class="line">    vector&lt;<span class="type">int</span>&gt;<span class="built_in">dp</span>(n<span class="number">+1</span>);</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>(dp[i<span class="number">-1</span>]&gt;<span class="number">0</span>)dp[i]=dp[i<span class="number">-1</span>]+arr[i];</span><br><span class="line">        <span class="keyword">else</span> dp[i]=arr[i];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">int</span> ret=*<span class="built_in">max_element</span>(dp.<span class="built_in">begin</span>()<span class="number">+1</span>,dp.<span class="built_in">end</span>());</span><br><span class="line">    cout&lt;&lt;ret&lt;&lt;<span class="string">&quot;\n&quot;</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="ä¹Œé¾Ÿæ£‹"><a href="#ä¹Œé¾Ÿæ£‹" class="headerlink" title="ä¹Œé¾Ÿæ£‹"></a>ä¹Œé¾Ÿæ£‹</h2><p><a href="https://www.luogu.com.cn/problem/P1541">https://www.luogu.com.cn/problem/P1541</a></p>
<p>&#x3D;&#x3D;æœ¬é¢˜ç”±äºè§„å®šæ¯ä¸ªæ•°å­—æœ€å¤šæœ‰40ä¸ªï¼Œé™å®šäº†å¤§å°ï¼Œå¯ä»¥å¼€å››ç»´æ•°ç»„æ±‚è§£</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">using</span> u32 = <span class="type">unsigned</span>;</span><br><span class="line"><span class="keyword">using</span> ll = <span class="type">long</span> <span class="type">long</span>;</span><br><span class="line"><span class="keyword">using</span> u64 = <span class="type">unsigned</span> <span class="type">long</span> <span class="type">long</span>;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> inf = <span class="number">2147483647</span>;</span><br><span class="line"><span class="type">const</span> ll INF = <span class="number">1e18</span>;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> maxn=<span class="number">41</span>;</span><br><span class="line"><span class="type">int</span> dp[maxn][maxn][maxn][maxn];</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    ios::<span class="built_in">sync_with_stdio</span>(<span class="literal">false</span>);</span><br><span class="line">    cin.<span class="built_in">tie</span>(<span class="literal">nullptr</span>);</span><br><span class="line">    <span class="type">int</span> n,m;</span><br><span class="line">    cin&gt;&gt;n&gt;&gt;m;</span><br><span class="line">    vector&lt;<span class="type">int</span>&gt;<span class="built_in">a</span>(n<span class="number">+1</span>);</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++)cin&gt;&gt;a[i];</span><br><span class="line">    vector&lt;<span class="type">int</span>&gt;<span class="built_in">cnt</span>(<span class="number">5</span>);</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=m;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="type">int</span> x;</span><br><span class="line">        cin&gt;&gt;x;</span><br><span class="line">        cnt[x]++;</span><br><span class="line">    &#125;</span><br><span class="line">    dp[<span class="number">0</span>][<span class="number">0</span>][<span class="number">0</span>][<span class="number">0</span>]=a[<span class="number">1</span>];</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;=cnt[<span class="number">1</span>];i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j=<span class="number">0</span>;j&lt;=cnt[<span class="number">2</span>];j++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> k=<span class="number">0</span>;k&lt;=cnt[<span class="number">3</span>];k++)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">for</span>(<span class="type">int</span> d=<span class="number">0</span>;d&lt;=cnt[<span class="number">4</span>];d++)</span><br><span class="line">                &#123;</span><br><span class="line">                    <span class="type">int</span> r=<span class="number">1</span>+i*<span class="number">1</span>+j*<span class="number">2</span>+k*<span class="number">3</span>+d*<span class="number">4</span>;<span class="comment">// è®¡ç®—åˆ°è¾¾çš„ä½ç½®</span></span><br><span class="line">                    <span class="keyword">if</span>(i)dp[i][j][k][d]=<span class="built_in">max</span>(dp[i][j][k][d],dp[i<span class="number">-1</span>][j][k][d]+a[r]);</span><br><span class="line">                    <span class="keyword">if</span>(j)dp[i][j][k][d]=<span class="built_in">max</span>(dp[i][j][k][d],dp[i][j<span class="number">-1</span>][k][d]+a[r]);</span><br><span class="line">                    <span class="keyword">if</span>(k)dp[i][j][k][d]=<span class="built_in">max</span>(dp[i][j][k][d],dp[i][j][k<span class="number">-1</span>][d]+a[r]);</span><br><span class="line">                    <span class="keyword">if</span>(d)dp[i][j][k][d]=<span class="built_in">max</span>(dp[i][j][k][d],dp[i][j][k][d<span class="number">-1</span>]+a[r]);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    cout&lt;&lt;dp[cnt[<span class="number">1</span>]][cnt[<span class="number">2</span>]][cnt[<span class="number">3</span>]][cnt[<span class="number">4</span>]]&lt;&lt;<span class="string">&#x27;\n&#x27;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

]]></content>
  </entry>
</search>
